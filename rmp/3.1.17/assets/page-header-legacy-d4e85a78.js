!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}var n=["version"],t=["version"];function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return n};var n={},t=Object.prototype,i=t.hasOwnProperty,o=Object.defineProperty||function(e,n,t){e[n]=t.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(P){u=function(e,n,t){return e[n]=t}}function h(e,n,t,r){var i=n&&n.prototype instanceof f?n:f,s=Object.create(i.prototype),a=new C(r||[]);return o(s,"_invoke",{value:k(e,t,a)}),s}function d(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(P){return{type:"throw",arg:P}}}n.wrap=h;var p={};function f(){}function m(){}function x(){}var g={};u(g,a,(function(){return this}));var j=Object.getPrototypeOf,v=j&&j(j(E([])));v&&v!==t&&i.call(v,a)&&(g=v);var y=x.prototype=f.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function w(n,t){function r(o,s,a,c){var l=d(n[o],n,s);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==e(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var s;o(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return s=s?s.then(i,i):i()}})}function k(e,n,t){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return H()}for(t.method=i,t.arg=o;;){var s=t.delegate;if(s){var a=O(s,t);if(a){if(a===p)continue;return a}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var c=d(e,n,t);if("normal"===c.type){if(r=t.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(r="completed",t.method="throw",t.arg=c.arg)}}}function O(e,n){var t=n.method,r=e.iterator[t];if(void 0===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=void 0,O(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),p;var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function z(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function S(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function E(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var t=-1,r=function n(){for(;++t<e.length;)if(i.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=void 0,n.done=!0,n};return r.next=r}}return{next:H}}function H(){return{value:void 0,done:!0}}return m.prototype=x,o(y,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:m,configurable:!0}),m.displayName=u(x,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},n.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,c,(function(){return this})),n.AsyncIterator=w,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var s=new w(h(e,t,r,i),o);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),u(y,l,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return s.type="throw",s.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=n,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),p},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),S(t),p}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;S(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:E(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),p}},n}function i(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function o(e,n,t,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(r,i)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function a(e){o(s,r,i,a,c,"next",e)}function c(e){o(s,r,i,a,c,"throw",e)}a(void 0)}))}}function a(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(n,t,r){return(t=function(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var i=r.call(n,t||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(a.push(r.value),a.length!==n);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,n)||d(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./chakra-legacy-dc6bd5f4.js","./react-legacy-d8ea2a5a.js","./index-legacy-8eb2fff9.js","./stations-legacy-ff716140.js","./helpers-legacy-45987c2a.js","./change-types-legacy-429957de.js"],(function(e,o){"use strict";var c,d,p,f,m,x,g,j,v,y,b,w,k,O,z,S,C,E,H,P,A,_,N,R,T,I,L,M,B,D,G,F,U,V,W,K,Y,q,$,J,Z,Q,X,ee,ne,te,re,ie,oe,se,ae,ce,le,ue,he,de,pe,fe,me,xe,ge,je,ve,ye,be,we,ke,Oe,ze,Se,Ce,Ee,He,Pe,Ae,_e,Ne,Re,Te,Ie,Le,Me,Be,De,Ge,Fe,Ue,Ve,We,Ke,Ye,qe,$e,Je,Ze,Qe,Xe,en,nn,tn,rn,on,sn,an,cn,ln,un,hn,dn,pn,fn,mn,xn,gn,jn,vn,yn,bn,wn;return{setters:[function(e){c=e.a9,d=e.j,p=e.aa,f=e.Q,m=e.ab,x=e.ac,g=e.G,j=e.ad,v=e.ae,y=e.k,b=e.a0,w=e.M,k=e.a1,O=e.p,z=e.q,S=e.r,C=e.af,E=e.g,H=e.w,P=e.a8,A=e.v,_=e.ag,N=e.s,R=e.t,T=e.ah,I=e.h,L=e.F,M=e.$,B=e.B,D=e.ai,G=e.a2,F=e.aj,U=e.ak,V=e.al,W=e.c,K=e.i,Y=e.e,q=e.f,$=e.am,J=e.an,Z=e.O,Q=e.ao,X=e.ap,ee=e.aq,ne=e.ar,te=e.as,re=e.at,ie=e.au,oe=e.av,se=e.aw,ae=e.x,ce=e.y},function(e){le=e.g,ue=e.r,he=e._,de=e.e,pe=e.b},function(e){fe=e.w,me=e.g,xe=e.a,ge=e.b,je=e.I,ve=e.u,ye=e.r,be=e.n,we=e.S,ke=e.L,Oe=e.l,ze=e.c,Se=e.R,Ce=e.d,Ee=e.e,He=e.s,Pe=e.f,Ae=e.h,_e=e.i,Ne=e.j,Re=e.M,Te=e.k,Ie=e.m,Le=e.o,Me=e.p,Be=e.q,De=e.t,Ge=e.v,Fe=e.x,Ue=e.y,Ve=e.z,We=e.A,Ke=e.E,Ye=e.B,qe=e.C,$e=e.D,Je=e.F,Ze=e.G,Qe=e.T,Xe=e.H,en=e.J,nn=e.K,tn=e.N,rn=e.O,on=e.P,sn=e.Q,an=e.U,cn=e.V,ln=e.W,un=e.X,hn=e.Y,dn=e.Z,pn=e._,fn=e.$,mn=e.a0,xn=e.a1,gn=e.a2,jn=e.a3},function(e){vn=e.s},function(e){yn=e.c,bn=e.i},function(e){wn=e.c}],execute:function(){function o(e,n){if(null==e)return{};var t,r,i=c(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}e("default",(function(){return d.jsxs(d.Fragment,{children:[d.jsx(mt,{}),d.jsx(xt,{})]})}));var kn=le({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),On=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function zn(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(kn[t[1]]||"/"===e.charAt(e.length-2))&&(n.voidElement=!0),n.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var i=new RegExp(On),o=null;null!==(o=i.exec(e));)if(o[0].trim())if(o[1]){var s=o[1].trim(),a=[s,""];s.indexOf("=")>-1&&(a=s.split("=")),n.attrs[a[0]]=a[1],i.lastIndex--}else o[2]&&(n.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return n}var Sn=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Cn=/^\s*$/,En=Object.create(null);var Hn=function(e,n){n||(n={}),n.components||(n.components=En);var t,r=[],i=[],o=-1,s=!1;if(0!==e.indexOf("<")){var a=e.indexOf("<");r.push({type:"text",content:-1===a?e:e.substring(0,a)})}return e.replace(Sn,(function(a,c){if(s){if(a!=="</"+t.name+">")return;s=!1}var l,u="/"!==a.charAt(1),h=a.startsWith("\x3c!--"),d=c+a.length,p=e.charAt(d);if(h){var f=zn(a);return o<0?(r.push(f),r):((l=i[o]).children.push(f),r)}if(u&&(o++,"tag"===(t=zn(a)).type&&n.components[t.name]&&(t.type="component",s=!0),t.voidElement||s||!p||"<"===p||t.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),0===o&&r.push(t),(l=i[o-1])&&l.children.push(t),i[o]=t),(!u||t.voidElement)&&(o>-1&&(t.voidElement||t.name===a.slice(2,-1))&&(o--,t=-1===o?r:i[o]),!s&&"<"!==p&&p)){l=-1===o?r:i[o].children;var m=e.indexOf("<",d),x=e.slice(d,-1===m?void 0:m);Cn.test(x)&&(x=" "),(m>-1&&o+l.length>=0||" "!==x)&&l.push({type:"text",content:x})}})),r},Pn=["format"],An=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function _n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_n(Object(t),!0).forEach((function(n){he(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Rn(e,n){if(!e)return!1;var t=e.props?e.props.children:e.children;return n?t.length>0:!!t}function Tn(e){return e?e.props?e.props.children:e.children:[]}function In(e){return Array.isArray(e)?e:[e]}function Ln(e,n){if(!e)return"";var t="",r=In(e),i=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return r.forEach((function(e,r){if("string"==typeof e)t+="".concat(e);else if(ue.isValidElement(e)){var s=Object.keys(e.props).length,a=i.indexOf(e.type)>-1,c=e.props.children;if(!c&&a&&0===s)t+="<".concat(e.type,"/>");else if(c||a&&0===s)if(e.props.i18nIsDynamicList)t+="<".concat(r,"></").concat(r,">");else if(a&&1===s&&"string"==typeof c)t+="<".concat(e.type,">").concat(c,"</").concat(e.type,">");else{var l=Ln(c,n);t+="<".concat(r,">").concat(l,"</").concat(r,">")}else t+="<".concat(r,"></").concat(r,">")}else if(null===e)xe("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===de(e)){var u=e.format,h=o(e,Pn),d=Object.keys(h);if(1===d.length){var p=u?"".concat(d[0],", ").concat(u):d[0];t+="{{".concat(p,"}}")}else xe("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else xe("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),t}function Mn(e,n,t,r,i,o){if(""===n)return[];var s=r.transKeepBasicHtmlNodesFor||[],a=n&&new RegExp(s.join("|")).test(n);if(!e&&!a)return[n];var c={};!function e(n){In(n).forEach((function(n){"string"!=typeof n&&(Rn(n)?e(Tn(n)):"object"!==de(n)||ue.isValidElement(n)||Object.assign(c,n))}))}(e);var l=Hn("<0>".concat(n,"</0>")),u=Nn(Nn({},c),i);function h(e,n,t){var r=Tn(e),i=p(r,n.children,t);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return ue.isValidElement(e)}))}(r)&&0===i.length?r:i}function d(e,n,t,r,i){e.dummy&&(e.children=n),t.push(ue.cloneElement(e,Nn(Nn({},e.props),{},{key:r}),i?void 0:n))}function p(n,i,c){var l=In(n);return In(i).reduce((function(n,i,f){var m,x,g,j=i.children&&i.children[0]&&i.children[0].content&&t.services.interpolator.interpolate(i.children[0].content,u,t.language);if("tag"===i.type){var v=l[parseInt(i.name,10)];!v&&1===c.length&&c[0][i.name]&&(v=c[0][i.name]),v||(v={});var y=0!==Object.keys(i.attrs).length?(m={props:i.attrs},(g=Nn({},x=v)).props=Object.assign(m.props,x.props),g):v,b=ue.isValidElement(y),w=b&&Rn(i,!0)&&!i.voidElement,k=a&&"object"===de(y)&&y.dummy&&!b,O="object"===de(e)&&null!==e&&Object.hasOwnProperty.call(e,i.name);if("string"==typeof y){var z=t.services.interpolator.interpolate(y,u,t.language);n.push(z)}else if(Rn(y)||w){d(y,h(y,i,c),n,f)}else if(k){var S=p(l,i.children,c);n.push(ue.cloneElement(y,Nn(Nn({},y.props),{},{key:f}),S))}else if(Number.isNaN(parseFloat(i.name))){if(O)d(y,h(y,i,c),n,f,i.voidElement);else if(r.transSupportBasicHtmlNodes&&s.indexOf(i.name)>-1)if(i.voidElement)n.push(ue.createElement(i.name,{key:"".concat(i.name,"-").concat(f)}));else{var C=p(l,i.children,c);n.push(ue.createElement(i.name,{key:"".concat(i.name,"-").concat(f)},C))}else if(i.voidElement)n.push("<".concat(i.name," />"));else{var E=p(l,i.children,c);n.push("<".concat(i.name,">").concat(E,"</").concat(i.name,">"))}}else if("object"!==de(y)||b)1===i.children.length&&j?n.push(ue.cloneElement(y,Nn(Nn({},y.props),{},{key:f}),j)):n.push(ue.cloneElement(y,Nn(Nn({},y.props),{},{key:f})));else{var H=i.children[0]?j:null;H&&n.push(H)}}else if("text"===i.type){var P=r.transWrapTextNodes,A=o?r.unescape(t.services.interpolator.interpolate(i.content,u,t.language)):t.services.interpolator.interpolate(i.content,u,t.language);P?n.push(ue.createElement(P,{key:"".concat(i.name,"-").concat(f)},A)):n.push(A)}return n}),[])}return Tn(p([{dummy:!0,children:e||[]}],l,In(e||[]))[0])}function Bn(e){var n=e.children,t=e.count,r=e.parent,i=e.i18nKey,s=e.context,a=e.tOptions,c=void 0===a?{}:a,l=e.values,u=e.defaults,h=e.components,d=e.ns,p=e.i18n,f=e.t,m=e.shouldUnescape,x=o(e,An),g=p||ge();if(!g)return fe("You will need to pass in an i18next instance by using i18nextReactModule"),n;var j=f||g.t.bind(g)||function(e){return e};s&&(c.context=s);var v=Nn(Nn({},me()),g.options&&g.options.react),y=d||j.ns||g.options&&g.options.defaultNS;y="string"==typeof y?[y]:y||["translation"];var b=u||Ln(n,v)||v.transEmptyNodeValue||i,w=v.hashTransKey,k=i||(w?w(b):b),O=l?c.interpolation:{interpolation:Nn(Nn({},c.interpolation),{},{prefix:"#$?",suffix:"?$#"})},z=Nn(Nn(Nn(Nn({},c),{},{count:t},l),O),{},{defaultValue:b,ns:y}),S=Mn(h||n,k?j(k,z):b,g,v,z,m),C=void 0!==r?r:v.defaultTransParent;return C?ue.createElement(C,x,S):S}var Dn=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Gn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fn(e){var n=e.children,t=e.count,r=e.parent,i=e.i18nKey,s=e.context,a=e.tOptions,c=void 0===a?{}:a,l=e.values,u=e.defaults,h=e.components,d=e.ns,p=e.i18n,f=e.t,m=e.shouldUnescape,x=o(e,Dn),g=ue.useContext(je)||{},j=g.i18n,v=g.defaultNS,y=p||j||ge(),b=f||y&&y.t.bind(y);return Bn(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gn(Object(t),!0).forEach((function(n){he(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({children:n,count:t,parent:r,i18nKey:i,context:s,tOptions:c,values:l,defaults:u,components:h,ns:d||b&&b.ns||v||y&&y.options&&y.options.defaultNS,i18n:y,t:f,shouldUnescape:m},x))}var Un=function(e){return ve(ye.ready(),e)},Vn={ar:{ar:"العربية",en:"Arabic",ko:"아랍어","zh-Hans":"阿拉伯文","zh-Hant":"阿拉伯文"},az:{az:"Azərbaycanca",en:"Azerbaijani",ko:"아제르바이잔어","zh-Hans":"阿塞拜疆文","zh-Hant":"阿塞拜疆文"},ca:{ca:"Català",en:"Catalan",ko:"카탈루냐어","zh-Hans":"加泰罗尼亚文","zh-Hant":"加泰隆尼亞文"},da:{da:"Dansk",en:"Danish",ko:"덴마크어","zh-Hans":"丹麦文","zh-Hant":"丹麥文"},de:{de:"Deutsch",en:"German",ko:"독일어","zh-Hans":"德文","zh-Hant":"德文"},el:{el:"Ελληνικά",en:"Greek",ko:"그리스어","zh-Hans":"希腊文","zh-Hant":"希臘文"},en:{en:"English",ko:"영어","zh-Hans":"英文","zh-Hant":"英文"},es:{en:"Spanish",es:"Español",ko:"스페인어","zh-Hans":"西班牙文","zh-Hant":"西班牙文"},fa:{en:"Persian",fa:"فارسی",ko:"페르시아어","zh-Hans":"波斯文","zh-Hant":"波斯文"},fr:{en:"French",fr:"Français",ko:"프랑스어","zh-Hans":"法文","zh-Hant":"法文"},ga:{en:"Irish",ga:"Gaeilge",ko:"아일랜드어","zh-Hans":"爱尔兰文","zh-Hant":"愛爾蘭文"},gd:{en:"Scottish Gaelic",gd:"Gàidhlig",ko:"스코틀랜드 게일어","zh-Hans":"苏格兰盖尔文","zh-Hant":"蘇格蘭蓋爾文"},hi:{en:"Hindi",hi:"हिन्दी",ko:"힌디어","zh-Hans":"印地文","zh-Hant":"印地文"},hu:{en:"Hungarian",hu:"Magyar",ko:"헝가리어","zh-Hans":"匈牙利文","zh-Hant":"匈牙利文"},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"인도네시아어","zh-Hans":"印尼文","zh-Hant":"印尼文"},it:{en:"Italian",it:"Italiano",ko:"이탈리아어","zh-Hans":"意大利文","zh-Hant":"意大利文"},ja:{en:"Japanese",ja:"日本語",ko:"일본어","zh-Hans":"日文","zh-Hant":"日文"},ko:{en:"Korean",ko:"한국어","zh-Hans":"韩文","zh-Hant":"韓文"},ms:{en:"Malay",ko:"말레이어",ms:"Bahasa Melayu","zh-Hans":"马来文","zh-Hant":"馬來文"},no:{en:"Norwegian",ko:"노르웨이어",no:"Norsk","zh-Hans":"挪威文","zh-Hant":"挪威文"},pl:{en:"Polish",ko:"폴란드어",pl:"Polski","zh-Hans":"波兰文","zh-Hant":"波蘭文"},pt:{en:"Portuguese",ko:"포르투갈어",pt:"Português","zh-Hans":"葡萄牙文","zh-Hant":"葡萄牙文"},ro:{en:"Romanian",ko:"루마니아어",ro:"Română","zh-Hans":"罗马尼亚文","zh-Hant":"羅馬尼亞文"},ru:{en:"Russian",ko:"러시아어",ru:"Русский","zh-Hans":"俄文","zh-Hant":"俄文"},sv:{en:"Swedish",ko:"스웨덴어",sv:"Svenska","zh-Hans":"瑞典文","zh-Hant":"瑞典文"},th:{en:"Thai",ko:"태국어",th:"ภาษาไทย","zh-Hans":"泰文","zh-Hant":"泰文"},tr:{en:"Turkish",ko:"튀르키예어",tr:"Türkçe","zh-Hans":"土耳其文","zh-Hant":"土耳其文"},ur:{en:"Urdo",ko:"우르두어",ur:"اردو","zh-Hans":"乌尔都文","zh-Hant":"烏爾都文"},uz:{en:"Uzbek",ko:"우즈베크어",uz:"Oʻzbekcha","zh-Hans":"乌兹别克文","zh-Hant":"烏茲別克文"},vi:{en:"Vietnamese",ko:"베트남어",vi:"Tiếng Việt","zh-Hans":"越南文","zh-Hant":"越南文"},"zh-Hans":{en:"Simplified Chinese",ko:"중국어 간체자","zh-Hans":"简体中文","zh-Hant":"簡體中文"},"zh-Hant":{en:"Traditional Chinese",ko:"중국어 정체자","zh-Hans":"繁体中文","zh-Hant":"繁體中文"}},Wn={h:500,maxH:"70%","& iframe":{h:"100%",w:"100%"}};function Kn(e){var n=e.isOpen,t=e.onClose,r=e.onImport,i=h(ue.useState(crypto.randomUUID()),1)[0],o="/rmg/import?"+new URLSearchParams({parentComponent:ye.getAppName(),parentId:i});return ue.useEffect((function(){var e=new BroadcastChannel("rmg-bridge--"+i);return e.onmessage=function(e){var n=e.data,i=n.event,o=n.data;console.log("[rmp] Received event from RMG app clip:",i),"CLOSE"===i?t():"IMPORT"===i&&r(o)},function(){e.close()}}),[]),d.jsx(Se,{isOpen:n,onClose:t,sx:Wn,children:d.jsx("iframe",{src:o,loading:"lazy"})})}var Yn=new BroadcastChannel("RMP_GALLERY_CHANNEL"),qn={h:"80%",w:"80%","& iframe":{h:"100%",w:"100%"}};function $n(e){var t=e.isOpen,o=e.onClose,a=p(),c=Ce().t,l=Ee(),u=pe.useRef(window.graph),h=pe.useCallback((function(){l(He()),l(Pe()),l(Ae(u.current.export()))}),[l,He,Pe,Ae,u]),m=function(){var e=s(r().mark((function e(t){var o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,_e(JSON.stringify(t));case 3:e.t1=e.sent,o=e.t0.parse.call(e.t0,e.t1),o.version,s=i(o,n),l(Ne()),u.current.clear(),u.current.import(s.graph),h();case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=s(r().mark((function e(n){var t,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([fetch("/rmp-gallery/resources/real_world/".concat(n,".json")),fetch("/rmp-gallery/resources/fantasy/".concat(n,".json"))]);case 2:if(e.t1=t=e.sent.filter((function(e){return"fulfilled"===e.status})).find((function(e){return 200===e.value.status})),e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=t.value.json();case 11:return e.next=13,e.t2;case 13:(i=e.sent)?(m(i),a({title:c("header.open.importFromRMPGallery",{id:n}),status:"success",duration:9e3,isClosable:!0})):a({title:c("header.open.failToImportFromRMPGallery",{id:n}),status:"error",duration:9e3,isClosable:!0});case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return pe.useEffect((function(){var e=window.location.href;if(e.includes("/s/")){history.replaceState({},c("about.rmp"),e.substring(0,e.indexOf("s/")));var n=e.substring(e.lastIndexOf("s/")+2);x(n)}}),[]),pe.useEffect((function(){Yn.onmessage=function(e){var n=e.data,t=n.event,r=n.data;"OPEN_TEMPLATE"===t&&(x(r),o())}}),[]),d.jsx(d.Fragment,{children:d.jsxs(Se,{isOpen:t,onClose:o,size:"full",sx:qn,children:[d.jsx("iframe",{src:"/rmp-gallery/",loading:"lazy"}),d.jsx(f,{onClick:o,position:"fixed",top:"5px",right:"15px"})]})})}function Jn(){var e=Ce().t,n=Ee(),o=pe.useRef(window.graph),c=pe.useRef(null),p=h(pe.useState(!1),2),f=p[0],b=p[1],w=h(pe.useState(!1),2),k=w[0],O=w[1],z=pe.useCallback((function(){n(He()),n(Pe()),n(Ae(o.current.export()))}),[n,He,Pe,Ae,o]),S=function(){var a=s(r().mark((function s(a){var c,l,u,h,d;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l=null===(c=a.target.files)||void 0===c?void 0:c[0],console.log("OpenActions.handleUpload():: received file",l),"application/json"===(null==l?void 0:l.type)){r.next=7;break}n(Be({status:"error",message:e("OpenActions.invalidType")})),console.error("OpenActions.handleUpload():: Invalid file type! Only file in JSON format is accepted."),r.next=28;break;case 7:return r.prev=7,r.next=10,Zn(l);case 10:return u=r.sent,r.t0=JSON,r.next=14,_e(u);case 14:r.t1=r.sent,h=r.t0.parse.call(r.t0,r.t1),h.version,d=i(h,t),n(Ne()),o.current.clear(),o.current.import(d.graph),z(),r.next=28;break;case 24:r.prev=24,r.t2=r.catch(7),n(Be({status:"error",message:e("OpenActions.unknownError")})),console.error("OpenActions.handleUpload():: Unknown error occurred while parsing the uploaded file",r.t2);case 28:a.target.value="";case 29:case"end":return r.stop()}}),s,null,[[7,24]])})));return function(e){return a.apply(this,arguments)}}();return d.jsxs(m,{children:[d.jsx(x,{as:g,size:"sm",variant:"ghost",icon:d.jsx(Re,{})}),d.jsxs(j,{children:[d.jsx(v,{icon:d.jsx(Te,{}),onClick:function(){n(Ne()),o.current.clear(),n(Le(100)),n(Me({x:0,y:0})),z()},children:e("header.open.new")}),d.jsx("input",{id:"upload_project",ref:c,type:"file",accept:".json",hidden:!0,onChange:S,"data-testid":"file-upload"}),d.jsx(v,{icon:d.jsx(Re,{}),onClick:function(){var e;return null==c||null===(e=c.current)||void 0===e?void 0:e.click()},children:e("header.open.config")}),d.jsx(v,{icon:d.jsx(Ie,{}),onClick:function(){return b(!0)},children:e("header.open.projectRMG")}),d.jsxs(v,{icon:d.jsx(Ie,{}),onClick:function(){return O(!0)},children:[e("header.open.gallery"),d.jsx(y,{ml:"1",colorScheme:"green",children:"New"})]})]}),d.jsx(Kn,{isOpen:f,onClose:function(){return b(!1)},onImport:function(t){try{!function(e,n){var t=n.info_panel_type,r=n.line_num,i=n.stn_list,o=n.style,s=n.theme,c=Object.fromEntries(Object.keys(i).filter((function(e){return!["linestart","lineend"].includes(e)})).map((function(e){return[e,"stn_".concat(be(10))]})));Object.entries(i).filter((function(e){var n=h(e,2),t=n[0];return n[1],!["linestart","lineend"].includes(t)})).forEach((function(n){var t=h(n,2),r=t[0],i=t[1],o=e.filterNodes((function(e,n){return Object.values(we).includes(n.type)&&n[n.type].names[0]===i.name[0]}));0!==o.length&&(c[r]=o[0])})),Object.entries(i).filter((function(e){var n=h(e,2),t=n[0];return n[1],!["linestart","lineend"].includes(t)})).filter((function(n){var t=h(n,2),r=(t[0],t[1]);return 0===e.filterNodes((function(e,n){return Object.values(we).includes(n.type)&&n[n.type].names[0]===r.name[0]})).length})).forEach((function(n,i){var d=h(n,2),p=d[0],f=d[1],m=we.ShmetroBasic,x=f.transfer.groups,g=x.map((function(e){return e.lines})).flat();"shmetro"===o?m=g.length>0?we.ShmetroInt:"sh2020"===t?we.ShmetroBasic2020:we.ShmetroBasic:"gzmtr"===o?m=g.length>0?we.GzmtrInt:we.GzmtrBasic:"mtr"===o&&(m=we.MTR);var j=l(l({},structuredClone(vn[m].defaultAttrs)),{},{names:f.name});m===we.ShmetroBasic2020?j.color=s:m===we.GzmtrBasic?(j.color=s,j.lineCode=r,j.stationCode=f.num):m===we.GzmtrInt?j.transfer=x.map((function(e,n){var t=e.lines.map((function(e){var n;return[].concat(a(null!==(n=e.theme)&&void 0!==n?n:s),["1","01"])}));return 0===n?[[].concat(a(s),[r,f.num])].concat(a(t)):t})):m===we.MTR&&(x[0].lines.length?j.transfer=[[[].concat(a(s),["",""])].concat(a(x[0].lines.map((function(e){var n;return[].concat(a(null!==(n=e.theme)&&void 0!==n?n:s),["",""])}))))]:j.transfer=[[]]),e.addNode(c[p],u({visible:!0,zIndex:0,x:100+50*i,y:1e3,type:m},m,j))})),Object.entries(i).filter((function(e){var n=h(e,2),t=n[0];return n[1],!["linestart","lineend"].includes(t)})).forEach((function(n){var t=h(n,2),r=t[0];t[1].children.filter((function(e){return!["linestart","lineend"].includes(e)})).forEach((function(n){var t;e.addDirectedEdgeWithKey("line_".concat(be(10)),c[r],c[n],(u(t={visible:!0,zIndex:0,type:ke.Diagonal},ke.Diagonal,structuredClone(Oe[ke.Diagonal].defaultAttrs)),u(t,"style",ze.SingleColor),u(t,ze.SingleColor,{color:s}),u(t,"reconcileId",""),t))}))}))}(o.current,t),z()}catch(r){n(Be({status:"error",message:e("OpenActions.unknownError")})),console.error("OpenActions.handleUploadRMG():: Unknown error occurred while parsing the RMG project",r)}finally{b(!1)}}}),d.jsx($n,{isOpen:k,onClose:function(){return O(!1)}})]})}var Zn=function(e){return new Promise((function(n){var t=new FileReader;t.onloadend=function(){return n(t.result)},t.readAsText(e)}))},Qn=function(e){return new Promise((function(n){var t=new FileReader;t.onloadend=function(){return n(t.result)},t.readAsDataURL(e)}))},Xn=function(){var e=s(r().mark((function e(n){var t,i,o,c,l,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Array.from(new Set([].concat(a(n.querySelectorAll(".rmp-name__mtr__zh")),a(n.querySelectorAll(".rmp-name__mtr__en"))).map((function(e){return e.innerHTML})).join("").replace(/\s/g,""))).join(""),e.next=3,document.fonts.load("80px GenYoMin TW, Vegur",i);case 3:if(o=e.sent,c=null===(t=document.querySelector("link#fonts_mtr"))||void 0===t||null===(t=t.sheet)||void 0===t?void 0:t.cssRules){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("cssRules can not be found in link#css_share")));case 7:return l=Array.from(c).filter((function(e){return e instanceof CSSFontFaceRule})),u=o.reduce((function(e,n){var t,r=(t=n,l.find((function(e){var n=e.style;return n.getPropertyValue("font-family").replace(/^"(.+)"$/,"$1")===t.family&&n.getPropertyValue("unicode-range")===t.unicodeRange})));return r?e.find((function(e){var n=e.style,t=r.style;return n.getPropertyValue("font-family")===t.getPropertyValue("font-family")&&n.getPropertyValue("unicode-range")===t.getPropertyValue("unicode-range")}))?e:e.concat(r):e}),[]),e.next=11,Promise.all(u.map(function(){var e=s(r().mark((function e(n){var t,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(et(n));case 3:return t=e.sent,e.t0=Qn,e.next=7,t.blob();case 7:return e.t1=e.sent,e.next=10,(0,e.t0)(e.t1);case 10:return i=e.sent,e.abrupt("return",n.cssText.replace(/src:[ \w('",\-:/.)]+;/g,"src: url('".concat(i,"'); ")));case 14:return e.prev=14,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),et=function(e){var n,t=e.style.src;return navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?t.replace(/^url\("(\S+)"\).*$/,"$1"):"/rmp//styles/"+(null===(n=t.match(/^url\("([\S*]+)"\)/))||void 0===n?void 0:n[1])},nt=function(e){var n=e.isOpen,t=e.onClose,r=Ce().t;return d.jsxs(b,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:r("header.download.termsAndConditions")}),d.jsx(z,{}),d.jsx(S,{children:d.jsxs(C,{children:[d.jsxs(E,{children:["The layout of the elements on the signage or rail map, is designed by"," ",d.jsxs(H,{color:"teal.500",href:"https://www.shmetro.com/",isExternal:!0,children:["Shanghai Shentong Metro Group ",d.jsx(P,{as:De})]}),", ",d.jsxs(H,{color:"teal.500",href:"https://www.gzmtr.com/",isExternal:!0,children:["Guangzhou Metro Group ",d.jsx(P,{as:De})]})," or ",d.jsxs(H,{color:"teal.500",href:"https://www.mtr.com.hk/",isExternal:!0,children:["MTR Corporation ",d.jsx(P,{as:De})]}),", depending on your selection. You shall grant appropriate permit or license from the relevant company above before using the generated images for commercial purposes, if it is required to do so.",d.jsx("br",{}),"标志版或路线图的元素或布局，基于你所选择的风格，为",d.jsxs(H,{color:"teal.500",href:"https://www.shmetro.com/",isExternal:!0,children:["上海申通地铁集团 ",d.jsx(P,{as:De})]}),"，",d.jsxs(H,{color:"teal.500",href:"https://www.gzmtr.com/",isExternal:!0,children:["广州地铁集团公司 ",d.jsx(P,{as:De})]}),"或",d.jsxs(H,{color:"teal.500",href:"https://www.mtr.com.hk/",isExternal:!0,children:["港铁公司 ",d.jsx(P,{as:De})]}),"所设计。在产生的图像用作商业用途前，你应向相关公司取得适当之许可证或授权。"]}),d.jsxs(E,{children:["The elements including shapes and lines on the image are drawn by"," ",d.jsxs(H,{color:"teal.500",href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",d.jsx(P,{as:De})]})," and ",d.jsxs(H,{color:"teal.500",href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",d.jsx(P,{as:De})]}),", based on the design standards or rules of the companies listed above. You may use them for any purposes, but it is recommended to state the name and the link of software alongside.",d.jsx("br",{}),"图像的元素，包括图形及线条，均由",d.jsxs(H,{color:"teal.500",href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",d.jsx(P,{as:De})]}),"及",d.jsxs(H,{color:"teal.500",href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",d.jsx(P,{as:De})]}),"基于上述公司设计标准或准则绘制。你可将其用于任何目的，但我们建议你于使用同时附以我们的名字以及本网站地址。"]}),d.jsxs(E,{children:["Due to copyright, licensing and other legal restrictions, Rail Map Painter uses"," ",d.jsxs(H,{color:"teal.500",href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["GenYoMin provided by ButTaiwan ",d.jsx(P,{as:De})]}),", and Vegur instead of MTRSung and Myriad Pro respectively to display and generate MTR-style signage. You shall grant appropriate permit or license from the manufacturers before using those generated images for commercial purposes.",d.jsx("br",{}),"由于著作权及其他法律限制，铁路路线图绘制器使用由",d.jsxs(H,{color:"teal.500",href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["ButTaiwan提供的源樣明體 ",d.jsx(P,{as:De})]}),"，以及Vegur，以代替港铁样式标志牌所使用的地铁宋及Myriad Pro。在产生之图像用作商业用途前，你应向字型生产厂商取得适当之许可证或授权。"]}),d.jsxs(E,{children:["The exported images in PNG or SVG format may be modified, published, or used for other purposes except commercial use, under the conditions above.",d.jsx("br",{}),"输出的PNG或SVG图像可基于上述条款，在非商业使用时，用于修改、发行或其他用途。"]}),d.jsxs(E,{children:["All flag emojis shown on Windows platforms are designed by"," ",d.jsxs(H,{color:"teal.500",href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",d.jsx(P,{as:De})]})," ","– the open-source emoji and icon project. License:",d.jsxs(H,{color:"teal.500",href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",d.jsx(P,{as:De})]}),d.jsx("br",{}),"于Windows作业系统上显示的国旗Emoji为",d.jsxs(H,{color:"teal.500",href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",d.jsx(P,{as:De})]}),"所设计。许可证：",d.jsxs(H,{color:"teal.500",href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",d.jsx(P,{as:De})]})]}),d.jsxs(E,{children:["We reserve the rights, without prior notice, to modify, add, or remove these terms. The Chinese translation is for reference only. In case of any discrepancy between the English version and the Chinese version, the English version shall prevail.",d.jsx("br",{}),"我们保留修改、新增或移除上述条款之权利，而无需另行通知。中文译本仅供参考，文义如与英文有歧异，概以英文本为准。"]})]})})]})]})};function tt(){var e=Ce().t,n=Ge((function(e){return e.app})).telemetry.project,t=Ge((function(e){return e.runtime})).nodeExists,i=pe.useRef(window.graph),o=A("white","gray.800"),c=h(pe.useState("png"),2),l=c[0],u=c[1],p={png:e("header.download.png"),svg:e("header.download.svg")},f=h(pe.useState(100),2),y=f[0],C=f[1],E=Object.fromEntries([25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map((function(e){return[e,"".concat(e,"%")]}))),L=h(pe.useState(!1),2),M=L[0],B=L[1],D=[{type:"select",label:e("header.download.format"),value:l,options:p,onChange:function(e){return u("png"===e?"png":"svg")}}],G=[{type:"select",label:e("header.download.scale"),value:y,options:E,onChange:function(e){return C(e)}},{type:"switch",label:e("header.download.transparent"),isChecked:M,onChange:B}],F=h(pe.useState(!1),2),U=F[0],V=F[1],W=h(pe.useState(!1),2),K=W[0],Y=W[1],q=h(pe.useState(!1),2),$=q[0],J=q[1],Z=h(pe.useState(!1),2),Q=Z[0],X=Z[1],ee=function(){var e=s(r().mark((function e(){var s,c,u,d,p,f,m,x,g,j,v,b,w,k,O,z;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(!1),n&&ye.event(Ke.DOWNLOAD_IMAGES,{numberOfNodes:i.current.order,numberOfEdges:i.current.size}),s=yn(i.current),c=s.xMin,u=s.yMin,d=s.xMax,p=s.yMax,f=d-c,m=p-u,a((x=document.getElementById("canvas").cloneNode(!0)).children).filter((function(e){return i.current.hasNode(e.id)&&i.current.getNodeAttribute(e.id,"type")===$e.Virtual})).forEach((function(e){return x.removeChild(e)})),$||x.appendChild(ot(d-400,p-60)),x.setAttribute("viewBox","".concat(c," ").concat(u," ").concat(f," ").concat(m)),x.setAttribute("width",f.toString()),x.setAttribute("height",m.toString()),Object.entries({".rmp-name__zh":["font-family"],".rmp-name__en":["font-family"],".rmp-name__mtr__zh":["font-family"],".rmp-name__mtr__en":["font-family"],".rmp-name-station":["paint-order","stroke","stroke-width"]}).forEach((function(e){var n=h(e,2),t=n[0],r=n[1],i=document.querySelector(t);if(null!==i){var o=window.getComputedStyle(i);x.querySelectorAll(t).forEach((function(e){r.forEach((function(n){e.setAttribute(n,o.getPropertyValue(n))})),e.classList.remove(t)}))}})),!t[we.MTR]){e.next=25;break}return e.prev=12,e.next=15,Xn(x);case 15:g=e.sent,(j=document.createElement("style")).textContent=g.join("\n"),x.prepend(j),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(12),alert("Failed to fonts. Fonts in the exported PNG will be missing."),console.error(e.t0);case 25:if("svg"!==l){e.next=28;break}return rt("RMP_".concat((new Date).valueOf(),".svg"),"image/svg+xml",x.outerHTML),e.abrupt("return");case 28:document.body.appendChild(x),v="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(x.outerHTML))),document.body.removeChild(x),b=document.createElement("canvas"),w=f*y/100,k=m*y/100,b.width=w,b.height=k,O=b.getContext("2d"),M||(O.fillStyle=o,O.fillRect(0,0,w,k)),(z=new Image).onload=function(){O.drawImage(z,0,0,w,k),b.toBlob((function(e){return it("RMP_".concat((new Date).valueOf(),".png"),e)}),"image/png")},z.src=v;case 40:case"end":return e.stop()}}),e,null,[[12,21]])})));return function(){return e.apply(this,arguments)}}();return d.jsxs(m,{id:"download",children:[d.jsx(x,{as:g,size:"sm",variant:"ghost",icon:d.jsx(Fe,{})}),d.jsxs(j,{children:[d.jsx(v,{icon:d.jsx(Ue,{}),onClick:function(){n&&ye.event(Ke.DOWNLOAD_PARAM,{"#nodes":i.current.order,"#edges":i.current.size});var e=Ye(qe.getState().param);rt("RMP_".concat((new Date).valueOf(),".json"),"application/json",e)},children:e("header.download.config")}),d.jsx(v,{icon:d.jsx(Ve,{}),onClick:function(){return V(!0)},children:e("header.download.image")})]}),d.jsxs(b,{size:"xl",isOpen:U,onClose:function(){return V(!1)},children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:e("header.download.image")}),d.jsx(z,{}),d.jsxs(S,{children:[d.jsx(We,{fields:D}),"png"===l&&d.jsx(We,{fields:G}),d.jsx("br",{}),d.jsx(_,{isChecked:$,onChange:function(e){return J(e.target.checked)},children:d.jsxs(N,{children:[e("header.download.shareInfo1"),d.jsxs(H,{color:"teal.500",onClick:function(){return window.open("https://railmapgen.github.io/rmp","_blank")},children:[e("header.about.rmp")," ",d.jsx(P,{as:De})]}),e("header.download.shareInfo2")]})}),d.jsx(_,{isChecked:Q,onChange:function(e){return X(e.target.checked)},children:d.jsxs(N,{children:[e("header.download.termsAndConditionsInfo"),d.jsxs(H,{color:"teal.500",onClick:function(){return Y(!0)},children:[e("header.download.termsAndConditions")," ",d.jsx(P,{as:De})]}),e("header.download.period")]})})]}),d.jsx(R,{children:d.jsx(T,{children:d.jsx(I,{colorScheme:"teal",variant:"outline",size:"sm",disabled:!Q,onClick:ee,children:e("header.download.confirm")})})}),d.jsx(nt,{isOpen:K,onClose:function(){return Y(!1)}})]})]})]})}var rt=function(e,n,t){var r=new Blob([t],{type:n});it(e,r)},it=function(e,n){var t=window.URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)},ot=function(e,n){var t=document.createElementNS("http://www.w3.org/2000/svg","g");t.setAttribute("transform","translate(".concat(e,", ").concat(n,")scale(2)"));var r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttribute("width","40"),r.setAttribute("height","40"),r.setAttribute("x","-50"),r.setAttribute("y","-20");var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("font-family","Arial, sans-serif"),i.setAttribute("font-size","16"),i.appendChild(document.createTextNode("Rail Map Painter"));var o=document.createElementNS("http://www.w3.org/2000/svg","text");return o.setAttribute("font-family","Arial, sans-serif"),o.setAttribute("font-size","10"),o.setAttribute("y","10"),o.appendChild(document.createTextNode("https://railmapgen.github.io/rmp/")),t.appendChild(r),t.appendChild(i),t.appendChild(o),t},st=function(e){var n=e.isOpen,t=e.onClose,r=Ce().t,i=ye.getAppVersion(),o=h(pe.useState(!1),2),s=o[0],a=o[1];return d.jsxs(b,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:r("header.about.title")}),d.jsx(z,{}),d.jsxs(S,{paddingBottom:10,children:[d.jsxs(L,{direction:"row",children:[d.jsx(M,{boxSize:"128px",src:"/rmp//logo192.png"}),d.jsxs(L,{direction:"column",width:"100%",alignItems:"center",justifyContent:"center",children:[d.jsx(N,{fontSize:"xl",as:"b",children:r("header.about.rmp")}),d.jsx(N,{children:i}),d.jsx(N,{}),d.jsx(N,{fontSize:"sm",children:r("header.about.railmapgen")})]})]}),d.jsx(B,{margin:5,children:d.jsx(N,{fontSize:"xl",children:r("header.about.desc")})}),d.jsx(D,{as:"h5",size:"sm",mt:3,mb:2,children:r("header.about.contributors")}),d.jsx(D,{as:"h6",size:"xs",my:2,children:r("header.about.coreContributors")}),d.jsx(G,{children:d.jsxs(F,{size:"lg",w:"85%",onClick:function(){return window.open("https://github.com/thekingofcity","_blank")},cursor:"pointer",children:[d.jsx(U,{src:"https://github.com/thekingofcity.png",size:"lg",my:2,ml:-1,mr:2}),d.jsxs(V,{display:"block",width:"100%",children:[d.jsx(N,{fontSize:"lg",fontWeight:"bold",mb:1,children:"thekingofcity"}),d.jsx(N,{fontSize:"sm",children:r("header.about.content1")}),d.jsx(N,{fontSize:"sm",align:"right",mb:1,children:r("header.about.content2")})]})]})}),d.jsx(D,{as:"h6",size:"xs",my:2,children:r("header.about.styleContributors")}),d.jsx(G,{children:d.jsxs(F,{size:"lg",w:"85%",onClick:function(){return window.open("https://github.com/203IhzElttil","_blank")},cursor:"pointer",children:[d.jsx(U,{src:"https://github.com/203IhzElttil.png",size:"lg",my:2,ml:-1,mr:2}),d.jsxs(V,{display:"block",width:"100%",children:[d.jsx(N,{fontSize:"lg",fontWeight:"bold",mb:1,children:"203IhzElttil"}),d.jsx(N,{fontSize:"sm",mb:1,children:r("header.about.203IhzElttil")})]})]})}),d.jsx(D,{as:"h5",size:"sm",mt:3,mb:2,children:r("header.about.contactUs")}),d.jsxs(G,{children:[d.jsxs(F,{size:"lg",w:"85%",onClick:function(){return window.open("https://github.com/railmapgen/rmp/issues","_blank")},cursor:"pointer",children:[d.jsx(U,{src:"/rmp/assets/github-mark-7a0dd11e.svg",size:"lg",my:2,ml:-1,mr:2}),d.jsxs(V,{display:"block",width:"100%",children:[d.jsx(N,{fontSize:"lg",fontWeight:"bold",mb:1,children:r("header.about.github")}),d.jsx(N,{fontSize:"sm",children:r("header.about.githubContent")})]})]}),d.jsxs(F,{size:"lg",w:"85%",onClick:function(){return window.open("https://join.slack.com/t/railmapgenerator/shared_invite/zt-1odhhta3n-DdZF~fnVwo_q0S0RJmgV8A","_blank")},cursor:"pointer",children:[d.jsx(U,{src:"/rmp/assets/slack-mark-19839006.svg",size:"lg",my:2,ml:-1,mr:2}),d.jsxs(V,{display:"block",width:"100%",children:[d.jsx(N,{fontSize:"lg",fontWeight:"bold",mb:1,children:r("header.about.slack")}),d.jsx(N,{fontSize:"sm",children:r("header.about.slackContent")}),d.jsx(N,{fontSize:"sm",as:"i",children:"#rmg, #rmp, #palette-and-templates, #random"})]})]})]}),d.jsx(D,{as:"h5",size:"sm",mt:3,mb:2,children:r("header.about.linkExchange")}),d.jsxs(G,{children:[d.jsxs(F,{size:"lg",w:"85%",onClick:function(){return a(!0)},cursor:"pointer",children:[d.jsx(U,{src:"/rmp//images/guidaoTransit.jpg",size:"lg",my:2,ml:-1,mr:2}),d.jsxs(V,{display:"block",width:"100%",children:[d.jsx(N,{fontSize:"lg",fontWeight:"bold",mb:1,children:r("header.about.guidaoTransit")}),d.jsx(N,{fontSize:"sm",children:r("header.about.guidaoTransitContent")})]})]}),d.jsxs(b,{size:"6xl",isOpen:s,onClose:function(){return a(!1)},children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:r("header.about.guidaoTransit")}),d.jsx(z,{}),d.jsx(S,{paddingBottom:10,children:d.jsx(M,{width:"1080",height:"304",src:"/rmp//images/guidaoTransitQRCode.png"})})]})]})]})]})]})]})},at=function(){var e=h(pe.useState(!1),2),n=e[0],t=e[1],r=Ge((function(e){return e.param})).svgViewBoxZoom,i=Ee(),o=[{type:"slider",label:"",value:400-r,min:10,max:390,step:1,onChange:function(e){return i(Le(400-e))},leftIcon:d.jsx(Ze,{}),rightIcon:d.jsx(Je,{}),minW:160}];return d.jsxs(W,{isOpen:n,onOpen:function(){return t(!0)},onClose:function(){return t(!1)},children:[d.jsx(K,{children:d.jsx(g,{"aria-label":"zoom",variant:"ghost",size:"sm",icon:d.jsx(Je,{}),onClick:function(){return t(!n)}})}),d.jsx(Y,{children:d.jsx(q,{children:d.jsx(We,{fields:o,noLabel:!0})})})]})},ct=function(e){var n=e.isOpen,t=e.onClose,r=Ee(),i=Ce().t,o=pe.useRef(window.graph),s=h(pe.useState(0),2),a=s[0],c=s[1],l=h(pe.useState(0),2),u=l[0],p=l[1],f=[{type:"input",label:i("header.settings.procedures.translate.x"),value:a.toString(),variant:"number",onChange:function(e){return c(Number(e))},minW:"full"},{type:"input",label:i("header.settings.procedures.translate.y"),value:u.toString(),variant:"number",onChange:function(e){return p(Number(e))},minW:"full"}];return d.jsxs(b,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:i("header.settings.procedures.translate.title")}),d.jsx(z,{}),d.jsxs(S,{children:[i("header.settings.procedures.translate.content"),d.jsx(We,{fields:f})]}),d.jsxs(R,{children:[d.jsx(I,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:i("cancel")}),d.jsx(I,{colorScheme:"red",onClick:function(){o.current.forEachNode((function(e,n){o.current.updateNodeAttribute(e,"x",(function(e){return(null!=e?e:0)+a})),o.current.updateNodeAttribute(e,"y",(function(e){return(null!=e?e:0)+u}))})),r(He()),r(Pe()),r(Ae(o.current.export())),t()},children:i("apply")})]})]})]})},lt=function(e){var n=e.isOpen,t=e.onClose,r=Ee(),i=Ce().t,o=pe.useRef(window.graph),s=h(pe.useState(1),2),a=s[0],c=s[1],l=[{type:"input",label:i("header.settings.procedures.scale.factor"),value:a.toString(),variant:"number",onChange:function(e){return c(Number(e))},minW:"full"}];return d.jsxs(b,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:i("header.settings.procedures.scale.title")}),d.jsx(z,{}),d.jsxs(S,{children:[i("header.settings.procedures.scale.content"),d.jsx(We,{fields:l})]}),d.jsxs(R,{children:[d.jsx(I,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:i("cancel")}),d.jsx(I,{colorScheme:"red",onClick:function(){o.current.forEachNode((function(e,n){o.current.updateNodeAttribute(e,"x",(function(e){return(null!=e?e:0)*a})),o.current.updateNodeAttribute(e,"y",(function(e){return(null!=e?e:0)*a}))})),r(He()),r(Pe()),r(Ae(o.current.export())),t()},children:i("apply")})]})]})]})},ut=function(e){var n=e.isOpen,t=e.onClose,r=Ee(),i=Ce().t,o=pe.useRef(window.graph),s=Object.fromEntries(Object.entries(vn).map((function(e){var n=h(e,2),t=n[0],r=n[1];return[t,i(r.metadata.displayName).toString()]}))),a=h(pe.useState(Object.keys(vn).at(0)),2),c=a[0],l=a[1],u=h(pe.useState(Object.keys(vn).at(1)),2),p=u[0],f=u[1],m=[{type:"select",label:i("header.settings.procedures.changeType.changeFrom"),value:c,options:s,disabledOptions:[p],onChange:function(e){return l(e)},minW:"full"},{type:"select",label:i("header.settings.procedures.changeType.changeTo"),value:p,options:s,disabledOptions:[c],onChange:function(e){return f(e)},minW:"full"}];return d.jsxs(b,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsxs(O,{children:[d.jsx(N,{as:"b",fontSize:"xl",children:i("header.settings.procedures.changeType.title")}),d.jsx($,{label:i("header.settings.pro"),children:d.jsx(y,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",children:"PRO"})})]}),d.jsx(z,{}),d.jsxs(S,{children:[d.jsx(We,{fields:m}),d.jsx(N,{fontSize:"sm",mt:"3",lineHeight:"100%",color:"red.500",children:i("header.settings.procedures.changeType.info")})]}),d.jsxs(R,{children:[d.jsx(I,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:i("cancel")}),d.jsx(I,{colorScheme:"red",onClick:function(){wn(o.current,c,p),r(He()),r(Ae(o.current.export()))},children:i("apply")})]})]})]})},ht=function(e){var n=e.isOpen,t=e.onClose,r=Ee(),i=Ge((function(e){return e.runtime})).theme,o=Ce().t,s=pe.useRef(window.graph),a=h(pe.useState(i),2),c=a[0],l=a[1],u=h(pe.useState(!1),2),p=u[0],f=u[1];return d.jsxs(b,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:o("header.settings.procedures.removeLines.title")}),d.jsx(z,{}),d.jsxs(S,{children:[o("header.settings.procedures.removeLines.content"),d.jsx(Qe,{theme:c,onClick:function(){return f(!0)}}),d.jsx(Xe,{isOpen:p,defaultTheme:c,onClose:function(){return f(!1)},onUpdate:function(e){return l(e)}})]}),d.jsxs(R,{children:[d.jsx(I,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:o("cancel")}),d.jsx(I,{colorScheme:"red",onClick:function(){s.current.filterEdges((function(e,n,t,r,i,o,s){return n.style===ze.SingleColor&&JSON.stringify(n[ze.SingleColor].color)===JSON.stringify(c)})).forEach((function(e){return s.current.dropEdge(e)})),r(Pe()),r(Ae(s.current.export())),t()},children:o("remove")})]})]})]})},dt={width:"100%",justifyContent:"space-between"},pt={fontFamily:"-apple-system"},ft=function(e){var n=e.isOpen,t=e.onClose,r=Ge((function(e){return e.runtime})).keepLastPath,i=Ee(),o=Ce().t,s=A("primary.500","primary.300"),a=h(pe.useState(!1),2),c=a[0],l=a[1],u=h(pe.useState(!1),2),p=u[0],f=u[1],m=h(pe.useState(!1),2),x=m[0],g=m[1],j=h(pe.useState(!1),2),v=j[0],C=j[1],E=ye.isAllowAnalytics(),_=Ge((function(e){return e.app})).telemetry.app;return d.jsxs(b,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[d.jsx(w,{}),d.jsxs(k,{children:[d.jsx(O,{children:o("header.settings.title")}),d.jsx(z,{}),d.jsx(S,{children:d.jsxs(G,{divider:d.jsx(J,{borderColor:"gray.200"}),children:[d.jsxs(B,{width:"100%",mb:"3",children:[d.jsx(N,{as:"b",fontSize:"xl",children:o("header.settings.preference.title")}),d.jsx(B,{mt:"3",children:d.jsxs(B,{display:"flex",mb:"1",children:[d.jsx(N,{flex:"1",children:o("header.settings.preference.keepLastPath")}),d.jsx(Z,{isChecked:r,onChange:function(e){var n=e.target.checked;return i(en(n))}})]})})]}),d.jsxs(B,{width:"100%",mb:"3",children:[d.jsx(N,{as:"b",fontSize:"xl",children:o("header.settings.shortcuts.title")}),d.jsx(B,{mt:"3",children:d.jsxs(Q,{children:[d.jsx(X,{children:d.jsxs(ee,{children:[d.jsx(ne,{children:o("header.settings.shortcuts.keys")}),d.jsx(ne,{children:o("header.settings.shortcuts.description")})]})}),d.jsxs(te,{children:[d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(ie,{children:"f"})}),d.jsx(re,{children:o("header.settings.shortcuts.f")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(nn,{})}),d.jsx(re,{children:o("header.settings.shortcuts.arrowUpward")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(tn,{})}),d.jsx(re,{children:o("header.settings.shortcuts.arrowBack")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(rn,{})}),d.jsx(re,{children:o("header.settings.shortcuts.arrowForward")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(on,{})}),d.jsx(re,{children:o("header.settings.shortcuts.arrowDownward")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(ie,{children:"i"})}),d.jsx(re,{children:o("header.settings.shortcuts.i")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(ie,{children:"j"})}),d.jsx(re,{children:o("header.settings.shortcuts.j")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(ie,{children:"k"})}),d.jsx(re,{children:o("header.settings.shortcuts.k")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:d.jsx(ie,{children:"l"})}),d.jsx(re,{children:o("header.settings.shortcuts.l")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:bn?d.jsx(ie,{sx:pt,children:"⇧"}):d.jsx(ie,{children:"shift"})}),d.jsx(re,{children:o("header.settings.shortcuts.shift")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:bn?d.jsx(ie,{sx:pt,children:"⌥"}):d.jsx(ie,{children:"alt"})}),d.jsx(re,{children:o("header.settings.shortcuts.alt")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:bn?d.jsx(ie,{sx:pt,children:"⌫"}):d.jsx(ie,{children:"delete"})}),d.jsx(re,{children:o("header.settings.shortcuts.delete")})]}),d.jsxs(ee,{children:[d.jsxs(re,{children:[bn?d.jsx(ie,{sx:pt,children:"⌘"}):d.jsx(ie,{children:"ctrl"})," + ",d.jsx(ie,{children:"z"})]}),d.jsx(re,{children:o("header.settings.shortcuts.undo")})]}),d.jsxs(ee,{children:[d.jsx(re,{children:bn?d.jsxs(d.Fragment,{children:[d.jsx(ie,{sx:pt,children:"⇧"})," + ",d.jsx(ie,{sx:pt,children:"⌘"})," + ",d.jsx(ie,{children:"z"})]}):d.jsxs(d.Fragment,{children:[d.jsx(ie,{children:"ctrl"})," + ",d.jsx(ie,{children:"y"})]})}),d.jsx(re,{children:o("header.settings.shortcuts.redo")})]})]})]})})]}),d.jsxs(B,{width:"100%",mb:"3",children:[d.jsx(N,{as:"b",fontSize:"xl",children:o("header.settings.procedures.title")}),d.jsxs(B,{mt:"3",children:[d.jsx(I,{sx:dt,rightIcon:d.jsx(sn,{}),onClick:function(){return l(!0)},children:o("header.settings.procedures.translate.title")}),d.jsx(ct,{isOpen:c,onClose:function(){return l(!1)}}),d.jsx(I,{sx:dt,rightIcon:d.jsx(sn,{}),onClick:function(){return f(!0)},children:o("header.settings.procedures.scale.title")}),d.jsx(lt,{isOpen:p,onClose:function(){return f(!1)}}),d.jsx(I,{sx:dt,rightIcon:d.jsx(sn,{}),onClick:function(){return g(!0)},children:d.jsxs(B,{children:[o("header.settings.procedures.changeType.title"),d.jsx($,{label:o("header.settings.pro"),children:d.jsx(y,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",children:"PRO"})})]})}),d.jsx(ut,{isOpen:x,onClose:function(){return g(!1)}}),d.jsx(I,{sx:dt,rightIcon:d.jsx(sn,{}),onClick:function(){return C(!0)},children:o("header.settings.procedures.removeLines.title")}),d.jsx(ht,{isOpen:v,onClose:function(){return C(!1)}})]})]}),d.jsxs(B,{width:"100%",mb:"3",children:[d.jsx(N,{as:"b",fontSize:"xl",children:o("header.settings.telemetry.title")}),d.jsxs(B,{mt:"3",children:[d.jsxs(B,{display:"flex",mb:"1",children:[d.jsx(N,{flex:"1",children:o("header.settings.telemetry.essential")}),d.jsx(Z,{isChecked:E,isDisabled:!0})]}),d.jsx(N,{fontSize:"sm",lineHeight:"100%",color:"gray.600",children:o("header.settings.telemetry.essentialInfo")}),d.jsxs(H,{color:s,fontSize:"sm",lineHeight:"100%",href:"https://support.google.com/analytics/answer/11593727",isExternal:!0,children:[o("header.settings.telemetry.essentialLink")," ",d.jsx(P,{as:De})]}),d.jsxs(B,{display:"flex",mb:"1",children:[d.jsx(N,{flex:"1",children:o("header.settings.telemetry.additional")}),d.jsx(Z,{isChecked:_,onChange:function(e){var n=e.target.checked;return i(an(n))}})]}),d.jsx(N,{fontSize:"sm",lineHeight:"100%",color:"gray.600",children:o("header.settings.telemetry.additionalInfo")})]})]})]})})]})]})};function mt(){var e=Ce().t,n=Ee(),t=Ge((function(e){return e.app})).telemetry.app,i=Ge((function(e){return e.param})),o=i.past,a=i.future,c=h(pe.useState(!1),2),l=c[0],u=c[1],p=h(pe.useState(!1),2),f=p[0],y=p[1],b=Un(ye.getEnv),w=Un(ye.getAppVersion);pe.useEffect((function(){t&&b!==cn.DEV&&ye.event(Ke.APP_LOAD,{isStandaloneWindow:ye.isStandaloneWindow()})}),[b]);var k=function(){var e=s(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye.getI18nInstance().changeLanguage(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return d.jsxs(ln,{children:[d.jsx(D,{as:"h4",size:"md",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:e("header.about.rmp")}),d.jsx(un,{environment:b,version:w,popoverHeader:b===cn.PRD?void 0:d.jsxs(Fn,{i18nKey:"header.popoverHeader",environment:b,children:["You're on ",{environment:b}," environment!"]}),popoverBody:b===cn.PRD?void 0:d.jsx(Fn,{i18nKey:"header.popoverBody",children:"This is a testing environment where we test the latest beta RMP."})}),d.jsxs(oe,{ml:"auto",children:[d.jsx(se,{children:d.jsx(g,{size:"sm",variant:"ghost","aria-label":"Undo",icon:d.jsx(hn,{}),disabled:0===o.length,onClick:function(){return n(dn())}})}),d.jsx(se,{children:d.jsx(g,{size:"sm",variant:"ghost","aria-label":"Redo",icon:d.jsx(pn,{}),disabled:0===a.length,onClick:function(){return n(fn())}})}),d.jsx(se,{children:d.jsx(at,{})}),d.jsx(se,{children:d.jsx(Jn,{})}),d.jsx(se,{children:d.jsx(tt,{})}),ye.isStandaloneWindow()&&d.jsx(se,{children:d.jsxs(m,{children:[d.jsx(x,{as:g,icon:d.jsx(mn,{}),variant:"ghost",size:"sm"}),d.jsx(j,{children:["en","zh-Hans","zh-Hant","ja","ko"].map((function(e){return d.jsx(v,{onClick:function(){return k(e)},children:Vn[e][e]},e)}))})]})}),d.jsx(se,{children:d.jsx(g,{size:"sm",variant:"ghost","aria-label":"Settings",icon:d.jsx(xn,{}),onClick:function(){return u(!0)}})}),d.jsx(se,{children:d.jsx(g,{size:"sm",variant:"ghost","aria-label":"Help",icon:d.jsx(gn,{}),onClick:function(){return y(!0)}})})]}),d.jsx(ft,{isOpen:l,onClose:function(){return u(!1)}}),d.jsx(st,{isOpen:f,onClose:function(){return y(!1)}})]})}function xt(){var e=Ee(),n=Ge((function(e){return e.runtime.globalAlerts}));return d.jsx(d.Fragment,{children:Object.entries(n).map((function(n){var t=h(n,2),r=t[0],i=t[1],o=i.message,s=i.url,a=i.linkedApp;return d.jsxs(ae,{status:r,variant:"solid",size:"xs",pl:3,pr:1,py:0,zIndex:"1",children:[d.jsx(ce,{}),a?d.jsx(H,{onClick:function(){return function(e){ye.isStandaloneWindow()?window.open("/".concat(e),"_blank"):ye.openApp(e)}(a)},children:o}):s?d.jsx(H,{href:s,target:"_blank",children:o}):o,d.jsx(f,{ml:"auto",onClick:function(){return e(jn(r))}})]},r)}))})}}}}))}();
