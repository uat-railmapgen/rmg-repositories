!function(){var e=["format"],n=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"],t=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"],r=["version"],i=["version"];function s(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(A){l=function(e,n,t){return e[n]=t}}function u(e,n,t,i){var s=n&&n.prototype instanceof p?n:p,o=Object.create(s.prototype),a=new C(i||[]);return r(o,"_invoke",{value:k(e,t,a)}),o}function h(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d={};function p(){}function m(){}function x(){}var g={};l(g,o,(function(){return this}));var j=Object.getPrototypeOf,v=j&&j(j(E([])));v&&v!==n&&t.call(v,o)&&(g=v);var y=x.prototype=p.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function w(e,n){function i(r,s,o,a){var c=h(e[r],e,s);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==f(u)&&t.call(u,"__await")?n.resolve(u.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):n.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,a)}))}a(c.arg)}var s;r(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){i(e,t,n,r)}))}return s=s?s.then(r,r):r()}})}function k(e,n,t){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return H()}for(t.method=i,t.arg=s;;){var o=t.delegate;if(o){var a=z(o,t);if(a){if(a===d)continue;return a}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var c=h(e,n,t);if("normal"===c.type){if(r=t.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(r="completed",t.method="throw",t.arg=c.arg)}}}function z(e,n){var t=n.method,r=e.iterator[t];if(void 0===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=void 0,z(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),d;var i=h(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function S(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function O(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:H}}function H(){return{value:void 0,done:!0}}return m.prototype=x,r(y,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:m,configurable:!0}),m.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(n,t,r,i,s){void 0===s&&(s=Promise);var o=new w(u(n,t,r,i),s);return e.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=t.call(s,"catchLoc"),c=t.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&t.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=n,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(o)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),d},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),O(t),d}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;O(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:E(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),d}},e}function o(e,n,t,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(r,i)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function a(e){o(s,r,i,a,c,"next",e)}function c(e){o(s,r,i,a,c,"throw",e)}a(void 0)}))}}function c(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=s.call(t)).done)&&(a.push(r.value),a.length!==n);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(e,n)||u(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){x(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function x(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==f(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===f(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}System.register(["./chakra-legacy-53b88c68.js","./react-legacy-9060605e.js","./index-legacy-6f24ae83.js","./stations-legacy-c976c58c.js","./helpers-legacy-45987c2a.js","./change-types-legacy-9ffa9b07.js"],(function(o,u){"use strict";var h,p,g,j,v,y,b,w,k,z,S,O,C,E,H,A,P,_,N,R,T,I,L,M,B,G,D,F,W,U,V,K,Y,q,$,J,Z,Q,X,ee,ne,te,re,ie,se,oe,ae,ce,le,ue,he,de,fe,pe,me,xe,ge,je,ve,ye,be,we,ke,ze,Se,Oe,Ce,Ee,He,Ae,Pe,_e,Ne,Re,Te,Ie,Le,Me,Be,Ge,De,Fe,We,Ue,Ve,Ke,Ye,qe,$e,Je,Ze,Qe,Xe,en,nn,tn,rn,sn,on,an,cn,ln,un,hn,dn,fn,pn,mn,xn,gn,jn,vn,yn,bn,wn,kn;return{setters:[function(e){h=e.j,p=e.a8,g=e.Q,j=e.a9,v=e.aa,y=e.G,b=e.ab,w=e.ac,k=e.k,z=e.$,S=e.M,O=e.a0,C=e.p,E=e.q,H=e.r,A=e.ad,P=e.g,_=e.w,N=e.a7,R=e.v,T=e.ae,I=e.s,L=e.t,M=e.af,B=e.h,G=e.F,D=e._,F=e.B,W=e.ag,U=e.a1,V=e.ah,K=e.ai,Y=e.aj,q=e.c,$=e.i,J=e.e,Z=e.f,Q=e.ak,X=e.al,ee=e.O,ne=e.am,te=e.an,re=e.ao,ie=e.ap,se=e.aq,oe=e.ar,ae=e.as,ce=e.at,le=e.au,ue=e.x,he=e.y},function(e){de=e.g,fe=e.r,pe=e.b},function(e){me=e.w,xe=e.g,ge=e.a,je=e.b,ve=e.I,ye=e.u,be=e.r,we=e.n,ke=e.S,ze=e.L,Se=e.l,Oe=e.c,Ce=e.R,Ee=e.d,He=e.e,Ae=e.s,Pe=e.f,_e=e.h,Ne=e.i,Re=e.j,Te=e.M,Ie=e.k,Le=e.m,Me=e.o,Be=e.p,Ge=e.q,De=e.t,Fe=e.v,We=e.x,Ue=e.y,Ve=e.z,Ke=e.A,Ye=e.E,qe=e.B,$e=e.C,Je=e.D,Ze=e.F,Qe=e.G,Xe=e.T,en=e.H,nn=e.J,tn=e.K,rn=e.N,sn=e.O,on=e.P,an=e.Q,cn=e.U,ln=e.V,un=e.W,hn=e.X,dn=e.Y,fn=e.Z,pn=e._,mn=e.$,xn=e.a0,gn=e.a1,jn=e.a2,vn=e.a3},function(e){yn=e.s},function(e){bn=e.c,wn=e.i},function(e){kn=e.c}],execute:function(){o("default",(function(){return h.jsxs(h.Fragment,{children:[h.jsx(lt,{}),h.jsx(ut,{})]})}));var u=de({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),zn=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Sn(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(u[t[1]]||"/"===e.charAt(e.length-2))&&(n.voidElement=!0),n.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var i=new RegExp(zn),s=null;null!==(s=i.exec(e));)if(s[0].trim())if(s[1]){var o=s[1].trim(),a=[o,""];o.indexOf("=")>-1&&(a=o.split("=")),n.attrs[a[0]]=a[1],i.lastIndex--}else s[2]&&(n.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return n}var On=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Cn=/^\s*$/,En=Object.create(null);var Hn=function(e,n){n||(n={}),n.components||(n.components=En);var t,r=[],i=[],s=-1,o=!1;if(0!==e.indexOf("<")){var a=e.indexOf("<");r.push({type:"text",content:-1===a?e:e.substring(0,a)})}return e.replace(On,(function(a,c){if(o){if(a!=="</"+t.name+">")return;o=!1}var l,u="/"!==a.charAt(1),h=a.startsWith("\x3c!--"),d=c+a.length,f=e.charAt(d);if(h){var p=Sn(a);return s<0?(r.push(p),r):((l=i[s]).children.push(p),r)}if(u&&(s++,"tag"===(t=Sn(a)).type&&n.components[t.name]&&(t.type="component",o=!0),t.voidElement||o||!f||"<"===f||t.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),0===s&&r.push(t),(l=i[s-1])&&l.children.push(t),i[s]=t),(!u||t.voidElement)&&(s>-1&&(t.voidElement||t.name===a.slice(2,-1))&&(s--,t=-1===s?r:i[s]),!o&&"<"!==f&&f)){l=-1===s?r:i[s].children;var m=e.indexOf("<",d),x=e.slice(d,-1===m?void 0:m);Cn.test(x)&&(x=" "),(m>-1&&s+l.length>=0||" "!==x)&&l.push({type:"text",content:x})}})),r};function An(e,n){if(!e)return!1;var t=e.props?e.props.children:e.children;return n?t.length>0:!!t}function Pn(e){return e?e.props?e.props.children:e.children:[]}function _n(e){return Array.isArray(e)?e:[e]}function Nn(n,t){if(!n)return"";var r="",i=_n(n),s=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return i.forEach((function(n,i){if("string"==typeof n)r+="".concat(n);else if(fe.isValidElement(n)){var o=Object.keys(n.props).length,a=s.indexOf(n.type)>-1,c=n.props.children;if(!c&&a&&0===o)r+="<".concat(n.type,"/>");else if(c||a&&0===o)if(n.props.i18nIsDynamicList)r+="<".concat(i,"></").concat(i,">");else if(a&&1===o&&"string"==typeof c)r+="<".concat(n.type,">").concat(c,"</").concat(n.type,">");else{var l=Nn(c,t);r+="<".concat(i,">").concat(l,"</").concat(i,">")}else r+="<".concat(i,"></").concat(i,">")}else if(null===n)ge("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===f(n)){var u=n.format,h=d(n,e),p=Object.keys(h);if(1===p.length){var m=u?"".concat(p[0],", ").concat(u):p[0];r+="{{".concat(m,"}}")}else ge("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",n)}else ge("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",n)})),r}function Rn(e,n,t,r,i,s){if(""===n)return[];var o=r.transKeepBasicHtmlNodesFor||[],a=n&&new RegExp(o.join("|")).test(n);if(!e&&!a)return[n];var c={};!function e(n){_n(n).forEach((function(n){"string"!=typeof n&&(An(n)?e(Pn(n)):"object"!==f(n)||fe.isValidElement(n)||Object.assign(c,n))}))}(e);var l=Hn("<0>".concat(n,"</0>")),u=m(m({},c),i);function h(e,n,t){var r=Pn(e),i=p(r,n.children,t);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return fe.isValidElement(e)}))}(r)&&0===i.length?r:i}function d(e,n,t,r,i){e.dummy&&(e.children=n),t.push(fe.cloneElement(e,m(m({},e.props),{},{key:r}),i?void 0:n))}function p(n,i,c){var l=_n(n);return _n(i).reduce((function(n,i,x){var g,j,v,y=i.children&&i.children[0]&&i.children[0].content&&t.services.interpolator.interpolate(i.children[0].content,u,t.language);if("tag"===i.type){var b=l[parseInt(i.name,10)];!b&&1===c.length&&c[0][i.name]&&(b=c[0][i.name]),b||(b={});var w=0!==Object.keys(i.attrs).length?(g={props:i.attrs},(v=m({},j=b)).props=Object.assign(g.props,j.props),v):b,k=fe.isValidElement(w),z=k&&An(i,!0)&&!i.voidElement,S=a&&"object"===f(w)&&w.dummy&&!k,O="object"===f(e)&&null!==e&&Object.hasOwnProperty.call(e,i.name);if("string"==typeof w){var C=t.services.interpolator.interpolate(w,u,t.language);n.push(C)}else if(An(w)||z){d(w,h(w,i,c),n,x)}else if(S){var E=p(l,i.children,c);n.push(fe.cloneElement(w,m(m({},w.props),{},{key:x}),E))}else if(Number.isNaN(parseFloat(i.name))){if(O)d(w,h(w,i,c),n,x,i.voidElement);else if(r.transSupportBasicHtmlNodes&&o.indexOf(i.name)>-1)if(i.voidElement)n.push(fe.createElement(i.name,{key:"".concat(i.name,"-").concat(x)}));else{var H=p(l,i.children,c);n.push(fe.createElement(i.name,{key:"".concat(i.name,"-").concat(x)},H))}else if(i.voidElement)n.push("<".concat(i.name," />"));else{var A=p(l,i.children,c);n.push("<".concat(i.name,">").concat(A,"</").concat(i.name,">"))}}else if("object"!==f(w)||k)1===i.children.length&&y?n.push(fe.cloneElement(w,m(m({},w.props),{},{key:x}),y)):n.push(fe.cloneElement(w,m(m({},w.props),{},{key:x})));else{var P=i.children[0]?y:null;P&&n.push(P)}}else if("text"===i.type){var _=r.transWrapTextNodes,N=s?r.unescape(t.services.interpolator.interpolate(i.content,u,t.language)):t.services.interpolator.interpolate(i.content,u,t.language);_?n.push(fe.createElement(_,{key:"".concat(i.name,"-").concat(x)},N)):n.push(N)}return n}),[])}return Pn(p([{dummy:!0,children:e||[]}],l,_n(e||[]))[0])}function Tn(e){var t=e.children,r=e.count,i=e.parent,s=e.i18nKey,o=e.context,a=e.tOptions,c=void 0===a?{}:a,l=e.values,u=e.defaults,h=e.components,f=e.ns,p=e.i18n,x=e.t,g=e.shouldUnescape,j=d(e,n),v=p||je();if(!v)return me("You will need to pass in an i18next instance by using i18nextReactModule"),t;var y=x||v.t.bind(v)||function(e){return e};o&&(c.context=o);var b=m(m({},xe()),v.options&&v.options.react),w=f||y.ns||v.options&&v.options.defaultNS;w="string"==typeof w?[w]:w||["translation"];var k=u||Nn(t,b)||b.transEmptyNodeValue||s,z=b.hashTransKey,S=s||(z?z(k):k),O=l?c.interpolation:{interpolation:m(m({},c.interpolation),{},{prefix:"#$?",suffix:"?$#"})},C=m(m(m(m({},c),{},{count:r},l),O),{},{defaultValue:k,ns:w}),E=Rn(h||t,S?y(S,C):k,v,b,C,g),H=void 0!==i?i:b.defaultTransParent;return H?fe.createElement(H,j,E):E}function In(e){var n=e.children,r=e.count,i=e.parent,s=e.i18nKey,o=e.context,a=e.tOptions,c=void 0===a?{}:a,l=e.values,u=e.defaults,h=e.components,f=e.ns,p=e.i18n,x=e.t,g=e.shouldUnescape,j=d(e,t),v=fe.useContext(ve)||{},y=v.i18n,b=v.defaultNS,w=p||y||je(),k=x||w&&w.t.bind(w);return Tn(m({children:n,count:r,parent:i,i18nKey:s,context:o,tOptions:c,values:l,defaults:u,components:h,ns:f||k&&k.ns||b||w&&w.options&&w.options.defaultNS,i18n:w,t:x,shouldUnescape:g},j))}var Ln=function(e){return ye(be.ready(),e)},Mn={ar:{ar:"العربية",en:"Arabic",ko:"아랍어","zh-Hans":"阿拉伯文","zh-Hant":"阿拉伯文"},az:{az:"Azərbaycanca",en:"Azerbaijani",ko:"아제르바이잔어","zh-Hans":"阿塞拜疆文","zh-Hant":"阿塞拜疆文"},ca:{ca:"Català",en:"Catalan",ko:"카탈루냐어","zh-Hans":"加泰罗尼亚文","zh-Hant":"加泰隆尼亞文"},da:{da:"Dansk",en:"Danish",ko:"덴마크어","zh-Hans":"丹麦文","zh-Hant":"丹麥文"},de:{de:"Deutsch",en:"German",ko:"독일어","zh-Hans":"德文","zh-Hant":"德文"},el:{el:"Ελληνικά",en:"Greek",ko:"그리스어","zh-Hans":"希腊文","zh-Hant":"希臘文"},en:{en:"English",ko:"영어","zh-Hans":"英文","zh-Hant":"英文"},es:{en:"Spanish",es:"Español",ko:"스페인어","zh-Hans":"西班牙文","zh-Hant":"西班牙文"},fa:{en:"Persian",fa:"فارسی",ko:"페르시아어","zh-Hans":"波斯文","zh-Hant":"波斯文"},fr:{en:"French",fr:"Français",ko:"프랑스어","zh-Hans":"法文","zh-Hant":"法文"},ga:{en:"Irish",ga:"Gaeilge",ko:"아일랜드어","zh-Hans":"爱尔兰文","zh-Hant":"愛爾蘭文"},gd:{en:"Scottish Gaelic",gd:"Gàidhlig",ko:"스코틀랜드 게일어","zh-Hans":"苏格兰盖尔文","zh-Hant":"蘇格蘭蓋爾文"},hi:{en:"Hindi",hi:"हिन्दी",ko:"힌디어","zh-Hans":"印地文","zh-Hant":"印地文"},hu:{en:"Hungarian",hu:"Magyar",ko:"헝가리어","zh-Hans":"匈牙利文","zh-Hant":"匈牙利文"},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"인도네시아어","zh-Hans":"印尼文","zh-Hant":"印尼文"},it:{en:"Italian",it:"Italiano",ko:"이탈리아어","zh-Hans":"意大利文","zh-Hant":"意大利文"},ja:{en:"Japanese",ja:"日本語",ko:"일본어","zh-Hans":"日文","zh-Hant":"日文"},ko:{en:"Korean",ko:"한국어","zh-Hans":"韩文","zh-Hant":"韓文"},ms:{en:"Malay",ko:"말레이어",ms:"Bahasa Melayu","zh-Hans":"马来文","zh-Hant":"馬來文"},no:{en:"Norwegian",ko:"노르웨이어",no:"Norsk","zh-Hans":"挪威文","zh-Hant":"挪威文"},pl:{en:"Polish",ko:"폴란드어",pl:"Polski","zh-Hans":"波兰文","zh-Hant":"波蘭文"},pt:{en:"Portuguese",ko:"포르투갈어",pt:"Português","zh-Hans":"葡萄牙文","zh-Hant":"葡萄牙文"},ro:{en:"Romanian",ko:"루마니아어",ro:"Română","zh-Hans":"罗马尼亚文","zh-Hant":"羅馬尼亞文"},ru:{en:"Russian",ko:"러시아어",ru:"Русский","zh-Hans":"俄文","zh-Hant":"俄文"},sv:{en:"Swedish",ko:"스웨덴어",sv:"Svenska","zh-Hans":"瑞典文","zh-Hant":"瑞典文"},th:{en:"Thai",ko:"태국어",th:"ภาษาไทย","zh-Hans":"泰文","zh-Hant":"泰文"},tr:{en:"Turkish",ko:"튀르키예어",tr:"Türkçe","zh-Hans":"土耳其文","zh-Hant":"土耳其文"},ur:{en:"Urdo",ko:"우르두어",ur:"اردو","zh-Hans":"乌尔都文","zh-Hant":"烏爾都文"},uz:{en:"Uzbek",ko:"우즈베크어",uz:"Oʻzbekcha","zh-Hans":"乌兹别克文","zh-Hant":"烏茲別克文"},vi:{en:"Vietnamese",ko:"베트남어",vi:"Tiếng Việt","zh-Hans":"越南文","zh-Hant":"越南文"},"zh-Hans":{en:"Simplified Chinese",ko:"중국어 간체자","zh-Hans":"简体中文","zh-Hant":"簡體中文"},"zh-Hant":{en:"Traditional Chinese",ko:"중국어 정체자","zh-Hans":"繁体中文","zh-Hant":"繁體中文"}},Bn={h:500,maxH:"70%","& iframe":{h:"100%",w:"100%"}};function Gn(e){var n=e.isOpen,t=e.onClose,r=e.onImport,i=l(fe.useState(crypto.randomUUID()),1)[0],s="/rmg/import?"+new URLSearchParams({parentComponent:be.getAppName(),parentId:i});return fe.useEffect((function(){var e=new BroadcastChannel("rmg-bridge--"+i);return e.onmessage=function(e){var n=e.data,i=n.event,s=n.data;console.log("[rmp] Received event from RMG app clip:",i),"CLOSE"===i?t():"IMPORT"===i&&r(s)},function(){e.close()}}),[]),h.jsx(Ce,{isOpen:n,onClose:t,sx:Bn,children:h.jsx("iframe",{src:s,loading:"lazy"})})}var Dn=new BroadcastChannel("RMP_GALLERY_CHANNEL"),Fn={h:"80%",w:"80%","& iframe":{h:"100%",w:"100%"}};function Wn(e){var n=e.isOpen,t=e.onClose,i=p(),o=Ee().t,c=He(),l=pe.useRef(window.graph),u=pe.useCallback((function(){c(Ae()),c(Pe()),c(_e(l.current.export()))}),[c,Ae,Pe,_e,l]),f=function(){var e=a(s().mark((function e(n){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,Ne(JSON.stringify(n));case 3:e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),t.version,i=d(t,r),c(Re()),l.current.clear(),l.current.import(i.graph),u();case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=a(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([fetch("/rmp-gallery/resources/real_world/".concat(n,".json")),fetch("/rmp-gallery/resources/fantasy/".concat(n,".json"))]);case 2:if(e.t1=t=e.sent.filter((function(e){return"fulfilled"===e.status})).find((function(e){return 200===e.value.status})),e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=t.value.json();case 11:return e.next=13,e.t2;case 13:(r=e.sent)?(f(r),i({title:o("header.open.importFromRMPGallery",{id:n}),status:"success",duration:9e3,isClosable:!0})):i({title:o("header.open.failToImportFromRMPGallery",{id:n}),status:"error",duration:9e3,isClosable:!0});case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return pe.useEffect((function(){var e=window.location.href;if(e.includes("/s/")){history.replaceState({},o("about.rmp"),e.substring(0,e.indexOf("s/")));var n=e.substring(e.lastIndexOf("s/")+2);m(n)}}),[]),pe.useEffect((function(){Dn.onmessage=function(e){var n=e.data,r=n.event,i=n.data;"OPEN_TEMPLATE"===r&&(m(i),t())}}),[]),h.jsx(h.Fragment,{children:h.jsxs(Ce,{isOpen:n,onClose:t,size:"full",sx:Fn,children:[h.jsx("iframe",{src:"/rmp-gallery/",loading:"lazy"}),h.jsx(g,{onClick:t,position:"fixed",top:"5px",right:"15px"})]})})}function Un(){var e=Ee().t,n=He(),t=pe.useRef(window.graph),r=pe.useRef(null),o=l(pe.useState(!1),2),u=o[0],f=o[1],p=l(pe.useState(!1),2),g=p[0],z=p[1],S=pe.useCallback((function(){n(Ae()),n(Pe()),n(_e(t.current.export()))}),[n,Ae,Pe,_e,t]),O=function(){var r=a(s().mark((function r(o){var a,c,l,u,h;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=null===(a=o.target.files)||void 0===a?void 0:a[0],console.log("OpenActions.handleUpload():: received file",c),"application/json"===(null==c?void 0:c.type)){r.next=7;break}n(Ge({status:"error",message:e("OpenActions.invalidType")})),console.error("OpenActions.handleUpload():: Invalid file type! Only file in JSON format is accepted."),r.next=28;break;case 7:return r.prev=7,r.next=10,Vn(c);case 10:return l=r.sent,r.t0=JSON,r.next=14,Ne(l);case 14:r.t1=r.sent,u=r.t0.parse.call(r.t0,r.t1),u.version,h=d(u,i),n(Re()),t.current.clear(),t.current.import(h.graph),S(),r.next=28;break;case 24:r.prev=24,r.t2=r.catch(7),n(Ge({status:"error",message:e("OpenActions.unknownError")})),console.error("OpenActions.handleUpload():: Unknown error occurred while parsing the uploaded file",r.t2);case 28:o.target.value="";case 29:case"end":return r.stop()}}),r,null,[[7,24]])})));return function(e){return r.apply(this,arguments)}}();return h.jsxs(j,{children:[h.jsx(v,{as:y,size:"sm",variant:"ghost",icon:h.jsx(Te,{})}),h.jsxs(b,{children:[h.jsx(w,{icon:h.jsx(Ie,{}),onClick:function(){n(Re()),t.current.clear(),n(Me(100)),n(Be({x:0,y:0})),S()},children:e("header.open.new")}),h.jsx("input",{id:"upload_project",ref:r,type:"file",accept:".json",hidden:!0,onChange:O,"data-testid":"file-upload"}),h.jsx(w,{icon:h.jsx(Te,{}),onClick:function(){var e;return null==r||null===(e=r.current)||void 0===e?void 0:e.click()},children:e("header.open.config")}),h.jsx(w,{icon:h.jsx(Le,{}),onClick:function(){return f(!0)},children:e("header.open.projectRMG")}),h.jsxs(w,{icon:h.jsx(Le,{}),onClick:function(){return z(!0)},children:[e("header.open.gallery"),h.jsx(k,{ml:"1",colorScheme:"green",children:"New"})]})]}),h.jsx(Gn,{isOpen:u,onClose:function(){return f(!1)},onImport:function(r){try{!function(e,n){var t=n.info_panel_type,r=n.line_num,i=n.stn_list,s=n.style,o=n.theme,a=Object.fromEntries(Object.keys(i).filter((function(e){return!["linestart","lineend"].includes(e)})).map((function(e){return[e,"stn_".concat(we(10))]})));Object.entries(i).filter((function(e){var n=l(e,2),t=n[0];return n[1],!["linestart","lineend"].includes(t)})).forEach((function(n){var t=l(n,2),r=t[0],i=t[1],s=e.filterNodes((function(e,n){return Object.values(ke).includes(n.type)&&n[n.type].names[0]===i.name[0]}));0!==s.length&&(a[r]=s[0])})),Object.entries(i).filter((function(e){var n=l(e,2),t=n[0];return n[1],!["linestart","lineend"].includes(t)})).filter((function(n){var t=l(n,2),r=(t[0],t[1]);return 0===e.filterNodes((function(e,n){return Object.values(ke).includes(n.type)&&n[n.type].names[0]===r.name[0]})).length})).forEach((function(n,i){var u=l(n,2),h=u[0],d=u[1],f=ke.ShmetroBasic,p=d.transfer.groups,g=p.map((function(e){return e.lines})).flat();"shmetro"===s?f=g.length>0?ke.ShmetroInt:"sh2020"===t?ke.ShmetroBasic2020:ke.ShmetroBasic:"gzmtr"===s?f=g.length>0?ke.GzmtrInt:ke.GzmtrBasic:"mtr"===s&&(f=ke.MTR);var j=m(m({},structuredClone(yn[f].defaultAttrs)),{},{names:d.name});f===ke.ShmetroBasic2020?j.color=o:f===ke.GzmtrBasic?(j.color=o,j.lineCode=r,j.stationCode=d.num):f===ke.GzmtrInt?j.transfer=p.map((function(e,n){var t=e.lines.map((function(e){var n;return[].concat(c(null!==(n=e.theme)&&void 0!==n?n:o),["1","01"])}));return 0===n?[[].concat(c(o),[r,d.num])].concat(c(t)):t})):f===ke.MTR&&(p[0].lines.length?j.transfer=[[[].concat(c(o),["",""])].concat(c(p[0].lines.map((function(e){var n;return[].concat(c(null!==(n=e.theme)&&void 0!==n?n:o),["",""])}))))]:j.transfer=[[]]),e.addNode(a[h],x({visible:!0,zIndex:0,x:100+50*i,y:1e3,type:f},f,j))})),Object.entries(i).filter((function(e){var n=l(e,2),t=n[0];return n[1],!["linestart","lineend"].includes(t)})).forEach((function(n){var t=l(n,2),r=t[0];t[1].children.filter((function(e){return!["linestart","lineend"].includes(e)})).forEach((function(n){var t;e.addDirectedEdgeWithKey("line_".concat(we(10)),a[r],a[n],(x(t={visible:!0,zIndex:0,type:ze.Diagonal},ze.Diagonal,structuredClone(Se[ze.Diagonal].defaultAttrs)),x(t,"style",Oe.SingleColor),x(t,Oe.SingleColor,{color:o}),x(t,"reconcileId",""),t))}))}))}(t.current,r),S()}catch(i){n(Ge({status:"error",message:e("OpenActions.unknownError")})),console.error("OpenActions.handleUploadRMG():: Unknown error occurred while parsing the RMG project",i)}finally{f(!1)}}}),h.jsx(Wn,{isOpen:g,onClose:function(){return z(!1)}})]})}var Vn=function(e){return new Promise((function(n){var t=new FileReader;t.onloadend=function(){return n(t.result)},t.readAsText(e)}))},Kn=function(e){return new Promise((function(n){var t=new FileReader;t.onloadend=function(){return n(t.result)},t.readAsDataURL(e)}))},Yn=function(){var e=a(s().mark((function e(n){var t,r,i,o,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(new Set([].concat(c(n.querySelectorAll(".rmp-name__mtr__zh")),c(n.querySelectorAll(".rmp-name__mtr__en"))).map((function(e){return e.innerHTML})).join("").replace(/\s/g,""))).join(""),e.next=3,document.fonts.load("80px GenYoMin TW, Vegur",r);case 3:if(i=e.sent,o=null===(t=document.querySelector("link#fonts_mtr"))||void 0===t||null===(t=t.sheet)||void 0===t?void 0:t.cssRules){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("cssRules can not be found in link#css_share")));case 7:return l=Array.from(o).filter((function(e){return e instanceof CSSFontFaceRule})),u=i.reduce((function(e,n){var t,r=(t=n,l.find((function(e){var n=e.style;return n.getPropertyValue("font-family").replace(/^"(.+)"$/,"$1")===t.family&&n.getPropertyValue("unicode-range")===t.unicodeRange})));return r?e.find((function(e){var n=e.style,t=r.style;return n.getPropertyValue("font-family")===t.getPropertyValue("font-family")&&n.getPropertyValue("unicode-range")===t.getPropertyValue("unicode-range")}))?e:e.concat(r):e}),[]),e.next=11,Promise.all(u.map(function(){var e=a(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(qn(n));case 3:return t=e.sent,e.t0=Kn,e.next=7,t.blob();case 7:return e.t1=e.sent,e.next=10,(0,e.t0)(e.t1);case 10:return r=e.sent,e.abrupt("return",n.cssText.replace(/src:[ \w('",\-:/.)]+;/g,"src: url('".concat(r,"'); ")));case 14:return e.prev=14,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),qn=function(e){var n,t=e.style.src;return navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?t.replace(/^url\("(\S+)"\).*$/,"$1"):"/rmp//styles/"+(null===(n=t.match(/^url\("([\S*]+)"\)/))||void 0===n?void 0:n[1])},$n=function(e){var n=e.isOpen,t=e.onClose,r=Ee().t;return h.jsxs(z,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:r("header.download.termsAndConditions")}),h.jsx(E,{}),h.jsx(H,{children:h.jsxs(A,{children:[h.jsxs(P,{children:["The layout of the elements on the signage or rail map, is designed by"," ",h.jsxs(_,{color:"teal.500",href:"https://www.shmetro.com/",isExternal:!0,children:["Shanghai Shentong Metro Group ",h.jsx(N,{as:De})]}),", ",h.jsxs(_,{color:"teal.500",href:"https://www.gzmtr.com/",isExternal:!0,children:["Guangzhou Metro Group ",h.jsx(N,{as:De})]})," or ",h.jsxs(_,{color:"teal.500",href:"https://www.mtr.com.hk/",isExternal:!0,children:["MTR Corporation ",h.jsx(N,{as:De})]}),", depending on your selection. You shall grant appropriate permit or license from the relevant company above before using the generated images for commercial purposes, if it is required to do so.",h.jsx("br",{}),"标志版或路线图的元素或布局，基于你所选择的风格，为",h.jsxs(_,{color:"teal.500",href:"https://www.shmetro.com/",isExternal:!0,children:["上海申通地铁集团 ",h.jsx(N,{as:De})]}),"，",h.jsxs(_,{color:"teal.500",href:"https://www.gzmtr.com/",isExternal:!0,children:["广州地铁集团公司 ",h.jsx(N,{as:De})]}),"或",h.jsxs(_,{color:"teal.500",href:"https://www.mtr.com.hk/",isExternal:!0,children:["港铁公司 ",h.jsx(N,{as:De})]}),"所设计。在产生的图像用作商业用途前，你应向相关公司取得适当之许可证或授权。"]}),h.jsxs(P,{children:["The elements including shapes and lines on the image are drawn by"," ",h.jsxs(_,{color:"teal.500",href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",h.jsx(N,{as:De})]})," and ",h.jsxs(_,{color:"teal.500",href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",h.jsx(N,{as:De})]}),", based on the design standards or rules of the companies listed above. You may use them for any purposes, but it is recommended to state the name and the link of software alongside.",h.jsx("br",{}),"图像的元素，包括图形及线条，均由",h.jsxs(_,{color:"teal.500",href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",h.jsx(N,{as:De})]}),"及",h.jsxs(_,{color:"teal.500",href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",h.jsx(N,{as:De})]}),"基于上述公司设计标准或准则绘制。你可将其用于任何目的，但我们建议你于使用同时附以我们的名字以及本网站地址。"]}),h.jsxs(P,{children:["Due to copyright, licensing and other legal restrictions, Rail Map Painter uses"," ",h.jsxs(_,{color:"teal.500",href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["GenYoMin provided by ButTaiwan ",h.jsx(N,{as:De})]}),", and Vegur instead of MTRSung and Myriad Pro respectively to display and generate MTR-style signage. You shall grant appropriate permit or license from the manufacturers before using those generated images for commercial purposes.",h.jsx("br",{}),"由于著作权及其他法律限制，铁路路线图绘制器使用由",h.jsxs(_,{color:"teal.500",href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["ButTaiwan提供的源樣明體 ",h.jsx(N,{as:De})]}),"，以及Vegur，以代替港铁样式标志牌所使用的地铁宋及Myriad Pro。在产生之图像用作商业用途前，你应向字型生产厂商取得适当之许可证或授权。"]}),h.jsxs(P,{children:["The exported images in PNG or SVG format may be modified, published, or used for other purposes except commercial use, under the conditions above.",h.jsx("br",{}),"输出的PNG或SVG图像可基于上述条款，在非商业使用时，用于修改、发行或其他用途。"]}),h.jsxs(P,{children:["All flag emojis shown on Windows platforms are designed by"," ",h.jsxs(_,{color:"teal.500",href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",h.jsx(N,{as:De})]})," ","– the open-source emoji and icon project. License:",h.jsxs(_,{color:"teal.500",href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",h.jsx(N,{as:De})]}),h.jsx("br",{}),"于Windows作业系统上显示的国旗Emoji为",h.jsxs(_,{color:"teal.500",href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",h.jsx(N,{as:De})]}),"所设计。许可证：",h.jsxs(_,{color:"teal.500",href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",h.jsx(N,{as:De})]})]}),h.jsxs(P,{children:["We reserve the rights, without prior notice, to modify, add, or remove these terms. The Chinese translation is for reference only. In case of any discrepancy between the English version and the Chinese version, the English version shall prevail.",h.jsx("br",{}),"我们保留修改、新增或移除上述条款之权利，而无需另行通知。中文译本仅供参考，文义如与英文有歧异，概以英文本为准。"]})]})})]})]})};function Jn(){var e=Ee().t,n=Fe((function(e){return e.app})).telemetry.project,t=Fe((function(e){return e.runtime})).nodeExists,r=pe.useRef(window.graph),i=R("white","gray.800"),o=l(pe.useState("png"),2),u=o[0],d=o[1],f={png:e("header.download.png"),svg:e("header.download.svg")},p=l(pe.useState(100),2),m=p[0],x=p[1],g=Object.fromEntries([25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map((function(e){return[e,"".concat(e,"%")]}))),k=l(pe.useState(!1),2),A=k[0],P=k[1],G=[{type:"select",label:e("header.download.format"),value:u,options:f,onChange:function(e){return d("png"===e?"png":"svg")}}],D=[{type:"select",label:e("header.download.scale"),value:m,options:g,onChange:function(e){return x(e)}},{type:"switch",label:e("header.download.transparent"),isChecked:A,onChange:P}],F=l(pe.useState(!1),2),W=F[0],U=F[1],V=l(pe.useState(!1),2),K=V[0],Y=V[1],q=l(pe.useState(!1),2),$=q[0],J=q[1],Z=l(pe.useState(!1),2),Q=Z[0],X=Z[1],ee=function(){var e=a(s().mark((function e(){var o,a,h,d,f,p,x,g,j,v,y,b,w,k,z,S;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(!1),n&&be.event(Ye.DOWNLOAD_IMAGES,{numberOfNodes:r.current.order,numberOfEdges:r.current.size}),o=bn(r.current),a=o.xMin,h=o.yMin,d=o.xMax,f=o.yMax,p=d-a,x=f-h,c((g=document.getElementById("canvas").cloneNode(!0)).children).filter((function(e){return r.current.hasNode(e.id)&&r.current.getNodeAttribute(e.id,"type")===Je.Virtual})).forEach((function(e){return g.removeChild(e)})),$||g.appendChild(Xn(d-400,f-60)),g.setAttribute("viewBox","".concat(a," ").concat(h," ").concat(p," ").concat(x)),g.setAttribute("width",p.toString()),g.setAttribute("height",x.toString()),Object.entries({".rmp-name__zh":["font-family"],".rmp-name__en":["font-family"],".rmp-name__mtr__zh":["font-family"],".rmp-name__mtr__en":["font-family"],".rmp-name-station":["paint-order","stroke","stroke-width"]}).forEach((function(e){var n=l(e,2),t=n[0],r=n[1],i=document.querySelector(t);if(null!==i){var s=window.getComputedStyle(i);g.querySelectorAll(t).forEach((function(e){r.forEach((function(n){e.setAttribute(n,s.getPropertyValue(n))})),e.classList.remove(t)}))}})),!t[ke.MTR]){e.next=25;break}return e.prev=12,e.next=15,Yn(g);case 15:j=e.sent,(v=document.createElement("style")).textContent=j.join("\n"),g.prepend(v),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(12),alert("Failed to fonts. Fonts in the exported PNG will be missing."),console.error(e.t0);case 25:if("svg"!==u){e.next=28;break}return Zn("RMP_".concat((new Date).valueOf(),".svg"),"image/svg+xml",g.outerHTML),e.abrupt("return");case 28:document.body.appendChild(g),y="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(g.outerHTML))),document.body.removeChild(g),b=document.createElement("canvas"),w=p*m/100,k=x*m/100,b.width=w,b.height=k,z=b.getContext("2d"),A||(z.fillStyle=i,z.fillRect(0,0,w,k)),(S=new Image).onload=function(){z.drawImage(S,0,0,w,k),b.toBlob((function(e){return Qn("RMP_".concat((new Date).valueOf(),".png"),e)}),"image/png")},S.src=y;case 40:case"end":return e.stop()}}),e,null,[[12,21]])})));return function(){return e.apply(this,arguments)}}();return h.jsxs(j,{id:"download",children:[h.jsx(v,{as:y,size:"sm",variant:"ghost",icon:h.jsx(We,{})}),h.jsxs(b,{children:[h.jsx(w,{icon:h.jsx(Ue,{}),onClick:function(){n&&be.event(Ye.DOWNLOAD_PARAM,{"#nodes":r.current.order,"#edges":r.current.size});var e=qe($e.getState().param);Zn("RMP_".concat((new Date).valueOf(),".json"),"application/json",e)},children:e("header.download.config")}),h.jsx(w,{icon:h.jsx(Ve,{}),onClick:function(){return U(!0)},children:e("header.download.image")})]}),h.jsxs(z,{size:"xl",isOpen:W,onClose:function(){return U(!1)},children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:e("header.download.image")}),h.jsx(E,{}),h.jsxs(H,{children:[h.jsx(Ke,{fields:G}),"png"===u&&h.jsx(Ke,{fields:D}),h.jsx("br",{}),h.jsx(T,{isChecked:$,onChange:function(e){return J(e.target.checked)},children:h.jsxs(I,{children:[e("header.download.shareInfo1"),h.jsxs(_,{color:"teal.500",onClick:function(){return window.open("https://railmapgen.github.io/rmp","_blank")},children:[e("header.about.rmp")," ",h.jsx(N,{as:De})]}),e("header.download.shareInfo2")]})}),h.jsx(T,{isChecked:Q,onChange:function(e){return X(e.target.checked)},children:h.jsxs(I,{children:[e("header.download.termsAndConditionsInfo"),h.jsxs(_,{color:"teal.500",onClick:function(){return Y(!0)},children:[e("header.download.termsAndConditions")," ",h.jsx(N,{as:De})]}),e("header.download.period")]})})]}),h.jsx(L,{children:h.jsx(M,{children:h.jsx(B,{colorScheme:"teal",variant:"outline",size:"sm",disabled:!Q,onClick:ee,children:e("header.download.confirm")})})}),h.jsx($n,{isOpen:K,onClose:function(){return Y(!1)}})]})]})]})}var Zn=function(e,n,t){var r=new Blob([t],{type:n});Qn(e,r)},Qn=function(e,n){var t=window.URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)},Xn=function(e,n){var t=document.createElementNS("http://www.w3.org/2000/svg","g");t.setAttribute("transform","translate(".concat(e,", ").concat(n,")scale(2)"));var r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttribute("width","40"),r.setAttribute("height","40"),r.setAttribute("x","-50"),r.setAttribute("y","-20");var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("font-family","Arial, sans-serif"),i.setAttribute("font-size","16"),i.appendChild(document.createTextNode("Rail Map Painter"));var s=document.createElementNS("http://www.w3.org/2000/svg","text");return s.setAttribute("font-family","Arial, sans-serif"),s.setAttribute("font-size","10"),s.setAttribute("y","10"),s.appendChild(document.createTextNode("https://railmapgen.github.io/rmp/")),t.appendChild(r),t.appendChild(i),t.appendChild(s),t},et=function(e){var n=e.isOpen,t=e.onClose,r=Ee().t,i=be.getAppVersion(),s=l(pe.useState(!1),2),o=s[0],a=s[1];return h.jsxs(z,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:r("header.about.title")}),h.jsx(E,{}),h.jsxs(H,{paddingBottom:10,children:[h.jsxs(G,{direction:"row",children:[h.jsx(D,{boxSize:"128px",src:"/rmp//logo192.png"}),h.jsxs(G,{direction:"column",width:"100%",alignItems:"center",justifyContent:"center",children:[h.jsx(I,{fontSize:"xl",as:"b",children:r("header.about.rmp")}),h.jsx(I,{children:i}),h.jsx(I,{}),h.jsx(I,{fontSize:"sm",children:r("header.about.railmapgen")})]})]}),h.jsx(F,{margin:5,children:h.jsx(I,{fontSize:"xl",children:r("header.about.desc")})}),h.jsx(W,{as:"h5",size:"sm",mt:3,mb:2,children:r("header.about.contributors")}),h.jsx(W,{as:"h6",size:"xs",my:2,children:r("header.about.coreContributors")}),h.jsx(U,{children:h.jsxs(V,{size:"lg",w:"85%",onClick:function(){return window.open("https://github.com/thekingofcity","_blank")},cursor:"pointer",children:[h.jsx(K,{src:"https://github.com/thekingofcity.png",size:"lg",my:2,ml:-1,mr:2}),h.jsxs(Y,{display:"block",width:"100%",children:[h.jsx(I,{fontSize:"lg",fontWeight:"bold",mb:1,children:"thekingofcity"}),h.jsx(I,{fontSize:"sm",children:r("header.about.content1")}),h.jsx(I,{fontSize:"sm",align:"right",mb:1,children:r("header.about.content2")})]})]})}),h.jsx(W,{as:"h6",size:"xs",my:2,children:r("header.about.styleContributors")}),h.jsxs(U,{children:[h.jsxs(V,{size:"lg",w:"85%",onClick:function(){return window.open("https://github.com/203IhzElttil","_blank")},cursor:"pointer",children:[h.jsx(K,{src:"https://github.com/203IhzElttil.png",size:"lg",my:2,ml:-1,mr:2}),h.jsxs(Y,{display:"block",width:"100%",children:[h.jsx(I,{fontSize:"lg",fontWeight:"bold",mb:1,children:"203IhzElttil"}),h.jsx(I,{fontSize:"sm",mb:1,children:r("header.about.203IhzElttil")})]})]}),h.jsxs(V,{size:"lg",w:"85%",onClick:function(){return window.open("https://github.com/52PD","_blank")},cursor:"pointer",children:[h.jsx(K,{src:"https://github.com/52PD.png",size:"lg",my:2,ml:-1,mr:2}),h.jsxs(Y,{display:"block",width:"100%",children:[h.jsx(I,{fontSize:"lg",fontWeight:"bold",mb:1,children:"52PD"}),h.jsx(I,{fontSize:"sm",mb:1,children:r("header.about.52PD")})]})]})]}),h.jsx(W,{as:"h5",size:"sm",mt:3,mb:2,children:r("header.about.contactUs")}),h.jsxs(U,{children:[h.jsxs(V,{size:"lg",w:"85%",onClick:function(){return window.open("https://github.com/railmapgen/rmp/issues","_blank")},cursor:"pointer",children:[h.jsx(K,{src:"/rmp/assets/github-mark-7a0dd11e.svg",size:"lg",my:2,ml:-1,mr:2}),h.jsxs(Y,{display:"block",width:"100%",children:[h.jsx(I,{fontSize:"lg",fontWeight:"bold",mb:1,children:r("header.about.github")}),h.jsx(I,{fontSize:"sm",children:r("header.about.githubContent")})]})]}),h.jsxs(V,{size:"lg",w:"85%",onClick:function(){return window.open("https://join.slack.com/t/railmapgenerator/shared_invite/zt-1odhhta3n-DdZF~fnVwo_q0S0RJmgV8A","_blank")},cursor:"pointer",children:[h.jsx(K,{src:"/rmp/assets/slack-mark-19839006.svg",size:"lg",my:2,ml:-1,mr:2}),h.jsxs(Y,{display:"block",width:"100%",children:[h.jsx(I,{fontSize:"lg",fontWeight:"bold",mb:1,children:r("header.about.slack")}),h.jsx(I,{fontSize:"sm",children:r("header.about.slackContent")}),h.jsx(I,{fontSize:"sm",as:"i",children:"#rmp, #gallery, #rmg, #palette-and-templates"})]})]})]}),h.jsx(W,{as:"h5",size:"sm",mt:3,mb:2,children:r("header.about.linkExchange")}),h.jsxs(U,{children:[h.jsxs(V,{size:"lg",w:"85%",onClick:function(){return a(!0)},cursor:"pointer",children:[h.jsx(K,{src:"/rmp//images/guidaoTransit.jpg",size:"lg",my:2,ml:-1,mr:2}),h.jsxs(Y,{display:"block",width:"100%",children:[h.jsx(I,{fontSize:"lg",fontWeight:"bold",mb:1,children:r("header.about.guidaoTransit")}),h.jsx(I,{fontSize:"sm",children:r("header.about.guidaoTransitContent")})]})]}),h.jsxs(z,{size:"6xl",isOpen:o,onClose:function(){return a(!1)},children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:r("header.about.guidaoTransit")}),h.jsx(E,{}),h.jsx(H,{paddingBottom:10,children:h.jsx(D,{width:"1080",height:"304",src:"/rmp//images/guidaoTransitQRCode.png"})})]})]})]})]})]})]})},nt=function(){var e=l(pe.useState(!1),2),n=e[0],t=e[1],r=Fe((function(e){return e.param})).svgViewBoxZoom,i=He(),s=[{type:"slider",label:"",value:400-r,min:10,max:390,step:1,onChange:function(e){return i(Me(400-e))},leftIcon:h.jsx(Qe,{}),rightIcon:h.jsx(Ze,{}),minW:160}];return h.jsxs(q,{isOpen:n,onOpen:function(){return t(!0)},onClose:function(){return t(!1)},children:[h.jsx($,{children:h.jsx(y,{"aria-label":"zoom",variant:"ghost",size:"sm",icon:h.jsx(Ze,{}),onClick:function(){return t(!n)}})}),h.jsx(J,{children:h.jsx(Z,{children:h.jsx(Ke,{fields:s,noLabel:!0})})})]})},tt=function(e){var n=e.isOpen,t=e.onClose,r=He(),i=Ee().t,s=pe.useRef(window.graph),o=l(pe.useState(0),2),a=o[0],c=o[1],u=l(pe.useState(0),2),d=u[0],f=u[1],p=[{type:"input",label:i("header.settings.procedures.translate.x"),value:a.toString(),variant:"number",onChange:function(e){return c(Number(e))},minW:"full"},{type:"input",label:i("header.settings.procedures.translate.y"),value:d.toString(),variant:"number",onChange:function(e){return f(Number(e))},minW:"full"}];return h.jsxs(z,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:i("header.settings.procedures.translate.title")}),h.jsx(E,{}),h.jsxs(H,{children:[i("header.settings.procedures.translate.content"),h.jsx(Ke,{fields:p})]}),h.jsxs(L,{children:[h.jsx(B,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:i("cancel")}),h.jsx(B,{colorScheme:"red",onClick:function(){s.current.forEachNode((function(e,n){s.current.updateNodeAttribute(e,"x",(function(e){return(null!=e?e:0)+a})),s.current.updateNodeAttribute(e,"y",(function(e){return(null!=e?e:0)+d}))})),r(Ae()),r(Pe()),r(_e(s.current.export())),t()},children:i("apply")})]})]})]})},rt=function(e){var n=e.isOpen,t=e.onClose,r=He(),i=Ee().t,s=pe.useRef(window.graph),o=l(pe.useState(1),2),a=o[0],c=o[1],u=[{type:"input",label:i("header.settings.procedures.scale.factor"),value:a.toString(),variant:"number",onChange:function(e){return c(Number(e))},minW:"full"}];return h.jsxs(z,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:i("header.settings.procedures.scale.title")}),h.jsx(E,{}),h.jsxs(H,{children:[i("header.settings.procedures.scale.content"),h.jsx(Ke,{fields:u})]}),h.jsxs(L,{children:[h.jsx(B,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:i("cancel")}),h.jsx(B,{colorScheme:"red",onClick:function(){s.current.forEachNode((function(e,n){s.current.updateNodeAttribute(e,"x",(function(e){return(null!=e?e:0)*a})),s.current.updateNodeAttribute(e,"y",(function(e){return(null!=e?e:0)*a}))})),r(Ae()),r(Pe()),r(_e(s.current.export())),t()},children:i("apply")})]})]})]})},it=function(e){var n=e.isOpen,t=e.onClose,r=He(),i=Ee().t,s=pe.useRef(window.graph),o=Object.fromEntries(Object.entries(yn).map((function(e){var n=l(e,2),t=n[0],r=n[1];return[t,i(r.metadata.displayName).toString()]}))),a=l(pe.useState(Object.keys(yn).at(0)),2),c=a[0],u=a[1],d=l(pe.useState(Object.keys(yn).at(1)),2),f=d[0],p=d[1],m=[{type:"select",label:i("header.settings.procedures.changeType.changeFrom"),value:c,options:o,disabledOptions:[f],onChange:function(e){return u(e)},minW:"full"},{type:"select",label:i("header.settings.procedures.changeType.changeTo"),value:f,options:o,disabledOptions:[c],onChange:function(e){return p(e)},minW:"full"}];return h.jsxs(z,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsxs(C,{children:[h.jsx(I,{as:"b",fontSize:"xl",children:i("header.settings.procedures.changeType.title")}),h.jsx(Q,{label:i("header.settings.pro"),children:h.jsx(k,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",children:"PRO"})})]}),h.jsx(E,{}),h.jsxs(H,{children:[h.jsx(Ke,{fields:m}),h.jsx(I,{fontSize:"sm",mt:"3",lineHeight:"100%",color:"red.500",children:i("header.settings.procedures.changeType.info")})]}),h.jsxs(L,{children:[h.jsx(B,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:i("cancel")}),h.jsx(B,{colorScheme:"red",onClick:function(){kn(s.current,c,f),r(Ae()),r(_e(s.current.export()))},children:i("apply")})]})]})]})},st=function(e){var n=e.isOpen,t=e.onClose,r=He(),i=Fe((function(e){return e.runtime})).theme,s=Ee().t,o=pe.useRef(window.graph),a=l(pe.useState(i),2),c=a[0],u=a[1],d=l(pe.useState(!1),2),f=d[0],p=d[1];return h.jsxs(z,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:s("header.settings.procedures.removeLines.title")}),h.jsx(E,{}),h.jsxs(H,{children:[s("header.settings.procedures.removeLines.content"),h.jsx(Xe,{theme:c,onClick:function(){return p(!0)}}),h.jsx(en,{isOpen:f,defaultTheme:c,onClose:function(){return p(!1)},onUpdate:function(e){return u(e)}})]}),h.jsxs(L,{children:[h.jsx(B,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:s("cancel")}),h.jsx(B,{colorScheme:"red",onClick:function(){o.current.filterEdges((function(e,n,t,r,i,s,o){return n.style===Oe.SingleColor&&JSON.stringify(n[Oe.SingleColor].color)===JSON.stringify(c)})).forEach((function(e){return o.current.dropEdge(e)})),r(Pe()),r(_e(o.current.export())),t()},children:s("remove")})]})]})]})},ot={width:"100%",justifyContent:"space-between"},at={fontFamily:"-apple-system"},ct=function(e){var n=e.isOpen,t=e.onClose,r=Fe((function(e){return e.runtime})).keepLastPath,i=He(),s=Ee().t,o=R("primary.500","primary.300"),a=l(pe.useState(!1),2),c=a[0],u=a[1],d=l(pe.useState(!1),2),f=d[0],p=d[1],m=l(pe.useState(!1),2),x=m[0],g=m[1],j=l(pe.useState(!1),2),v=j[0],y=j[1],b=be.isAllowAnalytics(),w=Fe((function(e){return e.app})).telemetry.app;return h.jsxs(z,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(S,{}),h.jsxs(O,{children:[h.jsx(C,{children:s("header.settings.title")}),h.jsx(E,{}),h.jsx(H,{children:h.jsxs(U,{divider:h.jsx(X,{borderColor:"gray.200"}),children:[h.jsxs(F,{width:"100%",mb:"3",children:[h.jsx(I,{as:"b",fontSize:"xl",children:s("header.settings.preference.title")}),h.jsx(F,{mt:"3",children:h.jsxs(F,{display:"flex",mb:"1",children:[h.jsx(I,{flex:"1",children:s("header.settings.preference.keepLastPath")}),h.jsx(ee,{isChecked:r,onChange:function(e){var n=e.target.checked;return i(nn(n))}})]})})]}),h.jsxs(F,{width:"100%",mb:"3",children:[h.jsx(I,{as:"b",fontSize:"xl",children:s("header.settings.shortcuts.title")}),h.jsx(F,{mt:"3",children:h.jsxs(ne,{children:[h.jsx(te,{children:h.jsxs(re,{children:[h.jsx(ie,{children:s("header.settings.shortcuts.keys")}),h.jsx(ie,{children:s("header.settings.shortcuts.description")})]})}),h.jsxs(se,{children:[h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(ae,{children:"f"})}),h.jsx(oe,{children:s("header.settings.shortcuts.f")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(tn,{})}),h.jsx(oe,{children:s("header.settings.shortcuts.arrowUpward")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(rn,{})}),h.jsx(oe,{children:s("header.settings.shortcuts.arrowBack")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(sn,{})}),h.jsx(oe,{children:s("header.settings.shortcuts.arrowForward")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(on,{})}),h.jsx(oe,{children:s("header.settings.shortcuts.arrowDownward")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(ae,{children:"i"})}),h.jsx(oe,{children:s("header.settings.shortcuts.i")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(ae,{children:"j"})}),h.jsx(oe,{children:s("header.settings.shortcuts.j")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(ae,{children:"k"})}),h.jsx(oe,{children:s("header.settings.shortcuts.k")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:h.jsx(ae,{children:"l"})}),h.jsx(oe,{children:s("header.settings.shortcuts.l")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:wn?h.jsx(ae,{sx:at,children:"⇧"}):h.jsx(ae,{children:"shift"})}),h.jsx(oe,{children:s("header.settings.shortcuts.shift")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:wn?h.jsx(ae,{sx:at,children:"⌥"}):h.jsx(ae,{children:"alt"})}),h.jsx(oe,{children:s("header.settings.shortcuts.alt")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:wn?h.jsx(ae,{sx:at,children:"⌫"}):h.jsx(ae,{children:"delete"})}),h.jsx(oe,{children:s("header.settings.shortcuts.delete")})]}),h.jsxs(re,{children:[h.jsxs(oe,{children:[wn?h.jsx(ae,{sx:at,children:"⌘"}):h.jsx(ae,{children:"ctrl"})," + ",h.jsx(ae,{children:"z"})]}),h.jsx(oe,{children:s("header.settings.shortcuts.undo")})]}),h.jsxs(re,{children:[h.jsx(oe,{children:wn?h.jsxs(h.Fragment,{children:[h.jsx(ae,{sx:at,children:"⇧"})," + ",h.jsx(ae,{sx:at,children:"⌘"})," + ",h.jsx(ae,{children:"z"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ae,{children:"ctrl"})," + ",h.jsx(ae,{children:"y"})]})}),h.jsx(oe,{children:s("header.settings.shortcuts.redo")})]})]})]})})]}),h.jsxs(F,{width:"100%",mb:"3",children:[h.jsx(I,{as:"b",fontSize:"xl",children:s("header.settings.procedures.title")}),h.jsxs(F,{mt:"3",children:[h.jsx(B,{sx:ot,rightIcon:h.jsx(an,{}),onClick:function(){return u(!0)},children:s("header.settings.procedures.translate.title")}),h.jsx(tt,{isOpen:c,onClose:function(){return u(!1)}}),h.jsx(B,{sx:ot,rightIcon:h.jsx(an,{}),onClick:function(){return p(!0)},children:s("header.settings.procedures.scale.title")}),h.jsx(rt,{isOpen:f,onClose:function(){return p(!1)}}),h.jsx(B,{sx:ot,rightIcon:h.jsx(an,{}),onClick:function(){return g(!0)},children:h.jsxs(F,{children:[s("header.settings.procedures.changeType.title"),h.jsx(Q,{label:s("header.settings.pro"),children:h.jsx(k,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",children:"PRO"})})]})}),h.jsx(it,{isOpen:x,onClose:function(){return g(!1)}}),h.jsx(B,{sx:ot,rightIcon:h.jsx(an,{}),onClick:function(){return y(!0)},children:s("header.settings.procedures.removeLines.title")}),h.jsx(st,{isOpen:v,onClose:function(){return y(!1)}})]})]}),h.jsxs(F,{width:"100%",mb:"3",children:[h.jsx(I,{as:"b",fontSize:"xl",children:s("header.settings.telemetry.title")}),h.jsxs(F,{mt:"3",children:[h.jsxs(F,{display:"flex",mb:"1",children:[h.jsx(I,{flex:"1",children:s("header.settings.telemetry.essential")}),h.jsx(ee,{isChecked:b,isDisabled:!0})]}),h.jsx(I,{fontSize:"sm",lineHeight:"100%",color:"gray.600",children:s("header.settings.telemetry.essentialInfo")}),h.jsxs(_,{color:o,fontSize:"sm",lineHeight:"100%",href:"https://support.google.com/analytics/answer/11593727",isExternal:!0,children:[s("header.settings.telemetry.essentialLink")," ",h.jsx(N,{as:De})]}),h.jsxs(F,{display:"flex",mb:"1",children:[h.jsx(I,{flex:"1",children:s("header.settings.telemetry.additional")}),h.jsx(ee,{isChecked:w,onChange:function(e){var n=e.target.checked;return i(cn(n))}})]}),h.jsx(I,{fontSize:"sm",lineHeight:"100%",color:"gray.600",children:s("header.settings.telemetry.additionalInfo")})]})]})]})})]})]})};function lt(){var e=Ee().t,n=He(),t=Fe((function(e){return e.app})).telemetry.app,r=Fe((function(e){return e.param})),i=r.past,o=r.future,c=l(pe.useState(!1),2),u=c[0],d=c[1],f=l(pe.useState(!1),2),p=f[0],m=f[1],x=Ln(be.getEnv),g=Ln(be.getAppVersion);pe.useEffect((function(){t&&x!==ln.DEV&&be.event(Ye.APP_LOAD,{isStandaloneWindow:be.isStandaloneWindow()})}),[x]);var k=function(){var e=a(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be.getI18nInstance().changeLanguage(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return h.jsxs(un,{children:[h.jsx(W,{as:"h4",size:"md",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:e("header.about.rmp")}),h.jsx(hn,{environment:x,version:g,popoverHeader:x===ln.PRD?void 0:h.jsxs(In,{i18nKey:"header.popoverHeader",environment:x,children:["You're on ",{environment:x}," environment!"]}),popoverBody:x===ln.PRD?void 0:h.jsx(In,{i18nKey:"header.popoverBody",children:"This is a testing environment where we test the latest beta RMP."})}),h.jsxs(ce,{ml:"auto",children:[h.jsx(le,{children:h.jsx(y,{size:"sm",variant:"ghost","aria-label":"Undo",icon:h.jsx(dn,{}),disabled:0===i.length,onClick:function(){return n(fn())}})}),h.jsx(le,{children:h.jsx(y,{size:"sm",variant:"ghost","aria-label":"Redo",icon:h.jsx(pn,{}),disabled:0===o.length,onClick:function(){return n(mn())}})}),h.jsx(le,{children:h.jsx(nt,{})}),h.jsx(le,{children:h.jsx(Un,{})}),h.jsx(le,{children:h.jsx(Jn,{})}),be.isStandaloneWindow()&&h.jsx(le,{children:h.jsxs(j,{children:[h.jsx(v,{as:y,icon:h.jsx(xn,{}),variant:"ghost",size:"sm"}),h.jsx(b,{children:["en","zh-Hans","zh-Hant","ja","ko"].map((function(e){return h.jsx(w,{onClick:function(){return k(e)},children:Mn[e][e]},e)}))})]})}),h.jsx(le,{children:h.jsx(y,{size:"sm",variant:"ghost","aria-label":"Settings",icon:h.jsx(gn,{}),onClick:function(){return d(!0)}})}),h.jsx(le,{children:h.jsx(y,{size:"sm",variant:"ghost","aria-label":"Help",icon:h.jsx(jn,{}),onClick:function(){return m(!0)}})})]}),h.jsx(ct,{isOpen:u,onClose:function(){return d(!1)}}),h.jsx(et,{isOpen:p,onClose:function(){return m(!1)}})]})}function ut(){var e=He(),n=Fe((function(e){return e.runtime.globalAlerts}));return h.jsx(h.Fragment,{children:Object.entries(n).map((function(n){var t=l(n,2),r=t[0],i=t[1],s=i.message,o=i.url,a=i.linkedApp;return h.jsxs(ue,{status:r,variant:"solid",size:"xs",pl:3,pr:1,py:0,zIndex:"1",children:[h.jsx(he,{}),a?h.jsx(_,{onClick:function(){return function(e){be.isStandaloneWindow()?window.open("/".concat(e),"_blank"):be.openApp(e)}(a)},children:s}):o?h.jsx(_,{href:o,target:"_blank",children:s}):s,h.jsx(g,{ml:"auto",onClick:function(){return e(vn(r))}})]},r)}))})}}}}))}();
