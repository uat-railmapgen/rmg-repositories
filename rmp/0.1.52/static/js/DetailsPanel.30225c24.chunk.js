"use strict";(self.webpackChunkrmp=self.webpackChunkrmp||[]).push([[5316],{1432:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(4942),i=n(3433),u=n(9439),a=n(1413),o=n(2791),s=n(9230),l=n(4087),c=n(5946),d=n(2893),f=n(3306),p=n(5984),h=n(4320),g=n(7339),v=n(5105),m=n(3671),x=n(8168),y=n(9073),b=n(7236),N=n(443),j=n(1154),E=n(8673),Z=n(184);function A(){var e=(0,s.$G)().t,t=(0,g.Qy)((function(e){return e.runtime})).selected,n=o.useRef(window.graph),r=[{type:"input",label:e("panel.details.info.id"),value:t.length>0?t.join(", "):"undefined",minW:276},{type:"input",label:e("panel.details.info.type"),value:1===t.length?n.current.hasNode(t.at(0))?n.current.getNodeAttribute(t.at(0),"type"):n.current.getEdgeAttribute(t.at(0),"type"):t.length>1?"multiple nodes":"undefined",minW:276}];return(0,Z.jsxs)(l.xu,{p:1,children:[(0,Z.jsx)(c.X,{as:"h5",size:"sm",children:e("panel.details.info.title")}),(0,Z.jsx)(h.M5,{fields:r,minW:130})]})}function C(){var e=(0,s.$G)().t,t=(0,g.u5)(),n=o.useCallback((function(){t((0,m.n9)()),t((0,v.DR)(f.current.export()))}),[t,m.n9,v.DR]),r=(0,g.Qy)((function(e){return e.runtime})),i=r.selected,a=r.refresh.all,d=i.at(0),f=o.useRef(window.graph),p=o.useState({x:0,y:0}),x=(0,u.Z)(p,2),y=x[0],b=x[1];o.useEffect((function(){var e=i.at(0);if(null!==e&&void 0!==e&&e.startsWith("stn")||null!==e&&void 0!==e&&e.startsWith("misc_node_")){var t=f.current.getNodeAttribute(e,"x"),n=f.current.getNodeAttribute(e,"y");b({x:t,y:n})}}),[a,i]);var N=[{type:"input",label:e("panel.details.nodePosition.pos.x"),value:y.x.toString(),validator:function(e){return!Number.isNaN(e)},onChange:function(e){f.current.mergeNodeAttributes(d,{x:Number(e)}),n()}},{type:"input",label:e("panel.details.nodePosition.pos.y"),value:y.y.toString(),validator:function(e){return!Number.isNaN(e)},onChange:function(e){f.current.mergeNodeAttributes(d,{y:Number(e)}),n()}}];return(0,Z.jsxs)(l.xu,{p:1,children:[(0,Z.jsx)(c.X,{as:"h5",size:"sm",children:e("panel.details.nodePosition.title")}),(0,Z.jsx)(h.M5,{fields:N,minW:130})]})}var k=(0,a.Z)((0,a.Z)({},b.Z),N.Z),w=(0,a.Z)((0,a.Z)({},j.Z),E.Z),W=function(){var e,t=(0,s.$G)().t,n=(0,g.u5)(),a=o.useCallback((function(){n((0,m.n9)()),n((0,v.DR)(N.current.export()))}),[n,m.n9,v.DR]),b=(0,g.Qy)((function(e){return e.runtime})).selected,N=o.useRef(window.graph),j=o.useState(""),E=(0,u.Z)(j,2),W=(E[0],E[1]);o.useEffect((function(){var e,t=b.at(0);N.current.hasEdge(t)&&W(null!==(e=N.current.getEdgeAttribute(t,"reconcileId"))&&void 0!==e?e:"undefined")}),[b]);var _=[],z=b.at(0);if(1===b.length&&N.current.hasNode(z)){var S=N.current.getNodeAttribute(z,"type"),R=N.current.getNodeAttribute(z,S);_.push.apply(_,(0,i.Z)(k[S].fields.filter((function(e){return"custom"!==e.type})).map((function(e){return{type:e.type,label:t(e.label),value:e.value(R),options:e.options,validator:e.validator,onChange:function(t){N.current.mergeNodeAttributes(z,(0,r.Z)({},S,e.onChange(t,R))),a()}}}))).concat((0,i.Z)(k[S].fields.filter((function(e){return"custom"===e.type})))))}if(1===b.length&&N.current.hasEdge(z)){_.push({type:"custom",label:t("color"),component:(0,Z.jsx)(x.Z,{theme:N.current.getEdgeAttribute(z,"color"),onClick:function(){return X(!0)}}),minW:"40px"});var D=N.current.getEdgeAttribute(z,"type"),O=N.current.getEdgeAttribute(z,D);_.push.apply(_,(0,i.Z)(w[D].fields.map((function(e){return{type:e.type,label:t(e.label),value:e.value(O),options:e.options,validator:e.validator,onChange:function(t){N.current.mergeEdgeAttributes(z,(0,r.Z)({},D,e.onChange(t,O))),a()}}}))))}var G=o.useState(!1),Q=(0,u.Z)(G,2),U=Q[0],X=Q[1];return(0,Z.jsxs)(h.L$,{isOpen:b.length>0,width:300,header:"Dummy header",alwaysOverlay:!0,children:[(0,Z.jsx)(h.mQ,{onClose:function(){return n((0,m.x_)())},children:t("panel.details.header")}),(0,Z.jsxs)(h.EI,{children:[(0,Z.jsx)(A,{}),1===b.length&&N.current.hasNode(z)&&(0,Z.jsx)(C,{}),(0,Z.jsxs)(l.xu,{p:1,children:[(0,Z.jsx)(c.X,{as:"h5",size:"sm",children:t("panel.details.specificAttrsTitle")}),(0,Z.jsx)(h.M5,{fields:_,minW:276})]}),(0,Z.jsx)(y.Z,{isOpen:U,defaultTheme:null!==(e=b.at(0))&&void 0!==e&&e.startsWith("line")?N.current.getEdgeAttribute(b.at(0),"color"):void 0,onClose:function(){return X(!1)},onUpdate:function(e){return t=e,void(b.at(0)&&N.current.hasEdge(b.at(0))&&(N.current.mergeEdgeAttributes(b.at(0),{color:t}),a()));var t}})]}),(0,Z.jsx)(h.B0,{children:(0,Z.jsxs)(d.U,{children:[1===b.length&&N.current.hasNode(b.at(0))&&(0,Z.jsx)(f.z,{size:"sm",variant:"outline",onClick:function(){return function(e){var t=JSON.parse(JSON.stringify(N.current.getNodeAttributes(e)));t.x+=50,t.y+=50;var n=e.startsWith("stn")?"stn_".concat((0,p.x0)(10)):"misc_node_".concat((0,p.x0)(10));N.current.addNode(n,t),a()}(b.at(0))},children:t("panel.details.footer.duplicate")}),(0,Z.jsx)(f.z,{size:"sm",variant:"outline",onClick:function(){return function(e){n((0,m.x_)()),e.forEach((function(e){N.current.hasNode(e)?N.current.dropNode(e):N.current.hasEdge(e)&&N.current.dropEdge(e)})),a()}(b)},children:t("panel.details.footer.remove")}),1===b.length&&(null===z||void 0===z?void 0:z.startsWith("line-"))&&(0,Z.jsx)(f.z,{size:"sm",variant:"outline",onClick:function(){return function(e){n((0,m.x_)());var t=N.current.getEdgeAttribute(e,"color");N.current.filterEdges((function(e,n,r,i,u,a,o){return n.color.every((function(e,n){return e===t[n]}))})).forEach((function(e){N.current.dropEdge(e)})),a()}(b.at(0))},children:t("panel.details.footer.removeEntireLine")})]})})]})}},5946:function(e,t,n){n.d(t,{X:function(){return f}});var r=n(1413),i=n(5987),u=n(7872),a=n(581),o=n(9477),s=n(1070),l=n(6992),c=n(184),d=["className"],f=(0,u.G)((function(e,t){var n=(0,a.mq)("Heading",e),u=(0,o.Lr)(e),f=(u.className,(0,i.Z)(u,d));return(0,c.jsx)(s.m.h2,(0,r.Z)((0,r.Z)({ref:t,className:(0,l.cx)("chakra-heading",e.className)},f),{},{__css:n}))}));f.displayName="Heading"},5984:function(e,t,n){n.d(t,{x0:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=DetailsPanel.30225c24.chunk.js.map