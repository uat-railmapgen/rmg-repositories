!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function t(n,t,i){return(t=function(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var i=n[Symbol.toPrimitive];if(void 0!==i){var r=i.call(n,t||"default");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o,l,a=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=o.call(t)).done)&&(a.push(i.value),a.length!==n);c=!0);}catch(u){s=!0,r=u}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw r}}return a}}(e,n)||o(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}System.register(["./index-legacy-9748d6eb.js","./chakra-legacy-99ea1e3b.js","./react-legacy-57266490.js","./stations-legacy-8f8c1c16.js"],(function(e,o){"use strict";var l,a,c,s,u,d,h,m,f,x,g,p,y,v,b,j,w,N,S,C,B,P;return{setters:[function(e){l=e.C,a=e.e,c=e.an,s=e.d,u=e.i,d=e.c,h=e.j,m=e.x,f=e.z,x=e.ah,g=e.ao,p=e.ap,y=e.aq,v=e.ar},function(e){b=e.j,j=e.ad,w=e.D,N=e._},function(e){S=e.b},function(e){C=e.M,B=e.R,P=e.f}],execute:function(){var o,z={component:function(e){var n=e.id,t=e.x,i=e.y,r=e.handlePointerDown,o=e.handlePointerMove,l=e.handlePointerUp,a=S.useCallback((function(e){return r(n,e)}),[n,r]),c=S.useCallback((function(e){return o(n,e)}),[n,o]),s=S.useCallback((function(e){return l(n,e)}),[n,l]);return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")rotate(45)"),children:[b.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),b.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),b.jsx("circle",{id:"virtual_circle_".concat(n),r:5,stroke:"black",fill:"white",fillOpacity:"0",onPointerDown:a,onPointerMove:c,onPointerUp:s,style:{cursor:"move"}})]})}),[n,t,i,a,c,s])},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[b.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),b.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),b.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},fields:[],metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},k={num:1,color:[l.Shanghai,"sh1","#E4002B",a.white]},_=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:k).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:k;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",component:b.jsx(c,{type:s.ShmetroNumLineBadge,defaultTheme:k.color})}],A={component:function(e){var n=e.id,t=e.x,o=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,s=e.handlePointerUp,u=null!=l?l:k,d=u.num,h=void 0===d?k.num:d,m=u.color,f=void 0===m?k.color:m,x=r(h>=10?[22.67,10.75]:[21,10],2),g=x[0],p=x[1],y=S.useCallback((function(e){return a(n,e)}),[n,a]),v=S.useCallback((function(e){return c(n,e)}),[n,c]),j=S.useCallback((function(e){return s(n,e)}),[n,s]);return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[b.jsx("rect",{fill:f[2],width:g,height:"22.67"}),b.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:p,y:"19",fill:f[3],fontSize:"21.33",letterSpacing:"-1.75",children:h}),b.jsx("text",{className:"rmp-name__zh",x:g+2,y:"12",fontSize:"14.67",children:"号线"}),b.jsxs("text",{className:"rmp-name__en",x:g+4,y:"21.5",fontSize:"8",children:["Line ",h]}),b.jsx("rect",{fill:"white",fillOpacity:"0",width:g,height:"22.67",onPointerDown:y,onPointerMove:v,onPointerUp:j,style:{cursor:"move"}})]})}),[n,t,o,h].concat(i(f),[y,v,j]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),b.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),b.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),b.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:k,fields:_,metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},M={names:["浦江线","Pujiang Line"],color:[l.Shanghai,"pjl","#B5B5B6",a.white]},L=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:M).names[0]},onChange:function(e,n){var t=null!=n?n:M;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:M).names[1]},onChange:function(e,n){var t=null!=n?n:M;return t.names[1]=e.toString(),t}},{type:"custom",component:b.jsx(c,{type:s.ShmetroTextLineBadge,defaultTheme:M.color})}],T={component:function(e){var n=e.id,t=e.x,o=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,s=e.handlePointerUp,u=null!=l?l:M,d=u.names,h=void 0===d?M.names:d,m=u.color,f=void 0===m?M.color:m,x=S.useRef(null),g=r(S.useState({width:12}),2),p=g[0],y=g[1];S.useEffect((function(){return y(x.current.getBBox())}),[].concat(i(h),[y,x]));var v=S.useCallback((function(e){return a(n,e)}),[n,a]),j=S.useCallback((function(e){return c(n,e)}),[n,c]),w=S.useCallback((function(e){return s(n,e)}),[n,s]);return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[b.jsx("rect",{fill:f[2],x:"0",width:p.width+7,height:"21"}),b.jsxs("g",{ref:x,children:[b.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(p.width+7)/2,y:"4",fontSize:"10",fill:f[3],letterSpacing:"-0.25",children:h[0]}),b.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(p.width+7)/2,y:"13",fontSize:"5",fill:f[3],letterSpacing:"-0.25",children:h[1]})]}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:p.width+7,height:"21",onPointerDown:v,onPointerMove:j,onPointerUp:w,style:{cursor:"move"}})]})}),[n,t,o].concat(i(h),[p],i(f),[v,j,w]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),b.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),b.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:M,fields:L,metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},D=function(e){var n=e.lineName,t=e.commonPart,i=S.useRef(null),o=r(S.useState({x:0,height:0,width:0}),2),l=o[0],a=o[1];S.useEffect((function(){i.current&&a(i.current.getBBox())}),[n.toString()]);var c=U/Math.max(U,l.width),s=(-l.x-l.width/2)*c,u=l.height*(1-c)*1.2/2;return b.jsx("g",{ref:i,transform:"translate(".concat(s,",").concat(u,")scale(").concat(c,")"),children:b.jsxs("text",{className:"rmp-name__zh",fontSize:14,y:12,textAnchor:"end",dominantBaseline:"central",children:[t,b.jsx("tspan",{className:"rmp-name__zh",fontSize:8,x:0,dy:-2,textAnchor:"start",dominantBaseline:"central",children:n[0].slice(t.length).trim()}),b.jsx("tspan",{className:"rmg-name__en",fontSize:4,x:0,dy:6,textAnchor:"start",dominantBaseline:"central",children:n[1].slice(t.length).trim()})]})})},O=function(e){return b.jsx("rect",function(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?n(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({x:-22.5,height:24,width:45,rx:4.5},e))},U=42,E=function(e){var n=e.lineName,t=e.foregroundColour,i=e.backgroundColour,o=e.passed,l=r(R(n),2),c=l[0],s=l[1],u=S.useRef(null),d=S.useRef(null),h=r(S.useState({width:0}),2),m=h[0],f=h[1],x=r(S.useState({width:0}),2),g=x[0],p=x[1];S.useEffect((function(){u.current&&f(u.current.getBBox()),d.current&&p(d.current.getBBox())}),[n.toString()]);var y=U/Math.max(U,m.width),v=U/Math.max(U,g.width),j={nameZh:{y:7.3+13.5*(1-y)*y/2},nameEn:{y:19.5-9*(1-v)*v/2}};return b.jsxs("g",{textAnchor:"middle",fill:o?a.white:t,children:[b.jsx(O,{fill:o?"#aaa":i}),2===c?b.jsx(D,{lineName:n,commonPart:s}):b.jsxs(b.Fragment,{children:[b.jsx("text",{ref:u,className:"rmp-name__zh",fontSize:12,transform:"translate(0,".concat(j.nameZh.y,")scale(").concat(y,")"),dominantBaseline:"central",children:1===c?b.jsxs(b.Fragment,{children:[b.jsx("tspan",{fontSize:16,dy:.7,className:"rmp-name__zh",dominantBaseline:"central",children:s}),b.jsx("tspan",{dy:-.7,className:"rmp-name__zh",dominantBaseline:"central",children:n[0].slice(s.length)})]}):n[0]}),b.jsx("text",{ref:d,className:"rmp-name__en",fontSize:8,transform:"translate(0,".concat(j.nameEn.y,")scale(").concat(v,")"),dominantBaseline:"middle",children:n[1]})]})]})},R=function(e){var n=e[0].match(/^(\d+)\D+$/);if(n)return[1,n[1]];var t=e.map((function(e){return e.match(/^(\w+).+$/)}));return t[0]&&t[1]&&t[0][1]===t[1][1]?[2,t[0][1]]:[3,""]},W={names:["1号线","Line 1"],color:[l.Guangzhou,"gz1","#F3D03E",a.black]},q=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:W).names[0]},onChange:function(e,n){var t=null!=n?n:W;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:W).names[1]},onChange:function(e,n){var t=null!=n?n:W;return t.names[1]=e.toString(),t}},{type:"custom",component:b.jsx(c,{type:s.GzmtrLineBadge,defaultTheme:W.color})}],I={component:function(e){var n=e.id,t=e.x,r=e.y,o=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,s=null!=o?o:W,u=s.names,d=void 0===u?W.names:u,h=s.color,m=void 0===h?W.color:h,f=S.useCallback((function(e){return l(n,e)}),[n,l]),x=S.useCallback((function(e){return a(n,e)}),[n,a]),g=S.useCallback((function(e){return c(n,e)}),[n,c]);return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(r,")"),children:[b.jsx(E,{lineName:d,foregroundColour:m[3],backgroundColour:m[2]}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"-22.5",width:"45",height:"24",rx:"4.5",onPointerDown:f,onPointerMove:x,onPointerUp:g,style:{cursor:"move"}})]})}),[n,t,r].concat(i(d),i(m),[f,x,g]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),b.jsx("text",{x:"12",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"1号线"}),b.jsx("text",{x:"12",y:"17",textAnchor:"middle",fontSize:"5",fill:"white",children:"Line 1"})]}),defaultAttrs:W,fields:q,metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},H=11.84375,F={num:1,color:[l.Beijing,"bj1","#c23a30",a.white]},Z=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:F).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:F;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",component:b.jsx(c,{type:s.BjsubwayNumLineBadge,defaultTheme:F.color})}],K={component:function(e){var n=e.id,t=e.x,r=e.y,o=e.attrs,l=e.handlePointerDown,c=e.handlePointerMove,s=e.handlePointerUp,u=null!=o?o:F,d=u.num,h=void 0===d?F.num:d,m=u.color,f=void 0===m?F.color:m,x=S.useCallback((function(e){return l(n,e)}),[n,l]),g=S.useCallback((function(e){return c(n,e)}),[n,c]),p=S.useCallback((function(e){return s(n,e)}),[n,s]),y=f[3]===a.black?"#003670":a.white;return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(r,")"),children:[b.jsx("rect",{fill:f[2],x:"0",width:32.84375,height:"16",rx:"2"}),b.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:y,fontSize:"15",letterSpacing:"-1.5",children:h}),b.jsx("text",{className:"rmp-name__zh",x:H+(h>9?5.5:3),y:"8.5",fontSize:"7",fill:y,children:"号线"}),b.jsxs("text",{className:"rmp-name__en",x:H+(h>9?6:4.5),y:"13.5",fontSize:"4",fill:y,children:["Line ",h]}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:34.84375,height:"16",rx:"2",onPointerDown:x,onPointerMove:g,onPointerUp:p,style:{cursor:"move"}})]})}),[n,t,r,h].concat(i(f),[x,g,p]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),b.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),b.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),b.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:F,fields:Z,metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},G={names:["八通线","Batong Line"],color:[l.Beijing,"bj1","#c23a30",a.white]},$=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:G).names[0]},onChange:function(e,n){var t=null!=n?n:G;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:G).names[1]},onChange:function(e,n){var t=null!=n?n:G;return t.names[1]=e.toString(),t}},{type:"custom",component:b.jsx(c,{type:s.BjsubwayTextLineBadge,defaultTheme:G.color})}],V={component:function(e){var n=e.id,t=e.x,o=e.y,l=e.attrs,c=e.handlePointerDown,s=e.handlePointerMove,u=e.handlePointerUp,d=null!=l?l:G,h=d.names,m=void 0===h?G.names:h,f=d.color,x=void 0===f?G.color:f,g=S.useRef(null),p=r(S.useState({width:12}),2),y=p[0],v=p[1];S.useEffect((function(){return v(g.current.getBBox())}),[].concat(i(m),[v,g]));var j=S.useCallback((function(e){return c(n,e)}),[n,c]),w=S.useCallback((function(e){return s(n,e)}),[n,s]),N=S.useCallback((function(e){return u(n,e)}),[n,u]),C=Math.max(28.84375,y.width),B=x[3]===a.black?"#003670":a.white;return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[b.jsx("rect",{fill:x[2],x:"0",width:C+4,height:"16",rx:"2"}),b.jsxs("g",{ref:g,children:[b.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(C+4)/2,y:"8",fontSize:"7",fill:B,children:m[0]}),b.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(C+4)/2,y:"13.5",fontSize:"4",fill:B,children:m[1]})]}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:C+3,height:"16",rx:"2",onPointerDown:j,onPointerMove:w,onPointerUp:N,style:{cursor:"move"}})]})}),[n,t,o].concat(i(m),[y],i(x),[j,w,N]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),b.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),b.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:G,fields:$,metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},J={num:1,branch:!1,color:[l.Suzhou,"sz1","#78BA25",a.white]},Q=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:J).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:J;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:function(e){var n;return null!==(n=null==e?void 0:e.branch)&&void 0!==n?n:J.branch},onChange:function(e,n){var t=null!=n?n:J;return t.branch=e,t}},{type:"custom",component:b.jsx(c,{type:s.SuzhouRTNumLineBadge,defaultTheme:J.color})}],X={component:function(e){var n=e.id,t=e.x,r=e.y,o=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,s=null!=o?o:J,u=s.num,d=void 0===u?J.num:u,h=s.branch,m=void 0===h?J.branch:h,f=s.color,x=void 0===f?J.color:f,g=S.useCallback((function(e){return l(n,e)}),[n,l]),p=S.useCallback((function(e){return a(n,e)}),[n,a]),y=S.useCallback((function(e){return c(n,e)}),[n,c]);return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(r,")"),children:[b.jsx("rect",{fill:x[2],width:"20",height:"20",rx:"2",ry:"2"}),b.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:x[3],fontSize:"15",letterSpacing:"-1",children:d}),m&&b.jsxs(b.Fragment,{children:[b.jsx("text",{className:"rmp-name__zh",x:22.5,y:"10",fontSize:"10",children:"支线"}),b.jsx("text",{className:"rmp-name__en",x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]}),b.jsx("rect",{fill:"white",fillOpacity:"0",width:"20",height:"20",rx:"2",ry:"2",onPointerDown:g,onPointerMove:p,onPointerUp:y,style:{cursor:"move"}})]})}),[n,t,r,d,m].concat(i(x),[g,p,y]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),b.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:J,fields:Q,metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},Y={content:"Enter your text here",fontSize:16,lineHeight:16,textAnchor:"middle",dominantBaseline:"middle",language:"en",color:[l.Shanghai,"jsr","#000000",a.white],rotate:0,italic:"normal",bold:"normal"},ee=[{type:"textarea",label:"panel.details.nodes.text.content",value:function(e){return(null!=e?e:Y).content},onChange:function(e,n){var t=null!=n?n:Y;return t.content=e.toString(),t}},{type:"input",label:"panel.details.nodes.text.fontSize",value:function(e){return(null!=e?e:Y).fontSize},validator:function(e){return Number.isInteger(e)&&Number(e)>0},onChange:function(e,n){var t=null!=n?n:Y;return t.fontSize=Number(e),t}},{type:"input",label:"panel.details.nodes.text.lineHeight",value:function(e){return(null!=e?e:Y).lineHeight},validator:function(e){return Number.isInteger(e)&&Number(e)>0},onChange:function(e,n){var t=null!=n?n:Y;return t.lineHeight=Number(e),t}},{type:"select",label:"panel.details.nodes.text.textAnchor",value:function(e){return(null!=e?e:Y).textAnchor},options:{start:"start",middle:"middle",end:"end"},onChange:function(e,n){var t=null!=n?n:Y;return t.textAnchor=e,t}},{type:"select",label:"panel.details.nodes.text.dominantBaseline",value:function(e){return(null!=e?e:Y).dominantBaseline},options:{auto:"auto",middle:"middle",hanging:"hanging"},onChange:function(e,n){var t=null!=n?n:Y;return t.dominantBaseline=e,t}},{type:"select",label:"panel.details.nodes.text.language",value:function(e){return(null!=e?e:Y).language},options:{zh:"Chinese",en:"English",mtr__zh:"MTR Chinese",mtr__en:"MTR English"},onChange:function(e,n){var t=null!=n?n:Y;return t.language=e.toString(),t}},{type:"select",label:"panel.details.nodes.text.rotate",value:function(e){var n;return null!==(n=null==e?void 0:e.rotate)&&void 0!==n?n:Y.rotate},options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:function(e,n){var t=null!=n?n:Y;return t.rotate=Number(e),t}},{type:"switch",label:"panel.details.nodes.text.italic",isChecked:function(e){var n;return"italic"===(null!==(n=null==e?void 0:e.italic)&&void 0!==n?n:Y.italic)},onChange:function(e,n){var t=null!=n?n:Y;return t.italic=e?"italic":"normal",t}},{type:"switch",label:"panel.details.nodes.text.bold",isChecked:function(e){var n;return"bold"===(null!==(n=null==e?void 0:e.bold)&&void 0!==n?n:Y.bold)},onChange:function(e,n){var t=null!=n?n:Y;return t.bold=e?"bold":"normal",t}},{type:"custom",component:b.jsx(c,{type:s.Text,defaultTheme:Y.color})}],ne={component:function(e){var n=e.id,t=e.x,i=e.y,o=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,s=null!=o?o:Y,u=s.content,d=void 0===u?Y.content:u,h=s.fontSize,m=void 0===h?Y.fontSize:h,f=s.lineHeight,x=void 0===f?Y.lineHeight:f,g=s.textAnchor,p=void 0===g?Y.textAnchor:g,y=s.dominantBaseline,v=void 0===y?Y.dominantBaseline:y,j=s.language,w=void 0===j?Y.language:j,N=s.color,B=void 0===N?Y.color:N,P=s.rotate,z=void 0===P?Y.rotate:P,k=s.italic,_=void 0===k?Y.italic:k,A=s.bold,M=void 0===A?Y.bold:A,L=S.useRef(null),T=r(S.useState({x:0,y:0,width:32,height:16}),2),D=T[0],O=T[1];S.useEffect((function(){return O(L.current.getBBox())}),[d,p,v,O,L]);var U=S.useCallback((function(e){return l(n,e)}),[n,l]),E=S.useCallback((function(e){return a(n,e)}),[n,a]),R=S.useCallback((function(e){return c(n,e)}),[n,c]);return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")rotate(").concat(z,")"),children:[b.jsx(C,{ref:L,text:d.split("\n"),lineHeight:x,grow:"down",className:"rmp-name__".concat(w),fontSize:m,textAnchor:p,dominantBaseline:v,fill:B[2],fontStyle:_,fontWeight:M}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:D.x-1.5,y:D.y-1.5,width:D.width+3,height:D.height+3,onPointerDown:U,onPointerMove:E,onPointerUp:R,style:{cursor:"move"}})]})}),[n,t,i,d,m,x,p,v,w,B,z,_,M,D,U,E,R])},icon:b.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:b.jsx("text",{x:"12",y:"12",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",children:"Text"})}),defaultAttrs:Y,fields:ee,metadata:{displayName:"panel.details.nodes.text.displayName",tags:[]}},te={num:1,color:[l.Berlin,"bu1","#62AD2D",a.white]},ie=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:te).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:te;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",component:b.jsx(c,{type:s.BerlinUBahnLineBadge,defaultTheme:te.color})}],re={component:function(e){var n=e.id,t=e.x,r=e.y,o=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,s=null!=o?o:te,u=s.num,d=void 0===u?te.num:u,h=s.color,m=void 0===h?te.color:h,f=S.useCallback((function(e){return l(n,e)}),[n,l]),x=S.useCallback((function(e){return a(n,e)}),[n,a]),g=S.useCallback((function(e){return c(n,e)}),[n,c]),p=m[3];return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(r,")"),children:[b.jsx("rect",{fill:m[2],x:"0",width:"25",height:"15"}),b.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:p,fontSize:"14",letterSpacing:"1",children:["U",d]}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"25",height:"15",onPointerDown:f,onPointerMove:x,onPointerUp:g,style:{cursor:"move"}})]})}),[n,t,r,d].concat(i(m),[f,x,g]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),b.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:te,fields:ie,metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},oe={num:1,color:[l.Berlin,"bs1","#DD6CA6",a.white]},le=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:oe).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:oe;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",component:b.jsx(c,{type:s.BerlinSBahnLineBadge,defaultTheme:oe.color})}],ae={component:function(e){var n=e.id,t=e.x,o=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,s=e.handlePointerUp,u=null!=l?l:oe,d=u.num,h=void 0===d?oe.num:d,m=u.color,f=void 0===m?oe.color:m,x=r(h>=10?[6,19.75]:[10,20],2),g=x[0],p=x[1],y=S.useCallback((function(e){return a(n,e)}),[n,a]),v=S.useCallback((function(e){return c(n,e)}),[n,c]),j=S.useCallback((function(e){return s(n,e)}),[n,s]),w=f[3];return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[b.jsx("rect",{fill:f[2],x:"0",width:"30",height:"15",rx:"8"}),b.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:g,y:"12.5",fill:w,fontSize:"14",letterSpacing:"0",children:"S"}),b.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:p,y:"12.5",fill:w,fontSize:"14",letterSpacing:"-0.2",children:h}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"30",height:"15",onPointerDown:y,onPointerMove:v,onPointerUp:j,style:{cursor:"move"}})]})}),[n,t,o,h].concat(i(f),[y,v,j]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),b.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:oe,fields:le,metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},ce={num:1,color:[l.Chongqing,"cq1","#e4002b",a.white]},se=[{type:"input",label:"panel.details.nodes.common.num",value:function(e){return(null!=e?e:ce).num},validator:function(e){return!Number.isNaN(e)},onChange:function(e,n){var t=null!=n?n:ce;return Number.isNaN(Number(e))?t.num=e:t.num=Number(e),t}},{type:"custom",component:b.jsx(c,{type:s.ChongqingRTNumLineBadge,defaultTheme:ce.color})}],ue={component:function(e){var n=e.id,t=e.x,o=e.y,l=e.attrs,a=e.handlePointerDown,c=e.handlePointerMove,s=e.handlePointerUp,u=null!=l?l:ce,d=u.num,h=void 0===d?ce.num:d,m=u.color,f=void 0===m?ce.color:m,x=S.useCallback((function(e){return a(n,e)}),[n,a]),g=S.useCallback((function(e){return c(n,e)}),[n,c]),p=S.useCallback((function(e){return s(n,e)}),[n,s]),y=f[3],v=Number.isInteger(h)?16:15,j=r(Number.isInteger(h)?Number(h)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55],2),w=j[0],N=j[1];return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(o,")"),children:[b.jsx("rect",{fill:f[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),b.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:N,y:"10",fill:y,fontSize:v,letterSpacing:w,dominantBaseline:"central",children:h}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"20",height:"20",rx:"10",ry:"10",onPointerDown:x,onPointerMove:g,onPointerUp:p,style:{cursor:"move"}})]})}),[n,t,o,h].concat(i(f),[x,g,p]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),b.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:ce,fields:se,metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},de={names:["空港线","Konggang Line"],color:[l.Chongqing,"cq3","#003da5",a.white]},he=[{type:"input",label:"panel.details.nodes.common.nameZh",value:function(e){return(null!=e?e:de).names[0]},onChange:function(e,n){var t=null!=n?n:de;return t.names[0]=e.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:function(e){return(null!=e?e:de).names[1]},onChange:function(e,n){var t=null!=n?n:de;return t.names[1]=e.toString(),t}},{type:"custom",component:b.jsx(c,{type:s.ChongqingRTTextLineBadge,defaultTheme:de.color})}],me={component:function(e){var n=e.id,t=e.x,r=e.y,o=e.attrs,l=e.handlePointerDown,a=e.handlePointerMove,c=e.handlePointerUp,s=null!=o?o:de,u=s.names,d=void 0===u?de.names:u,h=s.color,m=void 0===h?de.color:h,f=S.useRef(null),x=S.useCallback((function(e){return l(n,e)}),[n,l]),g=S.useCallback((function(e){return a(n,e)}),[n,a]),p=S.useCallback((function(e){return c(n,e)}),[n,c]),y=m[3];return S.useMemo((function(){return b.jsxs("g",{id:n,transform:"translate(".concat(t,", ").concat(r,")"),children:[b.jsx("rect",{fill:m[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),b.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:y,fontSize:"6",letterSpacing:"0",children:d[0]}),b.jsx(C,{ref:f,text:d[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:y,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"}),b.jsx("rect",{fill:"white",fillOpacity:"0",x:"0",width:"20",height:"20",rx:"10",ry:"10",onPointerDown:x,onPointerMove:g,onPointerUp:p,style:{cursor:"move"}})]})}),[n,t,r].concat(i(d),i(m),[x,g,p]))},icon:b.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[b.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),b.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),b.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:de,fields:he,metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},fe={dots:[[-10,-10],[10,-10],[10,10],[-10,10]],stroke:[l.Shanghai,"jsr","#000000",a.white],strokeWidth:1,fill:[l.Shanghai,"white","#fff",a.black]},xe={component:function(e){var n=e.id,t=e.x,i=e.y,r=e.attrs,o=e.handlePointerDown,l=e.handlePointerMove,a=e.handlePointerUp,c=null!=r?r:fe,s=c.dots,u=void 0===s?fe.dots:s,d=c.stroke,h=void 0===d?fe.stroke:d,m=c.strokeWidth,f=void 0===m?fe.strokeWidth:m,x=c.fill,g=void 0===x?fe.fill:x,p=u.map((function(e){return e.join(",")})).join(" "),y=S.useCallback((function(e){return o(n,e)}),[n,o]),v=S.useCallback((function(e){return l(n,e)}),[n,l]),j=S.useCallback((function(e){return a(n,e)}),[n,a]);return S.useMemo((function(){return b.jsx("g",{id:n,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:y,onPointerMove:v,onPointerUp:j,style:{cursor:"move"},children:b.jsx("polygon",{points:p,fill:g[2],stroke:h[2],strokeWidth:f})})}),[n,t,i,p,h,f,g,y,v,j])},icon:b.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:b.jsx("polygon",{transform:"translate(12,12)rotate(20)",points:"0,-5.19 -6,6 6,6",fill:"currentColor"})}),defaultAttrs:fe,fields:[],attrsComponent:function(){var e,n,i,r=u(),o=d().t,l=h((function(e){return e.runtime})).selected,a=l.at(0);if(1===l.length&&window.graph.hasNode(a)){var C=window.graph.getNodeAttribute(a,"type");C===s.Polygon&&(i=structuredClone(window.graph.getNodeAttribute(a,C)))}var P=S.useCallback((function(e,n){if(e&&n){var i=window.graph.getNodeAttribute(e,"type");i===s.Polygon&&(window.graph.mergeNodeAttributes(e,t({},i,n)),r(m()),r(f(window.graph.export())))}}),[r,m,f]),z=function(e,n){i.dots[e]=n,P(a,i)},k=null===(e=i)||void 0===e?void 0:e.dots.map((function(e,n){return[{type:"input",label:o("panel.details.nodes.polygon.x"),value:e[0].toString(),minW:"40px",onChange:function(t){return z(n,[Number(t),e[1]])}},{type:"input",label:o("panel.details.nodes.polygon.y"),value:e[1].toString(),minW:"40px",onChange:function(t){return z(n,[e[0],Number(t)])}}]}));return b.jsxs(b.Fragment,{children:[b.jsx(x,{label:o("panel.details.nodes.polygon.fill"),children:b.jsx(c,{type:s.Polygon,colorKey:"fill",defaultTheme:fe.fill})}),b.jsx(x,{label:o("panel.details.nodes.polygon.strokeWidth"),children:b.jsx(g,{value:null===(n=i)||void 0===n?void 0:n.strokeWidth.toString(),onDebouncedChange:function(e){return function(e){isFinite(e)&&(i.strokeWidth=Number(e),P(a,i))}(e)},delay:1e3})}),b.jsx(x,{label:o("panel.details.nodes.polygon.stroke"),children:b.jsx(c,{type:s.Polygon,colorKey:"stroke",defaultTheme:fe.stroke})}),b.jsx(x,{label:o("panel.details.nodes.polygon.dots"),children:b.jsx(p,{direction:"column",children:null==k?void 0:k.map((function(e,n){return b.jsxs(j,{spacing:.5,children:[b.jsx(B,{fields:e,noLabel:0!==n}),n===k.length-1?b.jsx(w,{size:"sm",variant:"ghost","aria-label":o("panel.details.nodes.polygon.duplicate"),onClick:function(){var e,n,t,r;return t=null!==(e=null===(n=i)||void 0===n?void 0:n.dots.at(-1))&&void 0!==e?e:[0,0],null===(r=i)||void 0===r||r.dots.push(t),void P(a,i)},icon:b.jsx(y,{})}):b.jsx(N,{minW:8}),n>=3?b.jsx(w,{size:"sm",variant:"ghost","aria-label":o("panel.details.nodes.polygon.remove"),onClick:function(){return function(e){i.dots=i.dots.filter((function(n,t){return e!==t})),P(a,i)}(n)},icon:b.jsx(v,{})}):b.jsx(N,{minW:8})]},n)}))})})]})},metadata:{displayName:"panel.details.nodes.polygon.displayName",tags:[]}};e("m",(t(o={},s.Virtual,z),t(o,s.ShmetroNumLineBadge,A),t(o,s.ShmetroTextLineBadge,T),t(o,s.GzmtrLineBadge,I),t(o,s.BjsubwayNumLineBadge,K),t(o,s.BjsubwayTextLineBadge,V),t(o,s.SuzhouRTNumLineBadge,X),t(o,s.BerlinSBahnLineBadge,ae),t(o,s.BerlinUBahnLineBadge,re),t(o,s.ChongqingRTNumLineBadge,ue),t(o,s.ChongqingRTTextLineBadge,me),t(o,s.Facilities,P),t(o,s.Text,ne),t(o,s.Polygon,xe),o))}}}))}();
