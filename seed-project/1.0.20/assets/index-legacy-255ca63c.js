!function(){function e(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||b(e,t)||n()}function t(e){return r(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){if(Array.isArray(e))return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function m(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new C(o||[]);return r(a,"_invoke",{value:O(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var p={};function h(){}function g(){}function d(){}var v={};c(v,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(L([])));b&&b!==t&&n.call(b,a)&&(v=b);var w=d.prototype=h.prototype=Object.create(v);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function i(r,a,s,l){var c=f(e[r],e,a);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(p).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,l)}))}l(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return g.prototype=d,r(w,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:g,configurable:!0}),g.displayName=c(d,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(w),c(w,l,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./chakra-legacy-8dede974.js","./react-legacy-153cae5d.js"],(function(n,r){"use strict";var a,u,f,d,y,b,w,x,S,O,k,_,j,C,L,R,E,T,P,N,A,I,M,D,F,U,z,V,H,B,W,G,K,$,q,J,Y,Q,X,Z,ee,te,ne,re,oe,ie,ae,se,le,ce;return{setters:[function(e){a=e.u,u=e.j,f=e.I,d=e.T,y=e.P,b=e.a,w=e.B,x=e.b,S=e.c,O=e.d,k=e.e,_=e.f,j=e.A,C=e.M,L=e.g,R=e.h,E=e.i,T=e.k,P=e.l,N=e.m,A=e.n,I=e.o,M=e.p,D=e.L,F=e.q,U=e.r,z=e.s,V=e.t,H=e.F,B=e.v,W=e.w,G=e.x,K=e.y,$=e.z,q=e.C,J=e.D,Y=e.E,Q=e.G,X=e.H,Z=e.J,ee=e.K},function(e){te=e.r,ne=e.b,re=e.a,oe=e.u,ie=e.d,ae=e.e,se=e.f,le=e.i,ce=e.I}],execute:function(){var n,r,ue=function(e){return new Promise((function(t){setTimeout(t,e,"Timeout after ".concat(e/1e3," seconds"))}))};!function(e){e.DEV="DEV",e.UAT="UAT",e.PRD="PRD"}(n||(n={})),function(e){e.GITHUB="GitHub",e.GITLAB="GitLab",e.BITBUCKET="Bitbucket",e.LOCALHOST="localhost",e.UNKNOWN="unknown"}(r||(r={}));var fe,pe,he,ge,de,ve=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(fn){i(fn)}}function s(e){try{l(r.throw(e))}catch(fn){i(fn)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},ye=function(){fe=!1,pe="rmg-unknown",he="unknown",ge=n.PRD,de=r.UNKNOWN};ye();var me={loadWithTimeout:function(){return ve(void 0,void 0,void 0,m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("[rmg-runtime] Loading config..."),e.next=4,Promise.race([ve(void 0,void 0,void 0,m().mark((function e(){var t,n,r,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.pathname.split("/")[1],n=t?"/".concat(t,"/info.json"):"/info.json",e.next=4,fetch(n);case 4:if(!(r=e.sent).ok){e.next=15;break}return e.next=8,r.json();case 8:o=e.sent,pe=o.component,he=o.version,ge=o.environment,de=o.instance,e.next=16;break;case 15:throw new Error("Failed to fetch config from ".concat(n));case 16:case"end":return e.stop()}}),e)}))),ue(1e4)]);case 4:(t=e.sent)?console.error("[rmg-runtime] Failed to load config.",t):(fe=!0,console.log("[rmg-runtime] Config loaded!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("[rmg-runtime] Failed to load config.",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))},isInitialised:function(){return fe},getComponent:function(){return pe},getVersion:function(){return he},getEnvironment:function(){return ge},getInstance:function(){return de},_resetConfig:ye};window.dataLayer=window.dataLayer||[];function be(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(me.getEnvironment()!==n.DEV)return window.dataLayer.push(arguments);console.log("[rmg-runtime] Not going to send event in DEV environment",t)}var we,xe={init:function(){var e;(e=document.createElement("script")).async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(e),be("js",new Date),be("config","G-2HP8Y4MRRQ",{appName:me.getComponent(),version:me.getVersion(),environment:me.getEnvironment(),instance:me.getInstance()})},customEvent:function(e,t){be("event",e,t)}},Se={};try{(we=new BroadcastChannel("rmg-runtime-channel")).onmessage=function(e){var t,n=e.data,r=n.event,o=n.data,i=n.frameId;null===(t=Se[r])||void 0===t||t.forEach((function(e){return e(o,i)}))}}catch(fn){console.warn("[rmg-runtime] Failed to initiate broadcast channel. Some features may be unavailable.",fn)}var Oe={postEvent:function(e,t,n){var r;n&&console.log("[rmg-runtime] Broadcasting event ".concat(e," with data"),t),null==we||we.postMessage({event:e,data:t,frameId:null===(r=window.frameElement)||void 0===r?void 0:r.id})},onMessage:function(e,t){var n;e in Se?null===(n=Se[e])||void 0===n||n.push(t):Se[e]=[t]}},ke=function(){return!window.frameElement},_e={isStandaloneWindow:ke,injectUITools:function(){if(!ke()){var e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}var t,n=document.createElement("style");n.textContent=".rmg-window__header{margin-left: 40px;}",ke()||(null===(t=window.frameElement)||void 0===t?void 0:t.closest(".show-menu"))||document.head.appendChild(n),Oe.onMessage("TOGGLE_NAV_MENU",(function(e){if(e)try{document.head.removeChild(n)}catch(fn){console.warn("[rmg-runtime] Unable to remove indent style from RmgWindowHeader",fn)}else document.head.appendChild(n)}))},openApp:function(e,t){Oe.postEvent("OPEN_APP",{appId:e,url:t})},onAppOpen:function(e){Oe.onMessage("OPEN_APP",e)},closeApp:function(e){Oe.postEvent("CLOSE_APP",e)},onAppClose:function(e){Oe.onMessage("CLOSE_APP",e)},updateUrl:function(e){Oe.postEvent("UPDATE_URL",e)},onUrlUpdate:function(e){Oe.onMessage("UPDATE_URL",e)},toggleNavMenu:function(e){Oe.postEvent("TOGGLE_NAV_MENU",e,!0)}},je="rmg-runtime__language",Ce="rmg-runtime__colourMode",Le="rmg-runtime__allowAnalytics",Re=["en","zh-Hans","zh-Hant","ko"],Ee=["light","dark","system"],Te=function(){return"true"===window.localStorage.getItem(Le)},Pe={setLanguage:function(e){Re.includes(e)&&(Oe.postEvent("SET_LANGUAGE",e),window.localStorage.setItem(je,e))},getLanguage:function(){var e=window.localStorage.getItem(je);return e&&Re.includes(e)?e:"en"},onLanguageChange:function(e){Oe.onMessage("SET_LANGUAGE",e)},setColourMode:function(e){Ee.includes(e)&&(Oe.postEvent("SET_COLOUR_MODE",e,!0),window.localStorage.setItem(Ce,e))},getColourMode:function(){var e=window.localStorage.getItem(Ce);return e&&Ee.includes(e)?e:"system"},onColourModeChange:function(e){Oe.onMessage("SET_COLOUR_MODE",e)},isAnalyticsQADone:function(){return null!==window.localStorage.getItem(Le)},isAllowAnalytics:Te,allowAnalytics:function(e){var t=Te();return e?(t||(window.localStorage.setItem(Le,e.toString()),xe.init()),{refreshRequired:!1}):t?(window.localStorage.setItem(Le,e.toString()),{refreshRequired:!0}):{refreshRequired:!1}}},Ne=(new Date).getTime();var Ae={getMsSinceStartUp:function(){var e=me.getComponent(),t=window.localStorage.getItem(e+"__startTime");return null===t?(new Date).getTime()-Ne:(new Date).getTime()-Number(t)}},Ie=function(){var e=me.getComponent();if("rmg-unknown"===e)throw new Error("[rmg-runtime] Unable to clear storage for unknown app");return"railmapgen.github.io"===e?"rmg-home":e},Me={getStorageForCurrentApp:function(){for(var e=Ie(),t={},n=0;n<window.localStorage.length;){var r=window.localStorage.key(n);if(null==r?void 0:r.startsWith(e+"__")){var o=window.localStorage.getItem(r);o&&(t[r]=o)}n++}return t},clearStorageForCurrentApp:function(){for(var e=Ie(),t=0;t<window.localStorage.length;){var n=window.localStorage.key(t);(null==n?void 0:n.startsWith(e+"__"))?(window.localStorage.removeItem(n),console.log("[rmg-runtime] Removed item ".concat(n))):t++}}},De={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Fe=function(){function e(t){g(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,n)}return v(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||De,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,p(p({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Ue=new Fe,ze=function(){function e(){g(this,e),this.observers={}}return v(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function Ve(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function He(e){return null==e?"":""+e}function Be(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function We(e,t,n){var r=Be(e,t,Object);r.obj[r.k]=n}function Ge(e,t){var n=Be(e,t),r=n.obj,o=n.k;if(r)return r[o]}function Ke(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Ke(e[r],t[r],n):e[r]=t[r]);return e}function $e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Je(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return qe[e]})):e}var Ye=[" ",",","?","!",";"];function Qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),l=o[s];void 0===l&&r.length>i+a;)a++,l=o[s=r.slice(i,i+a).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=r.slice(i+a).join(n);return c?Qe(l,c,n):void 0}o=o[r[i]]}return o}}function Xe(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}var Ze=function(e){i(n,e);var t=s(n);function n(e){var r;g(this,n);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(r=t.call(this)).data=e||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return v(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=Ge(this.data,a);return s||!i||"string"!=typeof n?s:Qe(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),We(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=Ge(this.data,a)||{};r?Ke(s,n,o):s=p(p({},s),n),We(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?p(p({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(ze),et={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o))})),t}},tt={},nt=function(e){i(n,e);var t=s(n);function n(e){var r;g(this,n);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,c(r=t.call(this))),r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=Ue.create("translator"),r}return v(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=Ye.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}(e,n,r));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),e=l.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==o(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===o(t)&&(t=p({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],t),c=l.key,u=l.namespaces,f=u[u.length-1],h=t.lng||this.language,g=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(g){var d=t.nsSeparator||this.options.nsSeparator;return a?{res:"".concat(f).concat(d).concat(c),usedKey:c,exactUsedKey:c,usedLng:h,usedNS:f}:"".concat(f).concat(d).concat(c)}return a?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:f}:c}var v=this.resolve(e,t),y=v&&v.res,m=v&&v.usedKey||c,b=v&&v.exactUsedKey||c,w=Object.prototype.toString.apply(y),x=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject;if(S&&y&&("string"!=typeof y&&"boolean"!=typeof y&&"number"!=typeof y)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(w)<0&&("string"!=typeof x||"[object Array]"!==w)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,y,p(p({},t),{},{ns:u})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return a?(v.res=O,v):O}if(s){var k="[object Array]"===w,_=k?[]:{},j=k?b:m;for(var C in y)if(Object.prototype.hasOwnProperty.call(y,C)){var L="".concat(j).concat(s).concat(C);_[C]=this.translate(L,p(p({},t),{joinArrays:!1,ns:u})),_[C]===L&&(_[C]=y[C])}y=_}}else if(S&&"string"==typeof x&&"[object Array]"===w)(y=y.join(x))&&(y=this.extendTranslation(y,e,t,r));else{var R=!1,E=!1,T=void 0!==t.count&&"string"!=typeof t.count,P=n.hasDefaultValue(t),N=T?this.pluralResolver.getSuffix(h,t.count,t):"",A=t.ordinal&&T?this.pluralResolver.getSuffix(h,t.count,{ordinal:!1}):"",I=t["defaultValue".concat(N)]||t["defaultValue".concat(A)]||t.defaultValue;!this.isValidLookup(y)&&P&&(R=!0,y=I),this.isValidLookup(y)||(E=!0,y=c);var M=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:y,D=P&&I!==y&&this.options.updateMissing;if(E||R||D){if(this.logger.log(D?"updateKey":"missingKey",h,f,c,D?I:y),s){var F=this.resolve(c,p(p({},t),{},{keySeparator:!1}));F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&z&&z[0])for(var V=0;V<z.length;V++)U.push(z[V]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(t.lng||this.language):U.push(t.lng||this.language);var H=function(e,n,r){var o=P&&r!==y?r:M;i.options.missingKeyHandler?i.options.missingKeyHandler(e,f,n,o,D,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,f,n,o,D,t),i.emit("missingKey",e,f,n,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?U.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){H([e],c+n,t["defaultValue".concat(n)]||I)}))})):H(U,c,I))}y=this.extendTranslation(y,e,t,v,r),E&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(f,":").concat(c)),(E||R)&&this.options.parseMissingKeyHandler&&(y="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(c):c,R?y:void 0):this.options.parseMissingKeyHandler(y))}return a?(v.res=y,v):y}},{key:"extendTranslation",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,p(p({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(p(p({},n),{interpolation:p(p({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=p(p({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,h="string"==typeof f?[f]:f;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=et.handle(h,e,t,this.options&&this.options.postProcessPassResolved?p({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,p=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(i=e,!tt["".concat(g[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(tt["".concat(g[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){if(!a.isValidLookup(t)){o=n;var i,l=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;f&&(u=a.pluralResolver.getSuffix(n,s.count,s));var g="".concat(a.options.pluralSeparator,"zero"),d="".concat(a.options.pluralSeparator,"ordinal").concat(a.options.pluralSeparator);if(f&&(l.push(c+u),s.ordinal&&0===u.indexOf(d)&&l.push(c+u.replace(d,a.options.pluralSeparator)),p&&l.push(c+g)),h){var v="".concat(c).concat(a.options.contextSeparator).concat(s.context);l.push(v),f&&(l.push(v+u),s.ordinal&&0===u.indexOf(d)&&l.push(v+u.replace(d,a.options.pluralSeparator)),p&&l.push(v+g))}}for(;i=l.pop();)a.isValidLookup(t)||(r=i,t=a.getResource(n,e,i,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(ze);function rt(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ot=function(){function e(t){g(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ue.create("languageUtils")}return v(e,[{key:"getScriptPartFromCode",value:function(e){if(!(e=Xe(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=Xe(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=rt(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=rt(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=rt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach((function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))})),o}}]),e}(),it=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],at={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},st=["v1","v2","v3"],lt=["v4"],ct={zero:0,one:1,two:2,few:3,many:4,other:5};var ut=function(){function e(t){g(this,e);var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Ue.create("pluralResolver"),this.options.compatibilityJSON&&!lt.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},it.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:at[e.fc]}}))})),n)}return v(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Xe(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return ct[e]-ct[t]})).map((function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!st.includes(this.options.compatibilityJSON)}}]),e}();function ft(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=function(e,t,n){var r=Ge(e,n);return void 0!==r?r:Ge(t,n)}(e,t,n);return!i&&o&&"string"==typeof n&&void 0===(i=Qe(e,n,r))&&(i=Qe(t,n,r)),i}var pt=function(){function e(){g(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ue.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return v(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Je,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?$e(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?$e(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?$e(t.nestingPrefix):t.nestingPrefixEscaped||$e("$t("),this.nestingSuffix=t.nestingSuffix?$e(t.nestingSuffix):t.nestingSuffixEscaped||$e(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,i,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var o=ft(t,l,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(o,void 0,n,p(p(p({},r),t),{},{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),c=i.join(s.formatSeparator).trim();return s.format(ft(t,l,a,s.options.keySeparator,s.options.ignoreJSONStructure),c,n,p(p(p({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=u(n)))if("function"==typeof f){var l=f(e,o,r);i="string"==typeof l?l:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(h){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=He(i));var c=t.safeValue(i);if(e=e.replace(o[0],c),h?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,o,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0];var a=(i=this.interpolate(i,o)).match(/'/g),s=i.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o=p(p({},t),o))}catch(fn){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),fn),"".concat(e).concat(n).concat(i)}return delete o.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var l=[];(o=(o=p({},a)).replace&&"string"!=typeof o.replace?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=He(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return i.format(e,t,a.lng,p(p({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function ht(e){var t={};return function(n,r,o){var i=r+JSON.stringify(o),a=t[i];return a||(a=e(Xe(r),o),t[i]=a),a(n)}}var gt=function(){function e(){g(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ue.create("formatter"),this.options=t,this.formats={number:ht((function(e,t){var n=new Intl.NumberFormat(e,p({},t));return function(e){return n.format(e)}})),currency:ht((function(e,t){var n=new Intl.NumberFormat(e,p(p({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:ht((function(e,t){var n=new Intl.DateTimeFormat(e,p({},t));return function(e){return n.format(e)}})),relativetime:ht((function(e,t){var n=new Intl.RelativeTimeFormat(e,p({},t));return function(e){return n.format(e,t.range||"day")}})),list:ht((function(e,t){var n=new Intl.ListFormat(e,p({},t));return function(e){return n.format(e)}}))},this.init(t)}return v(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=ht(t)}},{key:"format",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.split(this.formatSeparator).reduce((function(e,n){var a=function(e){var n=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var o=e.split("(");n=o[0].toLowerCase().trim();var i=o[1].substring(0,o[1].length-1);"currency"===n&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):"relativetime"===n&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach((function(e){if(e){var n=t(e.split(":")),o=n[0],i=n.slice(1).join(":").trim().replace(/^'+|'+$/g,"");r[o.trim()]||(r[o.trim()]=i),"false"===i&&(r[o.trim()]=!1),"true"===i&&(r[o.trim()]=!0),isNaN(i)||(r[o.trim()]=parseInt(i,10))}}))}return{formatName:n,formatOptions:r}}(n),s=a.formatName,l=a.formatOptions;if(o.formats[s]){var c=e;try{var u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},f=u.locale||u.lng||i.locale||i.lng||r;c=o.formats[s](e,f,p(p(p({},l),i),u))}catch(h){o.logger.warn(h)}return c}return o.logger.warn("there was no format function for ".concat(s)),e}),e);return a}}]),e}();var dt=function(e){i(n,e);var t=s(n);function n(e,r,o){var i;g(this,n);var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(i=t.call(this)).backend=e,i.store=r,i.services=o,i.languageUtils=o.languageUtils,i.options=a,i.logger=Ue.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(o,a.backend,a),i}return v(n,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var o=Be(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],r&&(i[a]=i[a].concat(n)),r||i[a].push(n)}(n.loaded,[o],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a});else{this.readingCalls++;var s=function(s,l){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&o<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*i,a)}),i):a(s,l)},l=this.backend[n].bind(this.backend);if(2!==l.length)return l(e,t,s);try{var c=l(e,t);c&&"function"==typeof c.then?c.then((function(e){return s(null,e)})).catch(s):s(null,c)}catch(u){s(u)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=p(p({},i),{},{isUpdate:o}),l=this.backend.create.bind(this.backend);if(l.length<6)try{var c;(c=5===l.length?l(e,t,n,r,s):l(e,t,n,r))&&"function"==typeof c.then?c.then((function(e){return a(null,e)})).catch(a):a(null,c)}catch(u){a(u)}else l(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(ze);function vt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===o(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===o(e[2])||"object"===o(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function yt(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function mt(){}var bt,wt=function(e){i(n,e);var t=s(n);function n(){var e;g(this,n);var r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((e=t.call(this)).options=yt(o),e.services={},e.logger=Ue,e.modules={external:[]},r=c(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),i&&!e.isInitialized&&!o.isClone){if(!e.options.initImmediate)return e.init(o,i),l(e,c(e));setTimeout((function(){e.init(o,i)}),0)}return e}return v(n,[{key:"init",value:function(){var e=this,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));var o=vt();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=p(p(p({},o),this.options),yt(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=p(p({},o.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){var a;this.modules.logger?Ue.init(i(this.modules.logger),this.options):Ue.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=gt);var s=new ot(this.options);this.store=new Ze(this.options.resources,this.options);var l=this.services;l.logger=Ue,l.resourceStore=this.store,l.languageUtils=s,l.pluralResolver=new ut(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(l.formatter=i(a),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new pt(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new dt(i(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(l.languageDetector=i(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=i(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new nt(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=mt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments),t}}));var u=Ve(),f=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)}));this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=Ve();return e||(e=this.languages),t||(t=this.options.ns),n||(n=mt),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&et.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this,r=this;this.isLanguageChangingTo=e;var o=Ve();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var s="string"==typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,a){a?(i(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,o.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var a;if("object"!==o(i)){for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];a=r.options.overloadTranslationOptionHandler([t,i].concat(l))}else a=p({},i);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var u,f=r.options.keySeparator||".";return u=a.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(a.keyPrefix).concat(f).concat(e)})):a.keyPrefix?"".concat(a.keyPrefix).concat(f).concat(t):t,r.t(u,a)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=Ve();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Ve();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter((function(e){return r.indexOf(e)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new ot(vt());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt,o=t.forkResourceStore;o&&delete t.forkResourceStore;var i=p(p(p({},this.options),t),{isClone:!0}),a=new n(i);void 0===t.debug&&void 0===t.prefix||(a.logger=a.logger.clone(t));return["store","services","language"].forEach((function(t){a[t]=e[t]})),a.services=p({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},o&&(a.store=new Ze(this.store.data,i),a.services.resourceStore=a.store),a.translator=new nt(a.services,i),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}}]),n}(ze),xt=wt.createInstance();xt.createInstance=wt.createInstance,xt.createInstance,xt.dir,xt.init,xt.loadResources,xt.reloadResources,xt.use,xt.changeLanguage,xt.getFixedT,xt.t,xt.exists,xt.setDefaultNamespace,xt.hasLoadedNamespace,xt.loadNamespaces,xt.loadLanguages;var St=function(){function t(){g(this,t),this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}return v(t,[{key:"use",value:function(e){return xt.use(e),this}},{key:"withAppName",value:function(e){return this._appName=e,this}},{key:"withLng",value:function(e){return this._lng=e,this}},{key:"withDefaultResource",value:function(t){var n=this;return Object.entries(t).forEach((function(t){var r=e(t,2),o=r[0],i=r[1];n._defaultResources[o]=i})),this}},{key:"withResource",value:function(e,t){return this._resources[e]=t,this}},{key:"combineResource",value:function(){var t={};return Object.entries(this._defaultResources).forEach((function(n){var r=e(n,2),o=r[0],i=r[1];t[o]={translation:i}})),Object.entries(this._resources).forEach((function(n){var r=e(n,2),o=r[0],i=r[1];o in t?t[o].translation=Object.assign(Object.assign({},t[o].translation),i):t[o]={translation:i}})),t}},{key:"build",value:function(){var e=this;return bt=xt.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(function(t,n){var r;t?console.error("[rmg-runtime] unexpected error occurs while initialising i18n",t):(document.title=n(e._appName),document.documentElement.lang=null!==(r=e._lng)&&void 0!==r?r:"en")})),bt.on("languageChanged",(function(t){document.title=bt.t(e._appName),document.documentElement.lang=t})),function(e){Pe.onLanguageChange((function(t){return e.changeLanguage(t)}))}(bt),bt}}]),t}(),Ot=globalThis&&globalThis.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(fn){i(fn)}}function s(e){try{l(r.throw(e))}catch(fn){i(fn)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},kt=!1,_t={ready:function(){return Ot(void 0,void 0,void 0,m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<=10)||kt){e.next=7;break}return e.next=4,ue(1e3);case 4:t+=1,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))},getAppName:me.getComponent,getAppVersion:me.getVersion,getEnv:me.getEnvironment,getInstance:me.getInstance,event:xe.customEvent,isStandaloneWindow:_e.isStandaloneWindow,injectUITools:_e.injectUITools,openApp:_e.openApp,onAppOpen:_e.onAppOpen,closeApp:_e.closeApp,onAppClose:_e.onAppClose,updateUrl:_e.updateUrl,onUrlUpdate:_e.onUrlUpdate,toggleNavMenu:_e.toggleNavMenu,postEvent:Oe.postEvent,onMessage:Oe.onMessage,setLanguage:Pe.setLanguage,getLanguage:Pe.getLanguage,onLanguageChange:Pe.onLanguageChange,setColourMode:Pe.setColourMode,getColourMode:Pe.getColourMode,onColourModeChange:Pe.onColourModeChange,isAnalyticsQADone:Pe.isAnalyticsQADone,isAllowAnalytics:Pe.isAllowAnalytics,allowAnalytics:Pe.allowAnalytics,getStorageForCurrentApp:Me.getStorageForCurrentApp,clearStorageForCurrentApp:Me.clearStorageForCurrentApp,getMsSinceStartUp:Ae.getMsSinceStartUp,I18nBuilder:St,getI18nInstance:function(){return bt}};Ot(void 0,void 0,void 0,m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.loadWithTimeout();case 2:Pe.isAnalyticsQADone()?Pe.isAllowAnalytics()&&(console.log("[rmg-runtime] User has previously allowed GA"),xe.init()):_e.isStandaloneWindow()&&"rmg-home"!==me.getComponent()&&(console.warn("[rmg-runtime] App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),xe.init()),kt=!0;case 4:case"end":return e.stop()}}),e)}))).then(),window.rmgRuntime=_t;var jt={exports:{}},Ct={},Lt=te;var Rt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Et=Lt.useState,Tt=Lt.useEffect,Pt=Lt.useLayoutEffect,Nt=Lt.useDebugValue;function At(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch(pn){return!0}}var It="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=Et({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Pt((function(){o.value=n,o.getSnapshot=t,At(o)&&i({inst:o})}),[e,n,t]),Tt((function(){return At(o)&&i({inst:o}),e((function(){At(o)&&i({inst:o})}))}),[e]),Nt(n),n};Ct.useSyncExternalStore=void 0!==Lt.useSyncExternalStore?Lt.useSyncExternalStore:It,jt.exports=Ct;var Mt=jt.exports,Dt={exports:{}},Ft={},Ut=te,zt=Mt;var Vt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ht=zt.useSyncExternalStore,Bt=Ut.useRef,Wt=Ut.useEffect,Gt=Ut.useMemo,Kt=Ut.useDebugValue;Ft.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Bt(null);if(null===i.current){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Gt((function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==o&&a.hasValue){var t=a.value;if(o(t,e))return s=t}return s=e}if(t=s,Vt(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,s=n)}var i,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var s=Ht(e,i[0],i[1]);return Wt((function(){a.hasValue=!0,a.value=s}),[s]),Kt(s),s},Dt.exports=Ft;var $t=Dt.exports;var qt=function(e){e()},Jt=function(){return qt},Yt=Symbol.for("react-redux-context-".concat(te.version)),Qt=globalThis;var Xt=new Proxy({},new Proxy({},{get:function(e,t){var n,r=((n=Qt[Yt])||(n=te.createContext(null),Qt[Yt]=n),n);return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return Reflect[t].apply(Reflect,[r].concat(o))}}}));function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return function(){return te.useContext(e)}}var en=Zt(),tn=function(){throw new Error("uSES not initialized!")},nn=function(e,t){return e===t};function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=e===Xt?en:Zt(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="function"==typeof n?{equalityFn:n}:n,o=r.equalityFn,i=void 0===o?nn:o,a=r.stabilityCheck,s=void 0===a?void 0:a,l=(r.noopCheck,t()),c=l.store,u=l.subscription,f=l.getServerState,p=l.stabilityCheck;l.noopCheck;te.useRef(!0);var g=te.useCallback(h({},e.name,(function(t){return e(t)}))[e.name],[e,p,s]),d=tn(u.addNestedSub,c.getState,f||c.getState,g,i);return te.useDebugValue(d),d}}var on,an=rn(),sn={},ln=Symbol.for("react.element"),cn=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),fn=Symbol.for("react.strict_mode"),pn=Symbol.for("react.profiler"),hn=Symbol.for("react.provider"),gn=Symbol.for("react.context"),dn=Symbol.for("react.server_context"),vn=Symbol.for("react.forward_ref"),yn=Symbol.for("react.suspense"),mn=Symbol.for("react.suspense_list"),bn=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),xn=Symbol.for("react.offscreen");function Sn(e){if("object"===o(e)&&null!==e){var t=e.$$typeof;switch(t){case ln:switch(e=e.type){case un:case pn:case fn:case yn:case mn:return e;default:switch(e=e&&e.$$typeof){case dn:case gn:case vn:case wn:case bn:case hn:return e;default:return t}}case cn:return t}}}on=Symbol.for("react.module.reference"),sn.ContextConsumer=gn,sn.ContextProvider=hn,sn.Element=ln,sn.ForwardRef=vn,sn.Fragment=un,sn.Lazy=wn,sn.Memo=bn,sn.Portal=cn,sn.Profiler=pn,sn.StrictMode=fn,sn.Suspense=yn,sn.SuspenseList=mn,sn.isAsyncMode=function(){return!1},sn.isConcurrentMode=function(){return!1},sn.isContextConsumer=function(e){return Sn(e)===gn},sn.isContextProvider=function(e){return Sn(e)===hn},sn.isElement=function(e){return"object"===o(e)&&null!==e&&e.$$typeof===ln},sn.isForwardRef=function(e){return Sn(e)===vn},sn.isFragment=function(e){return Sn(e)===un},sn.isLazy=function(e){return Sn(e)===wn},sn.isMemo=function(e){return Sn(e)===bn},sn.isPortal=function(e){return Sn(e)===cn},sn.isProfiler=function(e){return Sn(e)===pn},sn.isStrictMode=function(e){return Sn(e)===fn},sn.isSuspense=function(e){return Sn(e)===yn},sn.isSuspenseList=function(e){return Sn(e)===mn},sn.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===un||e===pn||e===fn||e===yn||e===mn||e===xn||"object"===o(e)&&null!==e&&(e.$$typeof===wn||e.$$typeof===bn||e.$$typeof===hn||e.$$typeof===gn||e.$$typeof===vn||e.$$typeof===on||void 0!==e.getModuleId)},sn.typeOf=Sn;var On={notify:function(){},get:function(){return[]}};function kn(e,t){var n,r=On;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=Jt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=On)},getListeners:function(){return r}};return a}var _n=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?te.useLayoutEffect:te.useEffect;function jn(e){var t=e.store,n=e.context,r=e.children,o=e.serverState,i=e.stabilityCheck,a=void 0===i?"once":i,s=e.noopCheck,l=void 0===s?"once":s,c=te.useMemo((function(){var e=kn(t);return{store:t,subscription:e,getServerState:o?function(){return o}:void 0,stabilityCheck:a,noopCheck:l}}),[t,o,a,l]),u=te.useMemo((function(){return t.getState()}),[t]);_n((function(){var e=c.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,u]);var f=n||Xt;return ne.createElement(f.Provider,{value:c},r)}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=e===Xt?en:Zt(e);return function(){return t().store}}var Ln=Cn();function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=e===Xt?Ln:Cn(e);return function(){return t().dispatch}}var En,Tn,Pn=Rn();En=$t.useSyncExternalStoreWithSelector,tn=En,Tn=re.unstable_batchedUpdates,qt=Tn;var Nn=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),An="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,In="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Mn="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(In):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Dn=["top","right","bottom","left","width","height","size","weight"],Fn="undefined"!=typeof MutationObserver,Un=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function a(){Mn(i)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){An&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Fn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){An&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Dn.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),zn=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Vn=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||In},Hn=qn(0,0,0,0);function Bn(e){return parseFloat(e)||0}function Wn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Bn(e["border-"+n+"-width"])}),0)}function Gn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Hn;var r=Vn(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=Bn(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=Bn(r.width),l=Bn(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=Wn(r,"left","right")+i),Math.round(l+a)!==n&&(l-=Wn(r,"top","bottom")+a)),!function(e){return e===Vn(e).document.documentElement}(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return qn(o.left,o.top,s,l)}var Kn="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Vn(e).SVGGraphicsElement}:function(e){return e instanceof Vn(e).SVGElement&&"function"==typeof e.getBBox};function $n(e){return An?Kn(e)?function(e){var t=e.getBBox();return qn(0,0,t.width,t.height)}(e):Gn(e):Hn}function qn(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Jn=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qn(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=$n(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Yn=function(e,t){var n,r,o,i,a,s,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),zn(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);zn(this,{target:e,contentRect:c})},Qn=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Nn,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Vn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Jn(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Vn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Yn(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Xn="undefined"!=typeof WeakMap?new WeakMap:new Nn,Zn=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Un.getInstance(),r=new Qn(t,n,this);Xn.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Zn.prototype[e]=function(){var t;return(t=Xn.get(this))[e].apply(t,arguments)}}));var er=void 0!==In.ResizeObserver?In.ResizeObserver:Zn;window.ResizeObserver||(window.ResizeObserver=er);var tr=globalThis&&globalThis.__assign||function(){return tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tr.apply(this,arguments)},nr=globalThis&&globalThis.__assign||function(){return nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nr.apply(this,arguments)};globalThis&&globalThis.__rest;var rr=globalThis&&globalThis.__assign||function(){return rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rr.apply(this,arguments)},or=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ir=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ar=te.forwardRef((function(e,t){var n=e.validator,r=e.onDebouncedChange,o=e.delay,i=e.optionList,s=e.defaultValue;e.onChange;var l=or(e,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),c=te.useRef(null),p=a(c,t),h=te.useRef("datalist-"+(new Date).valueOf()),g=ir(te.useState(!1),2),d=g[0],v=g[1],y=te.useRef();te.useEffect((function(){c.current&&(c.current.value=(null==s?void 0:s.toString())||"")}),[s]);return u.jsxs(u.Fragment,{children:[u.jsx(f,rr({ref:p,list:h.current,variant:"flushed",size:"sm",h:6,onChange:function(e){var t=e.target.value;window.clearTimeout(y.current),n&&v(!n(t)),y.current=window.setTimeout((function(){null==r||r(t),y.current=void 0}),null!=o?o:500)},onBlur:function(e){var t=e.target.value;void 0!==y.current&&(window.clearTimeout(y.current),n&&v(!n(t)),null==r||r(t),y.current=void 0)},isInvalid:d},l)),i&&u.jsx("datalist",rr({id:h.current},{children:null==i?void 0:i.map((function(e,t){return u.jsx("option",{children:e},t)}))}))]})})),sr=globalThis&&globalThis.__assign||function(){return sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sr.apply(this,arguments)};globalThis&&globalThis.__read;var lr=globalThis&&globalThis.__assign||function(){return lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lr.apply(this,arguments)};globalThis&&globalThis.__read,globalThis&&globalThis.__spreadArray;var cr=globalThis&&globalThis.__assign||function(){return cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cr.apply(this,arguments)};globalThis&&globalThis.__rest;var ur=globalThis&&globalThis.__assign||function(){return ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ur.apply(this,arguments)},fr=globalThis&&globalThis.__assign||function(){return fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fr.apply(this,arguments)},pr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};te.forwardRef((function(e,t){var n=e.onDebouncedChange,r=e.defaultValue;e.onChange;var o=pr(e,["onDebouncedChange","defaultValue","onChange"]),i=te.useRef(null),s=a(i,t),l=te.useRef();te.useEffect((function(){i.current&&(i.current.value=(null==r?void 0:r.toString())||"")}),[r]);return u.jsx(d,fr({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:function(e){var t=e.target.value;window.clearTimeout(l.current),l.current=window.setTimeout((function(){null==n||n(t)}),500)}},o))}));var hr=globalThis&&globalThis.__assign||function(){return hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hr.apply(this,arguments)};globalThis&&globalThis.__rest;var gr=globalThis&&globalThis.__assign||function(){return gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gr.apply(this,arguments)},dr=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},vr=function(e){switch(e){case n.DEV:return"red";case n.UAT:return"orange";case n.PRD:return"green"}};function yr(e){var t=e.environment,r=e.version,o=e.popoverHeader,i=e.popoverBody,a=dr(te.useState(!1),2),s=a[0],l=a[1];return u.jsxs(y,gr({isOpen:s,onOpen:function(){return o&&l(!0)},onClose:function(){return l(!1)}},{children:[u.jsx(b,{children:u.jsx(w,gr({ml:1,colorScheme:vr(t),title:"".concat(t,": ").concat(r),cursor:o?"pointer":"help"},{children:t===n.PRD?r:t}))}),u.jsxs(x,{children:[u.jsx(S,{}),u.jsx(O,{}),u.jsx(k,{children:o}),u.jsx(_,{children:i})]})]}))}var mr=function(e,t,n){var r=new Blob([n],{type:t});br(e,r)},br=function(e,t){var n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},wr=globalThis&&globalThis.__assign||function(){return wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wr.apply(this,arguments)},xr=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Sr(e){var t=e.cancelRef,n=e.isOpen,r=e.onClose,o=xr(te.useState(!1),2),i=o[0],a=o[1];return u.jsxs(j,wr({leastDestructiveRef:t,isOpen:n,onClose:r},{children:[u.jsx(C,{}),u.jsxs(L,{children:[u.jsx(R,{children:"Warning 警告"}),u.jsx(E,{}),u.jsxs(T,wr({sx:{"& p":{my:1}}},{children:[u.jsx(P,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),u.jsx(P,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),u.jsx(P,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]})),u.jsxs(N,{children:[u.jsx(A,wr({ref:t,onClick:r},{children:"Cancel"})),u.jsx(A,wr({isLoading:i,colorScheme:"red",ml:3,onClick:function(){a(!0);var e=_t.getStorageForCurrentApp(),t=_t.getAppName(),n="".concat(t,"_BACKUP_").concat((new Date).toISOString(),".json");mr(n,"application/json",JSON.stringify(e)),_t.clearStorageForCurrentApp(),setTimeout((function(){window.location.reload()}),2e3)}},{children:"Confirm and reload"}))]})]})]}))}var Or=globalThis&&globalThis.__assign||function(){return Or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Or.apply(this,arguments)},kr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},_r=globalThis&&globalThis.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function jr(e){var t=e.error,n=e.errorInfo,r=e.allowReset,o=e.sx,i=kr(e,["error","errorInfo","allowReset","sx"]),a=I("RmgErrorBoundary"),s=M("primary.500","primary.300"),l=_r(te.useState(!1),2),c=l[0],f=l[1],p=te.useRef(null),h=function(e){return u.jsx(D,Or({color:s,role:"button",onClick:function(){return f(!0)}},{children:e}))},g=_t.getAppName(),d=u.jsx(D,Or({color:s,href:"https://github.com/railmapgen/".concat(g,"/issues"),isExternal:!0},{children:"GitHub Issue"}));return u.jsxs(F,Or({status:"error",sx:Or(Or({},a),o)},i,{children:[u.jsx(U,{}),u.jsx(z,{children:"Something went wrong!"}),u.jsxs(V,{children:[u.jsxs(P,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?u.jsxs(u.Fragment,{children:[" or ",h("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",d," with the details shown below."]}),u.jsxs(P,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",r?u.jsxs(u.Fragment,{children:["或",h("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",d," 提交一個 Issue 並附以詳細資料。"]}),u.jsxs(P,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",r?u.jsxs(u.Fragment,{children:["或者",h("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",d," 提交一个 Issue 并附上详细信息。"]}),u.jsxs(P,Or({as:"details"},{children:[null==t?void 0:t.toString(),u.jsx("br",{}),null==n?void 0:n.componentStack]})),r&&u.jsx(Sr,{cancelRef:p,isOpen:c,onClose:function(){return f(!1)}})]})]}))}var Cr,Lr=globalThis&&globalThis.__extends||(Cr=function(e,t){return Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Cr(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Cr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rr=globalThis&&globalThis.__assign||function(){return Rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rr.apply(this,arguments)},Er=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};!function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1,error:null,errorInfo:null},n}Lr(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.suspenseFallback,r=e.allowReset,o=Er(e,["children","suspenseFallback","allowReset"]);return this.state.hasError?u.jsx(jr,Rr({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:r},o)):n?u.jsx(te.Suspense,Rr({fallback:n},{children:t})):t}}(ne.Component);var Tr=globalThis&&globalThis.__assign||function(){return Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tr.apply(this,arguments)},Pr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Nr=function(e){var t=e.label,n=e.children;e.width;var r=e.noLabel,o=e.oneLine,i=e.className,a=Pr(e,["label","children","width","noLabel","oneLine","className"]),s=I("RmgLabel");return u.jsxs(H,Tr({className:"".concat(o?"rmg-label__one-line":""," ").concat(null!=i?i:""),"aria-label":t,sx:s},a,{children:[!r&&u.jsx(B,Tr({size:"xs"},{children:t})),n]}))},Ar=globalThis&&globalThis.__assign||function(){return Ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ar.apply(this,arguments)};globalThis&&globalThis.__rest,globalThis&&globalThis.__read,globalThis&&globalThis.__read,globalThis&&globalThis.__read,globalThis&&globalThis.__read,globalThis&&globalThis.__spreadArray;var Ir=globalThis&&globalThis.__assign||function(){return Ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ir.apply(this,arguments)};globalThis&&globalThis.__read;var Mr=globalThis&&globalThis.__assign||function(){return Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mr.apply(this,arguments)},Dr=globalThis&&globalThis.__assign||function(){return Dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dr.apply(this,arguments)},Fr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ur=function(e){var t=e.sx,n=e.className,r=Fr(e,["sx","className"]),o=I("RmgWindow");return u.jsx(W,Dr({className:"rmg-window ".concat(null!=n?n:""),sx:Dr(Dr({},o),t)},r))},zr=function(e){var t=e.sx,n=e.className,r=Fr(e,["sx","className"]),o=I("RmgWindowHeader");return u.jsx(W,Dr({className:"rmg-window__header ".concat(null!=n?n:""),sx:Dr(Dr({},o),t)},r))},Vr=function(e){var t=e.sx,n=e.className,r=Fr(e,["sx","className"]),o=I("RmgPage");return u.jsx(W,Dr({className:"rmg-page ".concat(null!=n?n:""),sx:Dr(Dr({},o),t)},r))},Hr=function(e){var t=e.sx,n=e.className,r=Fr(e,["sx","className"]),o=I("RmgPageHeader");return u.jsx(W,Dr({className:"rmg-page__header ".concat(null!=n?n:""),sx:Dr(Dr({},o),t)},r))},Br=globalThis&&globalThis.__assign||function(){return Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Br.apply(this,arguments)};globalThis&&globalThis.__rest;var Wr=globalThis&&globalThis.__assign||function(){return Wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wr.apply(this,arguments)};globalThis&&globalThis.__rest;var Gr=globalThis&&globalThis.__assign||function(){return Gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gr.apply(this,arguments)};globalThis&&globalThis.__read,globalThis&&globalThis.__spreadArray;var Kr=globalThis&&globalThis.__assign||function(){return Kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kr.apply(this,arguments)};globalThis&&globalThis.__rest;var $r=function(e){return"dark"===e?"primary.300":"primary.500"},qr={variants:{flushed:function(e){var t=e.theme,n=e.colorMode;return{field:{_focusVisible:{borderColor:$r(n),boxShadow:"0px 1px 0px 0px ".concat(G(t,$r(n)))}}}}}},Jr={defaultProps:{colorScheme:"primary"}},Yr=function(e){return"dark"===e?"primary.300":"primary.500"},Qr={baseStyle:function(e){var t=e.theme,n=e.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:Yr(n),boxShadow:"0px 1px 0px 0px ".concat(G(t,Yr(n)))},_focus:{borderColor:Yr(n),boxShadow:"0px 1px 0px 0px ".concat(G(t,Yr(n)))},_focusVisible:{borderColor:Yr(n),boxShadow:"0px 1px 0px 0px ".concat(G(t,Yr(n)))},"&.active":{borderColor:Yr(n),boxShadow:"0px 1px 0px 0px ".concat(G(t,Yr(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:"dark"===n?"whiteAlpha.200":"gray.100"},_active:{bg:"dark"===n?"whiteAlpha.300":"gray.200"}}}}}},Xr={Input:qr,Checkbox:Jr,Select:qr,Slider:{defaultProps:{colorScheme:"primary"}},Switch:Jr,Textarea:qr,RmgAgGrid:{baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},RmgAppClip:{baseStyle:function(e){return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:1400,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1400},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:"light"===e.colorMode?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},RmgCard:{baseStyle:function(e){return{p:1,my:1,w:"100%",borderRadius:2,bg:"dark"===e.colorMode?"gray.700":"gray.50",boxShadow:"lg"}}},RmgDataTable:{baseStyle:function(e){var t=e.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:"dark"===t?"whiteAlpha.400":"blackAlpha.200",backgroundColor:"dark"===t?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},RmgEnrichedButton:{baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},RmgErrorBoundary:{baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},RmgLabel:{baseStyle:{m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{display:"flex",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},RmgLineBadge:{baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},RmgLoader:{baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},RmgMultiSelect:Qr,RmgPage:{baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden"}},RmgPageHeader:{baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},RmgSidePanel:{baseStyle:function(e){var t=e.colorMode,n=e.width,r=e.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:"light"===t?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},RmgThrottledSlider:{baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},RmgWindow:{baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden"}},RmgWindowHeader:{baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}}},Zr=globalThis&&globalThis.__assign||function(){return Zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zr.apply(this,arguments)},eo="chakra-ui-color-mode",to={primary:Zr({},K.colors.teal)},no={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},ro=globalThis&&globalThis.__assign||function(){return ro=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ro.apply(this,arguments)},oo=function(e){var t,n=e.children;return u.jsx(q,ro({theme:$({config:(t="system"===_t.getColourMode(),_t.isStandaloneWindow()&&(t?window.localStorage.removeItem(eo):window.localStorage.setItem(eo,_t.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}),colors:to,styles:no,components:Xr})},{children:u.jsx(io,{children:n})}))},io=function(e){var t=e.children,n=J().setColorMode,r=Y();return te.useEffect((function(){console.log("[rmg-components] RMG theme is initialised with",r.config),_t.onColourModeChange((function(e){if("system"===e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;n(t?"dark":"light")}else n(e)}))}),[n]),u.jsx(u.Fragment,{children:t})};function ao(e){return Q({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}}]})(e)}function so(){var e=oe().t,t=_t.getEnv(),n=_t.getAppVersion();return u.jsxs(zr,{children:[u.jsx(X,{as:"h4",size:"md",children:e("Seed Project")}),u.jsx(yr,{environment:t,version:n}),u.jsx(Z,{ml:"auto",children:u.jsx(ee,{size:"sm",variant:"ghost","aria-label":e("Help"),title:e("Help"),icon:u.jsx(ao,{})})})]})}var lo=ie({name:"app",initialState:{counter:0},reducers:{bumpCounter:function(e){e.counter++}}}),co=lo.actions.bumpCounter,uo=lo.reducer,fo=ae(),po=se({reducer:{app:uo},middleware:function(e){return e().prepend(fo.middleware)}}),ho=an;function go(){var e=oe().t,t=Pn(),n=ho((function(e){return e.app.counter}));return u.jsx(oo,{children:u.jsxs(Ur,{children:[u.jsx(so,{}),u.jsxs(Vr,{children:[u.jsx(Hr,{children:u.jsx(Nr,{label:"Quick filter",children:u.jsx(ar,{placeholder:"Filter anything"})})}),"This is a seed project for RMG with React framework.",u.jsx("br",{}),'Please replace any "Seed Project" or "seed-project" with the correct component name.',u.jsx("br",{}),"Chakra UI and Redux store have been setup already. Here's an example state: ",n,".",u.jsx("br",{}),u.jsx(A,{onClick:function(){return t(co())},children:"Bump"}),u.jsx("br",{}),"RMG Runtime has been setup. Click the button below to open RMG in another tab.",u.jsx("br",{}),u.jsxs(A,{onClick:function(){return _t.openApp("rmg")},children:[e("Open")," ",e("Rail Map Generator")]})]})]})})}window.rmgStore=po;var vo,yo={Open:"打开"},mo={Open:"開啟"},bo={Open:"열기"},wo=(new _t.I18nBuilder).use(le).withAppName("Seed Project").withLng(_t.getLanguage()).withResource("en",{}).withResource("zh-Hans",yo).withResource("zh-Hant",mo).withResource("ko",bo).build(),xo=re;vo=xo.createRoot,xo.hydrateRoot;var So=function(e){return e.APP_LOAD="APP_LOAD",e}(So||{});_t.ready().then((function(){vo(document.getElementById("root")).render(u.jsx(te.StrictMode,{children:u.jsx(jn,{store:po,children:u.jsx(ce,{i18n:wo,children:u.jsx(go,{})})})})),_t.injectUITools(),_t.event(So.APP_LOAD,{})}))}}}))}();
