!function(){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(e)}function e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=i.call(t)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(s){c=!0,o=s}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return r(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}System.register(["./chakra-legacy-07fc9539.js","./index-legacy-46185db3.js","./react-legacy-53a5d56b.js","./use-palette-legacy-4d37d6a3.js"],(function(n,r){"use strict";var o,i,a,u,l,c,s,d,f,m,v,g,p,h,y,j,b,C,x,S,E,A,I,w;return{setters:[function(n){o=n.j,i=n.a6,a=n.a7,u=n.a8,l=n.a9,c=n.aa,s=n.ab,d=n.ac,f=n.ad,m=n.$,v=n.i},function(n){g=n.f,p=n.W,h=n.c,y=n.M,j=n.d,b=n.b,C=n.r,x=n.E,S=n.i},function(n){E=n.u,A=n.r,I=n.n},function(n){w=n.u}],execute:function(){function r(n){var e=n.countryCode,t=n.svgFilename;return t?o.jsx(i,{src:"/rmg-palette/resources/flags/".concat(t.slice(0,-4),".svg"),alt:"Flag of ".concat(e),h:17,mr:1}):o.jsx(o.Fragment,{})}function P(n){var e=n.defaultValueId,t=n.onChange,i=E().i18n,a=e?g.find((function(n){return n.id===e})):void 0,u=function(n){var e,t;return null!==(e=null!==(t=i.languages.map((function(e){return n.name[e]})).find((function(n){return void 0!==n})))&&void 0!==t?t:n.name.en)&&void 0!==e?e:""},l=g.slice().sort((function(n,e){return"other"===n.id?1:"other"===e.id?-1:u(n).localeCompare(u(e),i.languages[0])}));return o.jsx(p,{data:l,displayValue:u,displayHandler:function(n){var e,t,a="TW"===n.country&&["zh-Hans","zh-CN"].includes(i.languages[0]),u=["Win32","Win64"].includes(navigator.platform),l=i.languages.map((function(e){return n.name[e]})).find((function(n){return void 0!==n})),c=null===(e=h.find((function(e){return e.id===n.country})))||void 0===e?void 0:e.flagSvg,s=null===(t=h.find((function(e){return e.id===n.country})))||void 0===t?void 0:t.flagEmoji;return o.jsxs(o.Fragment,{children:[a?o.jsx("span",{children:"🏴 "}):u?o.jsx(r,{countryCode:n.country,svgFilename:c}):o.jsxs("span",{children:[s," "]}),l]})},predicate:function(n,e){return Object.values(n.name).some((function(n){return n.includes(e)}))},defaultValue:a,onChange:function(n){return null==t?void 0:t(n.id)}})}function O(n){var e=n.city,t=n.defaultValueId,r=n.onChange,i=E().i18n,a=w(e),u=t?a.find((function(n){return n.id===t})):void 0,l=function(n){var e;return null!==(e=i.languages.map((function(e){return n.name[e]})).find((function(n){return void 0!==n})))&&void 0!==e?e:""};return o.jsx(p,{data:a,displayValue:l,displayHandler:function(n){var e=l(n);return o.jsx(j,{name:e,fg:n.fg||y.white,bg:n.colour})},predicate:function(n,e){return Object.values(n.name).some((function(n){return n.includes(e)}))},defaultValue:u,onChange:function(n){return null==r?void 0:r(n.id,n.colour,n.fg||y.white)}})}function L(n){var r,i=n.defaultTheme,g=n.sessionId,p=n.onSubmit,h=n.onClose,C=E().t,x=t(A.useState(null==i?void 0:i[0]),2),S=x[0],I=x[1],w=t(A.useState(null==i?void 0:i[1]),2),L=w[0],V=w[1],_=t(A.useState((null==i?void 0:i[2])||"#AAAAAA"),2),F=_[0],T=_[1],W=t(A.useState((null==i?void 0:i[3])||y.white),2),D=W[0],k=W[1];A.useEffect((function(){g&&i&&(I(i[0]),V(i[1]),T(i[2]),k(i[3]))}),[g,null==i?void 0:i.toString()]);var M=[{type:"custom",label:C("City"),component:o.jsx(P,{defaultValueId:S,onChange:function(n){I(n),V(void 0),T("#AAAAAA"),k(y.white)}})},{type:"custom",label:C("Line"),component:o.jsx(O,{city:S,defaultValueId:L,onChange:function(n,e,t){V(n),T(e),k(t)}})}],z=[{type:"input",label:C("Background colour"),variant:"color",value:F,placeholder:"#F3D03E",onChange:function(n){I("other"),V("other"),T(n)}},{type:"select",label:C("Foreground colour"),value:D,options:(r={},e(r,y.white,C("White")),e(r,y.black,C("Black")),r),onChange:function(n){I("other"),V("other"),k(n)}}],N=S&&L&&F&&D;return o.jsxs(o.Fragment,{children:[o.jsxs(a,{flex:1,mx:2,children:[o.jsx(j,{name:C("Example"),fg:D,bg:F}),o.jsxs(u,{isFitted:!0,colorScheme:"primary",w:"100%",defaultIndex:"other"===S?1:0,children:[o.jsxs(l,{children:[o.jsx(c,{children:C("Palette")}),o.jsx(c,{children:C("Customise")})]}),o.jsxs(s,{children:[o.jsx(d,{children:o.jsx(b,{fields:M})}),o.jsx(d,{children:o.jsx(b,{fields:z})})]})]})]}),o.jsx(f,{}),o.jsxs(m,{p:2,justifyContent:"flex-end",children:[o.jsx(v,{size:"sm",onClick:h,children:C("Cancel")}),o.jsx(v,{size:"sm",colorScheme:"primary",onClick:function(){N&&(null==p||p([S,L,F,D]))},isDisabled:!N,children:C("Confirm")})]})]})}n("default",(function(){var n=t(I(),1)[0],e=n.get("parentId"),r=n.get("parentComponent"),i=t(A.useState(),2),a=i[0],u=i[1],l=t(A.useState(),2),c=l[0],s=l[1],d=A.useRef();A.useEffect((function(){var n=new BroadcastChannel(V+e);d.current=n,C.event(x.APP_CLIP_VIEW_OPENED,{parentComponent:r}),n.onmessage=function(e){var t=e.data,r=t.event,o=t.data;console.log("[".concat(n.name,"] Received event from parent component:"),r),"OPEN"===r&&(u(crypto.randomUUID()),s(o))},console.log("[".concat(n.name,"] App clip connection established, parentComponent=").concat(r));var t=document.createElement("style");return t.textContent=".rmg-window__header{margin-left: unset;}",document.head.appendChild(t),n.postMessage({event:"LOADED"}),function(){n.close(),document.head.removeChild(t)}}),[]);return o.jsx(S,{children:o.jsx(L,{defaultTheme:c,sessionId:a,onSubmit:function(n){var e,t;console.log("[".concat(null===(e=d.current)||void 0===e?void 0:e.name,"] Emitting SELECT event, theme:"),n),null===(t=d.current)||void 0===t||t.postMessage({event:"SELECT",data:n}),C.event(x.APP_CLIP_VIEW_SELECT,{parentComponent:r,theme:n})},onClose:function(){var n,e;console.log("[".concat(null===(n=d.current)||void 0===n?void 0:n.name,"] Emitting CLOSE event")),null===(e=d.current)||void 0===e||e.postMessage({event:"CLOSE"}),C.event(x.APP_CLIP_VIEW_CLOSED,{parentComponent:r})}})})}));var V="rmg-palette-bridge--"}}}))}();
