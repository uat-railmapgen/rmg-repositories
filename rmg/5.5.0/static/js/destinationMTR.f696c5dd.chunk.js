"use strict";(self.webpackChunkrmg=self.webpackChunkrmg||[]).push([[4555],{64990:function(t,r,e){e.r(r),e.d(r,{default:function(){return d}});var n=e(1413),i=e(45987),a=e(29439),s=e(93433),c=e(72791),l=e(75459),o=e(20713),u=e(37732),m=e(62554),f=e(80184),h=["num"],g=o.Ht.Destination;function d(){var t=(0,u.Qy)((function(t){return t.app})).canvasScale,r=(0,u.Qy)((function(t){return t.param})),e=r.svgWidth,n=r.svg_height,i=r.theme,a=e[g];return(0,f.jsxs)(m.Z,{type:g,svgWidth:a,svgHeight:n,canvasScale:t,theme:i,children:[(0,f.jsx)(v,{}),(0,f.jsx)(l.Z,{stripPc:90}),(0,f.jsx)(x,{})]})}var v=(0,c.memo)((function(){return(0,f.jsx)("defs",{children:(0,f.jsx)("path",{id:"arrow",d:"M60,60L0,0L60-60H100L55-15H160V15H55L100,60z",fill:"var(--rmg-black,#000)"})})})),x=function(){var t,r=(0,u.Qy)((function(t){return t.helper.routes})),e=(0,u.Qy)((function(t){return t.param.svgWidth})),n=(0,u.Qy)((function(t){return t.param.direction})),i=(0,u.Qy)((function(t){return t.param.customiseMTRDest})),l=(0,u.Qy)((function(t){return t.param.platform_num})),m=(0,u.Qy)((function(t){return t.param.line_name})),h=(0,u.Qy)((function(t){return t.param.current_stn_idx})),g=(0,u.Qy)((function(t){return t.param.stn_list}));if(!1!==i.terminal)t=i.terminal;else{var d=(0,s.Z)(new Set(r.filter((function(t){return t.includes(h)})).map((function(t){return t.filter((function(t){return!["linestart","lineend"].includes(t)})).slice(n===o.wA.left?0:-1)[0]})).filter((function(t){return t!==h}))));t=[d.map((function(t){return g[t].name[0]})).join("/"),d.map((function(t){return g[t].name[1]})).join("/").replace("\\"," ")]}var v=c.useRef(null),x=c.useState({width:0}),w=(0,a.Z)(x,2),y=w[0],j=w[1];c.useEffect((function(){return j(v.current.getBBox())}),[t.toString(),i.isLegacy]);var Z=310+y.width+45+50,_=(e[o.Ht.Destination]-(n===o.wA.left?1:-1)*Z)/2,k=_+285*(n===o.wA.left?1:-1),Q=k+120*(n===o.wA.left?1:-1);return(0,f.jsxs)("g",{id:"dest_name",style:{transform:"translateY(calc(var(--rmg-svg-height) / 2 - 20px))"},children:[(0,f.jsx)("use",{xlinkHref:"#arrow",transform:"translate(".concat(_,",0)rotate(").concat(n===o.wA.left?0:180,")")}),(0,f.jsx)(p,{num:l,transform:"translate(".concat(k,",0)")}),(0,f.jsxs)("g",{ref:v,textAnchor:n===o.wA.left?"start":"end",transform:"translate(".concat(Q,",-25)"),fill:"var(--rmg-black)",children:[(0,f.jsx)("text",{className:"rmg-name__zh",fontSize:90,children:(i.isLegacy?m[0]:"")+"\u5f80"+t[0]}),(0,f.jsx)("text",{className:"rmg-name__en",fontSize:45,dy:80,children:(i.isLegacy?m[1]+" ":"")+"to "+t[1]})]})]})},p=function(t){var r=t.num,e=(0,i.Z)(t,h);return(0,f.jsx)("g",(0,n.Z)((0,n.Z)({id:"platform"},e),{},{children:c.useMemo((function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("circle",{cx:0,cy:0,r:75,fill:"var(--rmg-theme-colour)"}),(0,f.jsx)("text",{className:"rmg-name__zh",dy:0,textAnchor:"middle",fontSize:135,fill:"#fff",children:r})]})}),[r])}))}},75459:function(t,r,e){var n=e(4942),i=e(72791),a=e(80184);r.Z=(0,i.memo)((function(t){var r;return(0,a.jsx)("rect",{fill:"var(--rmg-theme-colour)",height:20,style:(r={width:"var(--rmg-svg-width)"},(0,n.Z)(r,"--strip-percentage",t.stripPc),(0,n.Z)(r,"transform","translateY(calc(var(--strip-percentage, 95) * var(--rmg-svg-height) / 100 - 10px))"),r)})}))},62554:function(t,r,e){e.d(r,{Z:function(){return a}});var n=e(4942),i=(e(72791),e(80184));function a(t){var r,e=t.type,a=t.svgWidth,s=t.svgHeight,c=t.canvasScale,l=t.theme,o=t.children;return(0,i.jsxs)("svg",{id:e,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:s*c,viewBox:"0 0 ".concat(a," ").concat(s),colorInterpolationFilters:"sRGB",style:(r={},(0,n.Z)(r,"--rmg-svg-width",a+"px"),(0,n.Z)(r,"--rmg-svg-height",s+"px"),(0,n.Z)(r,"--rmg-theme-colour",l[2]),(0,n.Z)(r,"--rmg-theme-fg",l[3]),r),children:[(0,i.jsx)("rect",{id:"canvas-bg",fill:"white",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}}),o,(0,i.jsx)("rect",{id:"canvas-border",fill:"none",strokeWidth:3,stroke:"none",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}})]})}}}]);
//# sourceMappingURL=destinationMTR.f696c5dd.chunk.js.map