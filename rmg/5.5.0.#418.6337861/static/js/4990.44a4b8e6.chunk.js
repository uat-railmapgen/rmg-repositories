"use strict";(self.webpackChunkrmg=self.webpackChunkrmg||[]).push([[4990,5459,2554],{64990:function(t,r,e){e.r(r),e.d(r,{default:function(){return d}});var n=e(1413),a=e(45987),i=e(29439),s=e(93433),c=e(72791),l=e(75459),u=e(20713),o=e(37732),f=e(62554),m=e(80184),h=["num"],g=u.Ht.Destination;function d(){var t=(0,o.Qy)((function(t){return t.app})).canvasScale,r=(0,o.Qy)((function(t){return t.param})),e=r.svgWidth,n=r.svg_height,a=r.theme,i=e[g];return(0,m.jsxs)(f.default,{type:g,svgWidth:i,svgHeight:n,canvasScale:t,theme:a,children:[(0,m.jsx)(v,{}),(0,m.jsx)(l.default,{stripPc:90}),(0,m.jsx)(x,{})]})}var v=(0,c.memo)((function(){return(0,m.jsx)("defs",{children:(0,m.jsx)("path",{id:"arrow",d:"M60,60L0,0L60-60H100L55-15H160V15H55L100,60z",fill:"var(--rmg-black,#000)"})})})),x=function(){var t,r=(0,o.Qy)((function(t){return t.helper.routes})),e=(0,o.Qy)((function(t){return t.param.svgWidth})),n=(0,o.Qy)((function(t){return t.param.direction})),a=(0,o.Qy)((function(t){return t.param.customiseMTRDest})),l=(0,o.Qy)((function(t){return t.param.platform_num})),f=(0,o.Qy)((function(t){return t.param.line_name})),h=(0,o.Qy)((function(t){return t.param.current_stn_idx})),g=(0,o.Qy)((function(t){return t.param.stn_list}));if(!1!==a.terminal)t=a.terminal;else{var d=(0,s.Z)(new Set(r.filter((function(t){return t.includes(h)})).map((function(t){return t.filter((function(t){return!["linestart","lineend"].includes(t)})).slice(n===u.wA.left?0:-1)[0]})).filter((function(t){return t!==h}))));t=[d.map((function(t){return g[t].name[0]})).join("/"),d.map((function(t){return g[t].name[1]})).join("/").replace("\\"," ")]}var v=c.useRef(null),x=c.useState({width:0}),w=(0,i.Z)(x,2),y=w[0],j=w[1];c.useEffect((function(){return j(v.current.getBBox())}),[t.toString(),a.isLegacy]);var _=310+y.width+45+50,k=(e[u.Ht.Destination]-(n===u.wA.left?1:-1)*_)/2,Z=k+285*(n===u.wA.left?1:-1),Q=Z+120*(n===u.wA.left?1:-1);return(0,m.jsxs)("g",{id:"dest_name",style:{transform:"translateY(calc(var(--rmg-svg-height) / 2 - 20px))"},children:[(0,m.jsx)("use",{xlinkHref:"#arrow",transform:"translate(".concat(k,",0)rotate(").concat(n===u.wA.left?0:180,")")}),(0,m.jsx)(p,{num:l,transform:"translate(".concat(Z,",0)")}),(0,m.jsxs)("g",{ref:v,textAnchor:n===u.wA.left?"start":"end",transform:"translate(".concat(Q,",-25)"),fill:"var(--rmg-black)",children:[(0,m.jsx)("text",{className:"rmg-name__zh",fontSize:90,children:(a.isLegacy?f[0]:"")+"\u5f80"+t[0]}),(0,m.jsx)("text",{className:"rmg-name__en",fontSize:45,dy:80,children:(a.isLegacy?f[1]+" ":"")+"to "+t[1]})]})]})},p=function(t){var r=t.num,e=(0,a.Z)(t,h);return(0,m.jsx)("g",(0,n.Z)((0,n.Z)({id:"platform"},e),{},{children:c.useMemo((function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("circle",{cx:0,cy:0,r:75,fill:"var(--rmg-theme-colour)"}),(0,m.jsx)("text",{className:"rmg-name__zh",dy:0,textAnchor:"middle",fontSize:135,fill:"#fff",children:r})]})}),[r])}))}},75459:function(t,r,e){e.r(r);var n=e(4942),a=e(72791),i=e(80184);r.default=(0,a.memo)((function(t){var r;return(0,i.jsx)("rect",{fill:"var(--rmg-theme-colour)",height:20,style:(r={width:"var(--rmg-svg-width)"},(0,n.Z)(r,"--strip-percentage",t.stripPc),(0,n.Z)(r,"transform","translateY(calc(var(--strip-percentage, 95) * var(--rmg-svg-height) / 100 - 10px))"),r)})}))},62554:function(t,r,e){e.r(r),e.d(r,{default:function(){return i}});var n=e(4942),a=(e(72791),e(80184));function i(t){var r,e=t.type,i=t.svgWidth,s=t.svgHeight,c=t.canvasScale,l=t.theme,u=t.children;return(0,a.jsxs)("svg",{id:e,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:s*c,viewBox:"0 0 ".concat(i," ").concat(s),colorInterpolationFilters:"sRGB",style:(r={},(0,n.Z)(r,"--rmg-svg-width",i+"px"),(0,n.Z)(r,"--rmg-svg-height",s+"px"),(0,n.Z)(r,"--rmg-theme-colour",l[2]),(0,n.Z)(r,"--rmg-theme-fg",l[3]),r),children:[(0,a.jsx)("rect",{id:"canvas-bg",fill:"white",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}}),u,(0,a.jsx)("rect",{id:"canvas-border",fill:"none",strokeWidth:3,stroke:"none",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}})]})}}}]);
//# sourceMappingURL=4990.44a4b8e6.chunk.js.map