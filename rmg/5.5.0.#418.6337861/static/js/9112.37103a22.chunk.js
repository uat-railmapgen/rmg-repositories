"use strict";(self.webpackChunkrmg=self.webpackChunkrmg||[]).push([[9112,9972,2138,6559,5362,888,2554],{89972:function(t,e,n){n.r(e),n.d(e,{CurrentStationSecondaryName:function(){return i}});var r=n(29439),a=n(72791),s=n(80184);e.default=(0,a.memo)((function(t){var e=t.stnName,n=t.onUpdate,r=(0,a.useRef)(null);return(0,a.useEffect)((function(){null===n||void 0===n||n(r.current.getBBox())}),[e.toString()]),(0,s.jsxs)("g",{ref:r,children:[(0,s.jsx)("text",{className:"rmg-name__zh",fontSize:90,children:e[0]}),(0,s.jsx)("g",{fontSize:36,children:e[1].split("\\").map((function(t,e){return(0,s.jsx)("text",{className:"rmg-name__en",dy:70+36*e,children:t},e)}))})]})}),(function(t,e){return t.stnName.toString()===e.stnName.toString()}));var i=function(t){var e=t.secondaryName,n=t.transform,i=(0,a.useRef)(null),c=(0,a.useState)({x:0,width:0}),l=(0,r.Z)(c,2),o=l[0],u=l[1];return(0,a.useEffect)((function(){return u(i.current.getBBox())}),[e.toString()]),(0,s.jsxs)("g",{transform:n,children:[(0,s.jsxs)("g",{transform:"translate(0,4.5)",fontSize:36,children:[(0,s.jsx)("text",{textAnchor:"end",x:o.x-3,className:"rmg-name__zh",children:"("}),(0,s.jsx)("text",{textAnchor:"start",x:o.width+o.x+3,className:"rmg-name__zh",children:")"})]}),(0,s.jsxs)("g",{ref:i,textAnchor:"middle",children:[(0,s.jsx)("text",{className:"rmg-name__zh",fontSize:26,children:e[0]}),(0,s.jsx)("text",{dy:22,className:"rmg-name__en",fontSize:14,children:e[1]})]})]})}},32138:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});n(72791);var r=n(37732),a=n(80184);function s(t){var e=t.canvasType,n=(0,r.Qy)((function(t){return t.param})),s=n.svgWidth,i=n.svg_height;return(0,a.jsxs)("g",{id:"otis_frame",strokeWidth:3,stroke:"black",children:[(0,a.jsx)("line",{y2:i,transform:"translate(".concat(s[e]/2,",0)")}),(0,a.jsx)("line",{x2:s[e],transform:"translate(0,90)"})]})}},46559:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});var r=n(1413),a=n(45987),s=(n(72791),n(80184)),i=["num"];function c(t){var e=t.num,n=(0,a.Z)(t,i);return(0,s.jsxs)("g",(0,r.Z)((0,r.Z)({textAnchor:"middle",fill:"var(--rmg-theme-fg)"},n),{},{children:[(0,s.jsx)("circle",{cx:0,cy:0,r:30,fill:"var(--rmg-theme-colour)"}),(0,s.jsx)("text",{className:"rmg-name__en",fontSize:38,dy:-9.5,children:e}),(0,s.jsx)("text",{className:"rmg-name__zh",fontSize:13,dy:10,children:"\u7ad9\u53f0"}),(0,s.jsx)("text",{className:"rmg-name__en",fontSize:9,dy:21,children:"Platform"})]}))}},15362:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(1413),a=n(45987),s=(n(72791),n(20713)),i=n(80184),c=["num","inStrip"];function l(t){var e=t.num,n=t.inStrip,l=(0,a.Z)(t,c);return(0,i.jsxs)("g",(0,r.Z)((0,r.Z)({textAnchor:"middle",fill:n?s.AJ.black:"var(--rmg-theme-fg)"},l),{},{children:[(0,i.jsx)("rect",{height:40,width:40,rx:4,x:-20,fill:n?"#fff":"var(--rmg-theme-colour)"}),(0,i.jsx)("text",{className:"rmg-name__en",fontSize:20,dy:12,children:e}),(0,i.jsx)("text",{className:"rmg-name__zh",fontSize:12,dy:26,children:"\u5c4f\u853d\u95e8"}),(0,i.jsx)("text",{className:"rmg-name__en",fontSize:6.5,dy:36,children:"Screen Door"})]}))}},44079:function(t,e,n){n.r(e);var r=n(93433),a=n(1413),s=n(45987),i=n(4942),c=n(29439),l=n(72791),o=n(91793),u=n(20713),m=n(37732),x=n(89972),d=n(80184),h=["secName"];e.default=function(){var t,e=(0,m.Qy)((function(t){return t.param.svg_height})),n=(0,m.Qy)((function(t){return t.param.svgWidth})),r=(0,m.Qy)((function(t){return t.param.direction})),a=(0,m.Qy)((function(t){return t.param.info_panel_type})),s=(0,m.Qy)((function(t){return t.param.line_num})),h=(0,m.Qy)((function(t){return t.param.current_stn_idx})),f=(0,m.Qy)((function(t){return t.param.stn_list[h]})),v=(0,l.useState)({width:0}),y=(0,c.Z)(v,2),j=y[0],w=y[1],_=f[r===u.wA.left?"parents":"children"],z={name:"translate(".concat((r===u.wA.left?1:-1)*n[u.Ht.RunIn]/4,",45)"),next:"translate(".concat((r===u.wA.left?1:-1)*n[u.Ht.RunIn]/10,",45)")},S={nameGroup:{x:n.runin/2,y:.5*e-50-18*(f.name[1].split("\\").length-1)-(f.secondaryName?29:0)},secondaryName:{x:0,y:70+36*f.name[1].split("\\").length}};return(0,d.jsxs)("g",{children:[(0,d.jsxs)("g",{transform:a===u.p.gz2otis?z.name:"",children:[(0,d.jsxs)("g",{textAnchor:"middle",transform:"translate(".concat(S.nameGroup.x,",").concat(S.nameGroup.y,")"),children:[(0,d.jsx)(x.default,{stnName:f.name,onUpdate:w}),f.secondaryName&&(0,d.jsx)(x.CurrentStationSecondaryName,{secondaryName:f.secondaryName,transform:"translate(".concat(S.secondaryName.x,",").concat(S.secondaryName.y,")")})]}),(0,d.jsx)(o.default,{lineNum:s,stnNum:f.num,style:(t={},(0,i.Z)(t,"--translate-x","".concat((n[u.Ht.RunIn]+j.width)/2+55,"px")),(0,i.Z)(t,"--translate-y","".concat(.5*e-30-18*(f.name[1].split("\\").length-1)-(f.secondaryName?29:0),"px")),(0,i.Z)(t,"transform","translate(var(--translate-x, 800px), var(--translate-y, 145px))"),t),large:!0})]}),(0,d.jsx)("g",{transform:a===u.p.gz2otis?z.next:"",children:!_||_.includes("linestart")||_.includes("lineend")?(0,d.jsx)(d.Fragment,{}):1===_.length?(0,d.jsx)(g,{nextId:_[0],nameBBox:j}):(0,d.jsx)(p,{nextIds:_,nameBBox:j})})]})};var g=function(t){var e,n=t.nextId,r=t.nameBBox,a=(0,m.Qy)((function(t){return t.param.svgWidth})),s=(0,m.Qy)((function(t){return t.param.direction})),o=(0,m.Qy)((function(t){return t.param.stn_list[n]})),x=o.name,h=o.secondaryName,g=(0,l.useState)({width:0}),p=(0,c.Z)(g,2),v=p[0],y=p[1],j=l.useRef(null);(0,l.useEffect)((function(){return y(j.current.getBBox())}),[x.toString()]);var w=x[0].length,_=(a[u.Ht.RunIn]-r.width)/2;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{id:"big_next",children:[(0,d.jsxs)("g",{textAnchor:"middle",style:(0,i.Z)({},"--translate-x",s===u.wA.left?"80px":"".concat(w<=2?a[u.Ht.RunIn]-45-v.width-70:a[u.Ht.RunIn]-45-v.width-52.5,"px")),children:[(0,d.jsx)("text",{className:"rmg-name__zh",fontSize:35,children:"\u4e0b\u7ad9"}),(0,d.jsx)("text",{className:"rmg-name__en",fontSize:17,dy:30,children:"Next"})]}),(0,d.jsxs)("g",{textAnchor:"start",ref:j,style:(0,i.Z)({},"--translate-x",s===u.wA.left?"".concat(w<=2?150:132.5,"px"):"".concat(a[u.Ht.RunIn]-45-v.width,"px")),children:[(0,d.jsx)("text",{className:"rmg-name__zh",fontSize:35,children:x[0]}),(0,d.jsx)("g",{fontSize:17,children:x[1].split("\\").map((function(t,e){return(0,d.jsx)("text",{className:"rmg-name__en",dy:30+17*e,children:t},e)}))})]}),h&&(0,d.jsx)("g",{textAnchor:"middle",style:(0,i.Z)({},"--translate-x",s===u.wA.left?"".concat(w<=2?150:132.5,"px"):"".concat(a[u.Ht.RunIn]-45-v.width,"px")),children:(0,d.jsx)(f,{secName:h,transform:"translate(".concat(v.width/2,",").concat(30+17*x[1].split("\\").length+5,")")})})]}),(0,d.jsx)("path",{id:"arrow",d:"M 60,60 L 0,0 L 60,-60 H 100 L 55,-15 H 160 V 15 H 55 L 100,60z",fill:"black",style:(e={},(0,i.Z)(e,"--translate-x",s===u.wA.left?"".concat((115+35*((w<=2?1:.5)+w)+_)/2-20,"px"):"".concat((a[u.Ht.RunIn]-45-v.width-(w<=2?105:87.5)+_+t.nameBBox.width+55+25.9)/2+20,"px")),(0,i.Z)(e,"--rotate",s===u.wA.left?"0deg":"180deg"),e)})]})},f=function(t){var e=t.secName,n=(0,s.Z)(t,h),r=(0,l.useRef)(null),i=(0,l.useState)({x:0,width:0}),o=(0,c.Z)(i,2),u=o[0],m=o[1];return(0,l.useEffect)((function(){return m(r.current.getBBox())}),[t.secName.toString()]),(0,d.jsxs)("g",(0,a.Z)((0,a.Z)({},n),{},{children:[(0,d.jsxs)("g",{transform:"translate(0,2.5)",fontSize:25,children:[(0,d.jsx)("text",{textAnchor:"end",x:u.x-3,className:"rmg-name__zh",children:"("}),(0,d.jsx)("text",{textAnchor:"start",x:u.width+u.x+3,className:"rmg-name__zh",children:")"})]}),(0,d.jsxs)("g",{ref:r,children:[(0,d.jsx)("text",{className:"rmg-name__zh",fontSize:18,children:e[0]}),(0,d.jsx)("text",{className:"rmg-name__en",fontSize:10,dy:15,children:e[1]})]})]}))},p=function(t){var e,n=t.nextIds,s=t.nameBBox,o=(0,m.Qy)((function(t){return t.helper})).routes,x=(0,m.Qy)((function(t){return t.param.svgWidth})),h=(0,m.Qy)((function(t){return t.param.direction})),g=(0,m.Qy)((function(t){return t.param.stn_list})),f=n.map((function(t){return g[t].name})),p=(0,l.useState)({width:0}),v=(0,c.Z)(p,2),y=v[0],j=v[1],w=(0,l.useRef)([]);(0,l.useEffect)((function(){j((function(t){return(0,a.Z)((0,a.Z)({},t),{},{width:0})})),w.current.forEach((function(t){var e=null===t||void 0===t?void 0:t.getBBox();j((function(t){return e?t.width>e.width?t:e:t}))}))}),[f.toString()]);var _=t.nextIds.map((function(t){return o.reduce((function(e,n){return n.includes(t)?e.concat(n.filter((function(t){return!["linestart","lineend"].includes(t)})).slice(h===u.wA.left?0:-1)[0]):e}),[])})),z=Math.max.apply(Math,(0,r.Z)(f.map((function(t){return t[0].length})))),S=(x[u.Ht.RunIn]-s.width)/2;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{id:"big_next_2",children:f.map((function(t,e){return(0,d.jsxs)(l.Fragment,{children:[(0,d.jsxs)("g",{textAnchor:"middle",style:(0,i.Z)({},"--translate-x",h===u.wA.left?"72px":"".concat(x[u.Ht.RunIn]-45-y.width-41,"px")),children:[(0,d.jsx)("text",{className:"rmg-name__zh",children:"\u4e0b\u7ad9"}),(0,d.jsx)("text",{className:"rmg-name__en",y:22,children:"Next"})]}),(0,d.jsxs)("g",{ref:function(t){return w.current[e]=t},textAnchor:"start",style:(0,i.Z)({},"--translate-x",h===u.wA.left?"113px":"".concat(x[u.Ht.RunIn]-45-y.width,"px")),children:[(0,d.jsx)("text",{className:"rmg-name__zh",children:t[0]}),t[1].split("\\").map((function(t,e){return(0,d.jsx)("text",{className:"rmg-name__en",y:22+13*e,children:t},e)})),(0,d.jsx)("text",{className:"rmg-name__zh",y:-35,children:_[e].map((function(t){return g[t].name[0]})).join("/")+"\u65b9\u5411"}),(0,d.jsx)("text",{className:"rmg-name__en rmg-name__gzmtr--next2-dest",y:-20,children:"Towards "+_[e].map((function(t){return g[t].name[1]})).join("/").replace("\\"," ")})]})]},e)}))}),(0,d.jsx)("path",{id:"arrow",d:"M 60,60 L 0,0 L 60,-60 H 100 L 55,-15 H 160 V 15 H 55 L 100,60z",fill:"black",style:(e={},(0,i.Z)(e,"--translate-x",h===u.wA.left?"".concat((99+27*(1+z)+S)/2-20,"px"):"".concat((x[u.Ht.RunIn]-45-y.width-41-27+S+t.nameBBox.width+55+25.9)/2+20,"px")),(0,i.Z)(e,"--rotate",h===u.wA.left?"0deg":"180deg"),e)})]})}},19112:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var r=n(4942),a=(n(72791),n(20888)),s=n(44079),i=n(37732),c=n(20713),l=n(46559),o=n(62554),u=n(32138),m=n(80184),x=c.Ht.RunIn;function d(){var t,e=(0,i.Qy)((function(t){return t.app})).canvasScale,n=(0,i.Qy)((function(t){return t.param})),d=n.svgWidth,h=n.svg_height,g=n.direction,f=n.info_panel_type,p=n.platform_num,v=n.psd_num,y=n.theme,j=d[x],w={platform:"translate(".concat(g===c.wA.left?50:-50,",45)")};return(0,m.jsxs)(o.default,{type:x,svgWidth:j,svgHeight:h,canvasScale:e,theme:y,children:[(0,m.jsx)(a.default,{variant:f,isShowLight:f!==c.p.gz2otis,isShowPSD:f!==c.p.gz2otis&&v}),(0,m.jsx)("g",{transform:f===c.p.gz2otis?w.platform:"",children:(0,m.jsx)(l.default,{num:p,style:(t={},(0,r.Z)(t,"--translate-x","".concat(g===c.wA.left?j-100:100,"px")),(0,r.Z)(t,"--translate-y","calc(var(--rmg-svg-height) / 2 - 30px)"),(0,r.Z)(t,"transform","translate(var(--translate-x, 100px), var(--translate-y))"),t)})}),(0,m.jsx)(s.default,{}),f===c.p.gz2otis&&(0,m.jsx)(u.default,{canvasType:x})]})}},20888:function(t,e,n){n.r(e);var r=n(1413),a=n(4942),s=n(72791),i=n(15362),c=n(80184);e.default=function(t){var e=function(t){switch(t){case"gz28":case"gz2otis":case"gz6":case"gzgf":return 60;case"gz1":case"gz3":return 40;case"gz4":case"gz5":case"gz1421":return 20;default:return 0}}(t.variant),n=s.useMemo((function(){switch(t.variant){case"gz1":return(0,c.jsx)("circle",{cy:-58,r:16,fill:"red"});case"gz28":case"gz2otis":return(0,c.jsx)("ellipse",{cy:-30,rx:24,ry:12,fill:"orange"});case"gz3":return(0,c.jsx)("rect",{x:-15,y:-55,height:30,width:30,fill:"red"});case"gz6":return(0,c.jsx)("ellipse",{cy:-30,rx:24,ry:12,fill:"white"});case"gz1421":return(0,c.jsx)("ellipse",{cy:-38,rx:24,ry:12,fill:"orange"});case"gz5":return(0,c.jsx)("rect",{x:-30,y:-70,height:30,width:60,fill:"orange"});case"gz4":return(0,c.jsx)("rect",{x:-50,y:-50,height:25,width:100,fill:"whitesmoke"});case"gzgf":return(0,c.jsx)("rect",{x:-30,y:-58,height:30,width:60,fill:"orange"});default:return(0,c.jsx)(c.Fragment,{})}}),[t.variant]);return(0,c.jsxs)("g",{transform:"translate(0,".concat("gz4"===t.variant?-20:0,")"),children:[(0,c.jsx)("rect",{id:"strip_gz",style:(0,a.Z)({},"--height","".concat(e,"px"))}),(0,c.jsx)("g",{style:{transform:"translate(calc(var(--rmg-svg-width) / 2),var(--rmg-svg-height))"},children:t.isShowLight&&n}),!1!==t.isShowPSD&&(0,c.jsx)(l,(0,r.Z)({},t))]})};var l=s.memo((function(t){var e,n=["gz28","gz2otis","gz6","gzgf"].includes(t.variant),r=function(t){switch(t){case"gz1":case"gz3":return"82px";case"gz4":return"65px";case"gz5":return"80px";case"gz1421":return"62px";default:return"58px"}}(t.variant);return(0,c.jsx)(i.default,{num:t.isShowPSD,inStrip:n,style:(e={},(0,a.Z)(e,"--psd-dy",r),(0,a.Z)(e,"transform","translate(var(--translate-x), var(--translate-y))"),(0,a.Z)(e,"--translate-x","calc(var(--rmg-svg-width) / 2 + 80px)"),(0,a.Z)(e,"--translate-y","calc(var(--rmg-svg-height) - var(--psd-dy, 58px))"),e)})}),(function(t,e){return t.variant===e.variant&&t.isShowPSD===e.isShowPSD}))},62554:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});var r=n(4942),a=(n(72791),n(80184));function s(t){var e,n=t.type,s=t.svgWidth,i=t.svgHeight,c=t.canvasScale,l=t.theme,o=t.children;return(0,a.jsxs)("svg",{id:n,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:i*c,viewBox:"0 0 ".concat(s," ").concat(i),colorInterpolationFilters:"sRGB",style:(e={},(0,r.Z)(e,"--rmg-svg-width",s+"px"),(0,r.Z)(e,"--rmg-svg-height",i+"px"),(0,r.Z)(e,"--rmg-theme-colour",l[2]),(0,r.Z)(e,"--rmg-theme-fg",l[3]),e),children:[(0,a.jsx)("rect",{id:"canvas-bg",fill:"white",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}}),o,(0,a.jsx)("rect",{id:"canvas-border",fill:"none",strokeWidth:3,stroke:"none",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}})]})}}}]);
//# sourceMappingURL=9112.37103a22.chunk.js.map