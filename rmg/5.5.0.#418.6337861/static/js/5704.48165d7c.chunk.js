"use strict";(self.webpackChunkrmg=self.webpackChunkrmg||[]).push([[5704,3222,484],{85704:function(t,e,n){n.r(e),n.d(e,{NAME_FULL_HEIGHT:function(){return m},default:function(){return f}});var r=n(1413),a=n(29439),i=n(45987),c=n(72791),s=n(20713),o=n(73222),u=n(80184),l=["stationName","stationState","lower","align","facility"],m=33.03125;function f(t){var e=t.stationName,n=t.stationState,f=t.lower,g=t.align,h=t.facility,d=(0,i.Z)(t,l),x=(0,c.useState)({x:0,width:0}),y=(0,a.Z)(x,2),N=y[0],w=y[1],p=e[1].split("\\").length,v={g:{x:g?g===s.Nm.right?-3:3:0,y:(f?24.8125:-3.1875-m-11*(p-1))+(g?f?10:-10:0)},rect:{x:N.x-3+(h===s.mV.none?0:g?g===s.Nm.right?-3-m:0:(m+5)/2-3-m),y:-11.8125,width:N.width+6+(h===s.mV.none?0:m+3),height:m+2+11*(p-1)},use:{x:g?g===s.Nm.right?-(m+2)/2-N.width-3:(m+2)/2-2:-(N.width+3)/2,y:5.5*(p-1)-11.8125},StationName:{x:h===s.mV.none?0:g?g===s.Nm.right?0:m+3:(m+5)/2,y:0}};return(0,u.jsx)("g",(0,r.Z)((0,r.Z)({},d),{},{children:(0,u.jsxs)("g",{fill:function(t){switch(t){case s.KR.PASSED:return"var(--rmg-grey)";case s.KR.CURRENT:return"#fff";case s.KR.FUTURE:return"var(--rmg-black)"}}(n),transform:"translate(".concat(v.g.x,",").concat(v.g.y,")"),children:[n===s.KR.CURRENT&&(0,u.jsx)("rect",{x:v.rect.x,y:v.rect.y,width:v.rect.width,height:v.rect.height,fill:"var(--rmg-black)"}),h!==s.mV.none&&(0,u.jsx)("use",{xlinkHref:"#".concat(h),fill:n===s.KR.PASSED?"var(--rmg-grey)":"var(--rmg-black)",x:v.use.x,y:v.use.y}),(0,u.jsx)("g",{transform:"translate(".concat(v.StationName.x,",").concat(v.StationName.y,")"),children:(0,u.jsx)(o.default,{stnName:e,onUpdate:w,align:g})})]})}))}},73222:function(t,e,n){n.r(e);var r=n(72791),a=n(20713),i=n(40484),c=n(80184);e.default=(0,r.memo)((function(t){var e=t.stnName,n=t.onUpdate,s=t.align,o=(0,r.useRef)(null),u=function(){null===n||void 0===n||n(o.current.getBBox())};(0,r.useEffect)((function(){u(),(0,i.waitForFontReady)().then().catch(console.log).finally(u)}),[e.toString(),s]);return(0,c.jsxs)("g",{ref:o,textAnchor:function(t){switch(t){case a.Nm.left:return"start";case a.Nm.right:return"end";default:return"middle"}}(s),children:[(0,c.jsx)("text",{className:"rmg-name__zh rmg-name__mtr--station",children:e[0]}),e[1].split("\\").map((function(t,e){return(0,c.jsx)("text",{className:"rmg-name__en rmg-name__mtr--station",dy:(n=e,17+11*n),children:t},e);var n}))]})}),(function(t,e){return t.stnName.toString()===e.stnName.toString()&&t.align===e.align}))},40484:function(t,e,n){n.r(e),n.d(e,{waitForFontReady:function(){return s}});var r=n(15861),a=n(87757),i=n.n(a),c=n(17253),s=function(){var t=(0,r.Z)(i().mark((function t(){var e,n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=3;case 1:if(!e--){t.next=19;break}return t.next=4,document.fonts.ready;case 4:n=t.sent,r=n.values();case 6:if(!(a=r.next()).done){t.next=10;break}return t.abrupt("break",14);case 10:if("GenYoMin TW"!==a.value.family){t.next=12;break}return t.abrupt("return");case 12:t.next=6;break;case 14:return console.log("GenYoMin is NOT ready. Retry attempts remaining: "+e+" ..."),t.next=17,(0,c.aA)(500);case 17:t.next=1;break;case 19:throw new Error("Failed to load GenYoMin after 3 attempts");case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=5704.48165d7c.chunk.js.map