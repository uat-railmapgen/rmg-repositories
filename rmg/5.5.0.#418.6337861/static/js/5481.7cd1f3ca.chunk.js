"use strict";(self.webpackChunkrmg=self.webpackChunkrmg||[]).push([[5481],{25481:function(n,t,e){e.r(t),e.d(t,{StationSHMetro:function(){return d}});var r=e(1413),a=e(45987),i=e(93433),o=e(72791),c=e(37732),l=e(80184),s=["stnName","nameDirection"],d=function(n){var t=n.stnId,e=n.nameDirection,r=n.services,a=n.color,o=(0,c.Qy)((function(n){return n.param.stn_list[t]})),s=[].concat((0,i.Z)(o.transfer.info[0]),(0,i.Z)(o.transfer.info[1]||[])),d="";d=3===o.services.length?"direct_indoor_sh":2===o.services.length?"express_indoor_sh":s.length>0?"int2_indoor_sh":"stn_indoor_sh";var u="left"===e||"right"===e?90:0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{name:o.name,infos:o.transfer.info,nameDirection:e,services:r}),(0,l.jsx)("use",{xlinkHref:"#".concat(d),stroke:s.length>0?"var(--rmg-black)":null!==a&&void 0!==a?a:"var(--rmg-theme-colour)",transform:"rotate(".concat(u,")")}),o.services.length>1&&(0,l.jsx)("text",{className:"rmg-name__zh",writingMode:"tb",fontSize:"60%",dy:"-12",children:"\u5927\u7ad9\u8f66".concat(o.services.length>2?" \u76f4\u8fbe\u8f66":"","\u505c\u9760")})]})};t.default=d;var h=function(n){var t,e,r,a,o,c,s,d,h=n.name,w=n.infos,x=n.nameDirection,p=n.services,j={upward:60,downward:-30,left:0,right:0}[x],v={upward:0,downward:0,left:85,right:-85}[x],_={upward:-185,downward:150+(3===p.length?40:0),left:-30,right:-30}[x],y=(null===(t=w[2])||void 0===t?void 0:t.length)>0?{upward:0,downward:0,left:w[0].length+w[1].length!==0?85:25,right:w[0].length+w[1].length!==0?-85:-25}[x]:0,k=(null===(e=w[2])||void 0===e?void 0:e.length)>0?{upward:null!==(r=w[1])&&void 0!==r&&r.length?-210:w[0].length?-180:-100,downward:(null!==(a=w[1])&&void 0!==a&&a.length?190:w[0].length?160:100)+(3===p.length?40:0),left:null!==(o=w[1])&&void 0!==o&&o.length?-60:w[0].length?-30:0,right:null!==(c=w[1])&&void 0!==c&&c.length?-60:w[0].length?-30:0}[x]:0;return(0,l.jsxs)("g",{transform:"translate(0,".concat(j,")"),children:["upward"===x||"downward"===x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("line",{x1:-30,x2:30,y1:"upward"===x?-23:-10,y2:"upward"===x?-23:-10,stroke:"black"}),(0,l.jsx)("line",{y1:"upward"===x?-23:-10,y2:"upward"===x?-48:20,stroke:"black"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("line",{x1:"left"===x?-50:15,x2:"left"===x?-15:50,y1:0,y2:0,stroke:"black"}),(0,l.jsx)("line",{x1:"left"===x?-50:50,x2:"left"===x?-50:50,y1:-30,y2:30,stroke:"black"})]}),[].concat((0,i.Z)(w[0]),(0,i.Z)(w[1]||[])).length>0&&(0,l.jsx)(f,{intInfos:[].concat((0,i.Z)(w[0]),(0,i.Z)(w[1]||[])),arrowDirection:x,services:p}),(0,l.jsx)(u,{stnName:h,nameDirection:x,fill:"black"}),(null===(s=w[1])||void 0===s?void 0:s.length)>0&&(0,l.jsx)("g",{transform:"translate(".concat(v,",").concat(_,")"),children:(0,l.jsx)(m,{osiInfos:w[1],nameDirection:x})}),(null===(d=w[2])||void 0===d?void 0:d.length)>0&&(0,l.jsx)("g",{transform:"translate(".concat(y,",").concat(k,")"),children:(0,l.jsx)(g,{osysiInfos:w[2],nameDirection:x})})]})},u=o.forwardRef((function(n,t){var e=n.stnName,c=n.nameDirection,d=(0,a.Z)(n,s),h=e[0].split("\\"),u=e[1].split("\\").length,f={upward:0,downward:0,left:-60,right:60}[c],m={upward:-2,downward:-30-12*(u-1),left:-10*(u-1),right:-10*(u-1)}[c],g={upward:"middle",downward:"middle",left:"end",right:"start"}[c];return(0,l.jsx)("g",(0,r.Z)((0,r.Z)({ref:t},d),{},{textAnchor:g,transform:"translate(".concat(f,",").concat(m,")"),children:o.useMemo((function(){return(0,l.jsxs)(l.Fragment,{children:[h.map((function(n,t,e){return(0,l.jsx)("text",{className:"rmg-name__zh",dy:"upward"===c?16*t:-16*(e.length-1-t),children:n},t)})),(0,l.jsx)("g",{fontSize:9.6,children:e[1].split("\\").map((function(n,t){return(0,l.jsx)("text",{className:"rmg-name__en",dy:12*(t+1)+("upward"===c&&h.length>1?7.5*h.length:0),children:n},t)}))})]})}),(0,i.Z)(e))}))})),f=function(n){var t=n.intInfos,e=n.arrowDirection,r=n.services,a=t.map((function(n){return n[2]})).reduce((function(n,t){return n+t}),""),i=[t.filter((function(n){return n[4].match(/^\d+.*$/)})).map((function(n){return n[4].replace(/^(\d+)(.*)$/,"$1")})).join("\uff0c").concat("\u53f7\u7ebf"),t.filter((function(n){return!n[4].match(/^\d+.*$/)})).map((function(n){return n[4]})).join("\uff0c")].filter((function(n){return n&&"\u53f7\u7ebf"!==n})).join("\uff0c"),c=["Line ".concat(t.filter((function(n){return n[5].match(/^L|line$/)})).map((function(n){return n[5].replace("Line","").replace("line","").trim()})).join(",")),t.filter((function(n){return!n[5].match(/^L|line$/)})).map((function(n){return n[5]})).join("\uff0c")].filter((function(n){return n&&"Line "!==n})).join(","),s=3===r.length?80:45,d={upward:-145,downward:125+(3===r.length?40:0),left:7,right:7}[e],h={upward:0,downward:0,left:20,right:-20}[e],u={upward:-74,downward:44,left:0,right:0}[e],f={upward:0,downward:180,left:90,right:-90}[e],m={upward:0,downward:0,left:85,right:-85}[e],g={upward:"middle",downward:"middle",left:"start",right:"end"}[e];return(0,l.jsxs)("g",{children:[(0,l.jsx)("path",{id:"int_indoor_arrow_sh",stroke:"var(--rmg-black)",strokeWidth:1,transform:"translate(".concat(h,",").concat(u,")rotate(").concat(f,")"),fill:1===t.length?t[0][2]:"url(#grad".concat(a,")"),d:"M -7.5,0 v -".concat(s," h -7.5 l 15,-15 l 15,15 h -7.5 v ").concat(s," Z")}),t.length>1&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("linearGradient",{id:"grad".concat(a),y1:"0",y2:"0",x1:"upward"===e?"25%":"75%",x2:"upward"===e?"75%":"25%",children:t.map((function(n,e){return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)("stop",{offset:"".concat(100/t.length*(e+0),"%"),stopColor:n[2]}),(0,l.jsx)("stop",{offset:"".concat(100/t.length*(e+1),"%"),stopColor:n[2]})]},e)}))})}),(0,l.jsxs)("g",{transform:"translate(".concat(m,",").concat(d,")"),textAnchor:"".concat(g),children:[(0,l.jsx)("text",{className:"rmg-name__zh",dy:-7,children:"\u6362\u4e58".concat(i)}),(0,l.jsx)("text",{className:"rmg-name__en",dy:5,fontSize:9.6,children:"Interchange ".concat(c)})]})]})},m=function(n){var t={upward:"middle",downward:"middle",left:"start",right:"end"}[n.nameDirection];return o.useMemo((function(){return(0,l.jsxs)("g",{textAnchor:"".concat(t),fontSize:"50%",children:[(0,l.jsx)("text",{className:"rmg-name__zh",dy:-5,children:"\u6362\u4e58".concat(n.osiInfos.map((function(n){return n[4]})).join("\uff0c"))}),(0,l.jsx)("text",{className:"rmg-name__zh",dy:5,children:"\u4ec5\u9650\u516c\u5171\u4ea4\u901a\u5361"}),(0,l.jsx)("text",{className:"rmg-name__en",dy:12.5,fontSize:"75%",children:"Only for Public Transportation Card"})]})}),[n.osiInfos.toString(),n.nameDirection])},g=function(n){var t={upward:"middle",downward:"middle",left:"start",right:"end"}[n.nameDirection];return o.useMemo((function(){return(0,l.jsxs)("g",{textAnchor:"".concat(t),children:[(0,l.jsx)("text",{className:"rmg-name__zh",dy:-5,children:"\u8f6c\u4e58".concat(n.osysiInfos.map((function(n){return n[4]})).join("\uff0c"))}),(0,l.jsx)("text",{className:"rmg-name__en",dy:7.5,fontSize:9.6,children:"To ".concat(n.osysiInfos.map((function(n){return n[5]})).join(", "))})]})}),[n.osysiInfos.toString(),n.nameDirection])}}}]);
//# sourceMappingURL=5481.7cd1f3ca.chunk.js.map