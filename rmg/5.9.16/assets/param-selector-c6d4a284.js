import{u as g,o as x,j as t,M as v,b as w,c as y,e as C,f as M,g as S,a7 as R,n as E,B,a6 as T,F as k,aS as b,a$ as P,s as p,b0 as A,am as U,m as D}from"./vendor-85db9aa2.js";const W=(n,e,a)=>{const s=new Blob([a],{type:e});F(n,s)},F=(n,e)=>{const a=window.URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)},Y=n=>new Promise(e=>{const a=new FileReader;a.onloadend=()=>e(a.result),a.readAsText(n)}),_=()=>navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),L=n=>{if(n){const e=new Date().getTime()-n;return e<60*1e3?["Just now"]:e<2*60*1e3?["1","minute ago"]:e<60*60*1e3?[Math.floor(e/1e3/60).toString(),"minutes ago"]:e<2*60*60*1e3?["1","hour ago"]:e<24*60*60*1e3?[Math.floor(e/1e3/60/60).toString(),"hours ago"]:e<48*60*60*1e3?["1","day ago"]:[Math.floor(e/1e3/60/60/24).toString(),"days ago"]}else return["Unknown"]};function O(n){var c;const{config:e,onClose:a,onUpdate:s}=n,{t:u}=g(),[l,i]=x.useState((c=e==null?void 0:e.name)!=null?c:"");x.useEffect(()=>{var d;e&&i((d=e.name)!=null?d:"")},[e]);const r=[{type:"input",label:u("Project name"),value:l,onChange:i,debouncedDelay:0}],h=()=>{var d;e&&((d=e.name)!=null?d:"")!==l&&s({...e,name:l})};return t.jsxs(v,{isOpen:!!e,onClose:a,isCentered:!0,children:[t.jsx(w,{}),t.jsxs(y,{children:[t.jsx(C,{children:u("Edit project info")}),t.jsx(M,{}),t.jsx(S,{children:t.jsx(R,{fields:r})}),t.jsx(E,{children:t.jsx(B,{colorScheme:"primary",onClick:h,children:u("Confirm")})})]})]})}const z={flex:"2 1 0%",overflow:"hidden",minW:{base:"unset",md:240},w:{base:"100%",md:"unset"},mr:{base:0,md:2},mb:{base:2,md:0},"& > div":{flexDirection:"column",h:200,overflowX:"hidden",overflowY:"auto",borderRadius:"md",borderWidth:2,"& >.chakra-button":{alignItems:"center"},"& .chakra-button__group":{"& button:not(:first-of-type)":{h:"100%"}}}};function G(n){const{paramRegistry:e,downloading:a,selectedParam:s,onParamSelect:u,onParamRemove:l,onParamUpdate:i}=n,{t:r}=g(),[h,c]=x.useState(),d=o=>{i==null||i(o),c(void 0)};return t.jsxs(T,{sx:z,children:[t.jsxs(k,{children:[a&&t.jsx(b,{variant:"ghost",primaryText:r("Downloading")+"...",secondaryText:a,isDisabled:!0}),e.slice().sort((o,m)=>{var f,j;return((f=m.lastModified)!=null?f:0)-((j=o.lastModified)!=null?j:0)}).map(o=>{var m;return t.jsxs(P,{size:"sm",isAttached:!0,colorScheme:s===o.id?"primary":void 0,variant:s===o.id?"solid":"ghost",children:[t.jsx(b,{primaryText:(m=o.name)!=null?m:r("Project")+" "+o.id,secondaryText:r("Last modified")+": "+L(o.lastModified).map(r).join(" "),"aria-pressed":s===o.id,onClick:()=>u(o.id)}),i&&t.jsx(p,{"aria-label":r("Edit project info"),title:r("Edit project info"),icon:t.jsx(A,{}),onClick:()=>c(o)}),l&&t.jsx(p,{"aria-label":r("Remove project"),title:r("Remove project"),icon:t.jsx(U,{}),onClick:()=>l(o.id)})]},o.id)})]}),e.length>=10&&t.jsx(D,{as:"em",fontSize:"xs",children:r("You have reached the maximum number of projects.")}),t.jsx(O,{config:h,onClose:()=>c(void 0),onUpdate:d})]})}export{G as P,W as a,F as d,_ as i,Y as r};
