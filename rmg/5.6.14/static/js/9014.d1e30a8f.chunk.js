"use strict";(self.webpackChunkrmg=self.webpackChunkrmg||[]).push([[9014],{90059:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(4942),i=(e(72791),e(80184));function c(n){var t,e=n.type,c=n.svgWidth,a=n.svgHeight,s=n.canvasScale,u=n.theme,l=n.children;return(0,i.jsxs)("svg",{id:e,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:a*s,viewBox:"0 0 ".concat(c," ").concat(a),colorInterpolationFilters:"sRGB",style:(t={},(0,r.Z)(t,"--rmg-svg-width",c+"px"),(0,r.Z)(t,"--rmg-svg-height",a+"px"),(0,r.Z)(t,"--rmg-theme-colour",u[2]),(0,r.Z)(t,"--rmg-theme-fg",u[3]),t),children:[(0,i.jsx)("rect",{id:"canvas-bg",fill:"white",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}}),l,(0,i.jsx)("rect",{id:"canvas-border",fill:"none",strokeWidth:3,stroke:"none",style:{height:"var(--rmg-svg-height)",width:"var(--rmg-svg-width)"}})]})}},86584:function(n,t,e){e.d(t,{C:function(){return i},T:function(){return c}});var r=e(37762),i=function(n,t,e){var r=t[0];if(r.includes(n)){if(t.slice(1).find((function(t){return t.includes(n)})))return 0;var i=t.slice(1).find((function(t){var e="linestart"===t[0],i=r.indexOf(n)<r.indexOf(t.slice(-1)[0]),c="lineend"===t.slice(-1)[0],a=r.indexOf(n)>r.indexOf(t[0]);return e&&i||c&&a}));return i?1===e[i[0]].children.indexOf(i[1])?-1:1:0}var c=t.slice(1).find((function(t){return t.includes(n)}));return c?"linestart"!==c[0]&&"lineend"!==c.slice(-1)[0]?1===e[c[0]].children.indexOf(c[1])?1.2:-1.2:1===e[c[0]].children.indexOf(c[1])?1:-1:0},c=function(n){var t,e,i="a".concat(6,",").concat(6,",0,0,1,").concat(6,",").concat(6),c="a".concat(6,",").concat(6,",0,0,0,").concat(6,",").concat(6),a="a".concat(6,",").concat(6,",0,0,0,").concat(6,",-").concat(6),s="a".concat(6,",").concat(6,",0,0,1,").concat(6,",-").concat(6),u=[],l=(0,r.Z)(n);try{for(l.s();!(e=l.n()).done;){var h=e.value;if(t)if(h[1]===t[1])u.push("H"+h[0]);else{var o=(h[0]+t[0])/2-(0===t[1]?0:12);u.push("H"+o),h[1]>t[1]?(u.push(i),u.push("V"+(h[1]-6)),u.push(c)):(u.push(a),u.push("V"+(h[1]+6)),u.push(s)),u.push("H"+h[0])}else u.push("M"+h.join(","));t=h}}catch(f){l.e(f)}finally{l.f()}return u.join(" ").replace(/( H([\d.]+))+/g," H$2")}},78359:function(n,t,e){e.d(t,{kL:function(){return l},AQ:function(){return h},ZM:function(){return o},A_:function(){return f}});var r=e(15671),i=e(43144),c=e(60136),a=e(92572),s=e(23824),u=e(86584),l=function(n,t){var e=0,r=n[t].transfer,i=r.info.map((function(n){return n.length}));return"l"===r.tick_direc&&(!i[1]&&i[0]>1&&(e+=.8),!i[1]||1===i[0]&&2===i[1]||(e+=.8)),1===i[0]&&2===i[1]&&"linestart"!==n[t].parents[0]&&"lineend"!==n[t].children[0]&&(e+=.8),2===n[t].parents.length&&(e+=.2),2===n[n[t].parents[0]].children.length&&(e+=.4),e},h=function(n,t){var e=0,r=n[t].transfer,i=r.info.map((function(n){return n.length}));return"r"===r.tick_direc&&(!i[1]&&i[0]>1&&(e+=.8),!i[1]||1===i[0]&&2===i[1]||(e+=.8)),1===i[0]&&2===i[1]&&"linestart"!==n[t].parents[0]&&"lineend"!==n[t].children[0]&&(e+=.8),2===n[t].children.length&&(e+=.2),2===n[n[t].children[0]].parents.length&&(e+=.4),e},o=function(n){(0,c.Z)(e,n);var t=(0,a.Z)(e);function e(){var n;(0,r.Z)(this,e);for(var i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return(n=t.call.apply(t,[this].concat(c))).leftWideFactor=function(t){return l(n.stnList,t)},n.rightWideFactor=function(t){return h(n.stnList,t)},n}return(0,i.Z)(e,null,[{key:"drawLine",value:function(n,t,e,r,i,c,a,s){var l=this,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,o={main:[],pass:[],sidingMain:[],sidingPass:[]};return n.forEach((function(f,d){var g="linestart"!==f[0]&&"lineend"!==f.slice(-1)[0],p=(f=f.filter((function(n){return!["linestart","lineend"].includes(n)}))).filter((function(n){return t[n]>=0})),v=f.filter((function(n){return t[n]<=0}));1===p.length&&(v=f),0===p.filter((function(n){return-1!==v.indexOf(n)})).length&&p.length&&(v[0]===f[0]?v.push(p[0]):p[0]===f[0]&&p[p.length-1]===f[f.length-1]&&v.length?(v=f,p=[]):v.unshift(p[p.length-1])),g?(o.sidingMain.push((0,u.T)(p.map((function(n){return[i[n],c[n]]})))),o.sidingPass.push((0,u.T)(v.map((function(n){return[i[n],c[n]]}))))):(o.main.push(new l({stnList:e,criticalPath:s})._linePath(p,r,n,i,c,a,s,h)),o.pass.push(new l({stnList:e,criticalPath:s})._linePath(v,r,n,i,c,a,s,h)))})),o}}]),e}(s.LD),f=function(n){(0,c.Z)(e,n);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,null,[{key:"drawLine",value:function(n,t,e,r,i,c,a,s){var u=this,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h={main:[],pass:[],sidingMain:[],sidingPass:[]};return n.forEach((function(o,f){var d=(o=o.filter((function(n){return!["linestart","lineend"].includes(n)}))).filter((function(n){return t[n]>=0})),g=o.filter((function(n){return t[n]<=0}));1===d.length&&(g=o),0===d.filter((function(n){return-1!==g.indexOf(n)})).length&&d.length&&(g[0]===o[0]?g.push(d[0]):d[0]===o[0]&&d[d.length-1]===o[o.length-1]&&g.length?(g=o,d=[]):g.unshift(d[d.length-1])),h.main.push(new u({stnList:e,criticalPath:s})._linePath(d,r,n,i,c,a,s,l)),h.pass.push(new u({stnList:e,criticalPath:s})._linePath(g,r,n,i,c,a,s,l))})),h}}]),e}(o)},23824:function(n,t,e){e.d(t,{Az:function(){return o},QE:function(){return f},ML:function(){return d},h6:function(){return g},LD:function(){return p},pS:function(){return v}});var r=e(29439),i=e(15671),c=e(43144),a=e(93433),s=e(37762),u=e(4942),l=e(1413),h=e(20713),o=function(n,t,e){return Object.keys(n).reduce((function(r,i){return(0,l.Z)((0,l.Z)({},r),{},(0,u.Z)({},i,n[i].children.reduce((function(r,c){return(0,l.Z)((0,l.Z)({},r),{},(0,u.Z)({},c,1+t(n,c)+e(n,i)))}),{})))}),{})},f=function n(t,e,r){if(t===e)return{len:0,nodes:[t]};var i=[],c=[];Object.keys(r[t]).forEach((function(a){var s=n(a,e,r);s.len<0||(i.push(r[t][a]+s.len),s.nodes.unshift(t),c.push(s.nodes))}));var a=Math.max.apply(Math,i);return{len:a,nodes:c[i.indexOf(a)]}},d=function(n,t,e){var r=f("linestart","lineend",t);if(r.nodes.includes(n))return f(r.nodes[1],n,t).len;for(var i=e.filter((function(t){return t.includes(n)}))[0],c=n;!r.nodes.includes(c);)c=i[i.indexOf(c)-1];for(var a=n;!r.nodes.includes(a);)a=i[i.indexOf(a)+1];var s="linestart"===c,u=[];return s||"lineend"===a?s?(u[0]=0,u[1]=f(r.nodes[1],a,t).len,u[2]=f(i[1],n,t).len,u[3]=f(n,a,t).len):(u[0]=f(r.nodes[1],c,t).len,u[1]=f(c,r.nodes.slice(-2)[0],t).len,u[2]=f(c,n,t).len,u[3]=f(n,i.slice(-2)[0],t).len):(u[0]=f(r.nodes[1],c,t).len,u[1]=f(c,a,t).len,u[2]=f(c,n,t).len,u[3]=f(n,a,t).len),u[0]+u[2]*u[1]/(u[2]+u[3])},g=function(n,t,e){var r;return console.log("computing stations' states"),(0,a.Z)(new Set((r=[]).concat.apply(r,(0,a.Z)(t)))).reduce((function(r,i){return(0,l.Z)((0,l.Z)({},r),{},(0,u.Z)({},i,i===n?0:(e===h.wA.right?function(n,t,e){var r,i=(0,s.Z)(e);try{for(i.s();!(r=i.n()).done;){var c=r.value,a=c.indexOf(n),u=c.indexOf(t);if(-1!==a&&a<u)return!0}}catch(l){i.e(l)}finally{i.f()}return!1}(n,i,t):function(n,t,e){var r,i=(0,s.Z)(e);try{for(i.s();!(r=i.n()).done;){var c=r.value,a=c.indexOf(n),u=c.indexOf(t);if(-1!==u&&u<a)return!0}}catch(l){i.e(l)}finally{i.f()}return!1}(n,i,t))?1:-1))}),{})},p=function(){function n(t){var e=this;(0,i.Z)(this,n),this.yShares={},this.xShares={},this.namePoss={},this.stnList={},this.criticalPath={},this.leftWideFactor=function(n){return 0},this.rightWideFactor=function(n){return 0},this.pathTurnParams=function(n){var t=35-17.5*Math.sqrt(3),e=n-2*t;return{tr:35,dx_a:17.5,dy_a:t,dx_l:e*Math.sqrt(3),dy_l:e}},this.pathTurnSE=function(n){var t=e.pathTurnParams(n),r=t.tr,i=t.dx_a,c=t.dy_a,a=t.dx_l,s=t.dy_l;return"a ".concat(r,",").concat(r," 0 0,1 ").concat(i,",").concat(c," l ").concat(a,",").concat(s," a ").concat(r,",").concat(r," 0 0,0 ").concat(i,",").concat(c)},this.pathTurnNE=function(n){var t=e.pathTurnParams(n),r=t.tr,i=t.dx_a,c=t.dy_a,a=t.dx_l,s=t.dy_l;return"a ".concat(r,",").concat(r," 0 0,0 ").concat(i,",").concat(-c," l ").concat(a,",").concat(-s," a ").concat(r,",").concat(r," 0 0,1 ").concat(i,",").concat(-c)},this.stnList=t.stnList,this.criticalPath=t.criticalPath}return(0,c.Z)(n,[{key:"getYShare",value:function(n,t){if(n in this.yShares)return this.yShares[n];if(["linestart","lineend"].includes(n)||this.stnList[n].parents.length>1||this.stnList[n].children.length>1)return this.yShares[n]=0,0;var e=this.stnList[n].parents[0];if(e){if(1===this.stnList[e].children.length){var r=this.getYShare(e);return this.yShares[n]=r,r}var i=0===this.stnList[e].children.indexOf(n)?1:-1;return this.yShares[n]=i,i}return this.yShares[n]=0,0}},{key:"_linePath",value:function(n,t,e,i,c,a,s,u){var l=this,h=(0,r.Z)([],3),o=h[0],f=h[1],d=h[2],g=[],p=this.pathTurnParams(a),v=p.dx_a+p.dx_l/2,y=(t[1]-t[0])/s.len*2,x=((t[1]-t[0])/s.len-2*v)/2;return x+y<0&&console.warn("SVG width too small! ".concat(x+y)),n.forEach((function(t){var r=i[t],s=c[t];if(!f&&0!==f)return o=t,d=r,f=s,void(1===n.length?g.push("M ".concat(r,",").concat(s)):e[0].includes(t)?e[0].includes(n[1])?g.push("M ".concat(r,",").concat(s)):(i[n[1]]>0&&g.push("M ".concat(r,",").concat(s+u)),c[n[1]]<0&&g.push("M ".concat(r,",").concat(s-u))):g.push("M ".concat(r,",").concat(s)));s>f?(g.push("h ".concat(0===s?r-d-y*l.leftWideFactor(t)-x-2*v:y*l.rightWideFactor(o)+x)),g.push(l.pathTurnSE(a))):s<f&&(g.push("h ".concat(0===s?r-d-y*l.leftWideFactor(t)-x-2*v:y*l.rightWideFactor(o)+x)),g.push(l.pathTurnNE(a))),g.push("H ".concat(r)),o=t,d=r,f=s})),g.join(" ").replace(/( H ([\d.]+))+/g," H $2")}}],[{key:"getYShares",value:function(n,t){console.log("computing y shares");var e=new this({stnList:n});return Object.keys(n).forEach((function(n){["linestart","lineend"].includes(n)||n in e.yShares||e.getYShare(n,t)})),e.yShares}}]),n}(),v=function(n,t){var e=(n=n.filter((function(n){return!["linestart","lineend"].includes(n)}))).filter((function(n){return t[n]>=0})),r=n.filter((function(n){return t[n]<=0}));return 1===e.length&&(r=n),0===e.filter((function(n){return-1!==r.indexOf(n)})).length&&e.length&&(r[0]===n[0]?r.push(e[0]):e[0]===n[0]&&e[e.length-1]===n[n.length-1]&&r.length?(r=n,e=[]):r.unshift(e[e.length-1])),{main:e,pass:r}}}}]);
//# sourceMappingURL=9014.d1e30a8f.chunk.js.map