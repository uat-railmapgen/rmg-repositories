import{u as g,o as x,j as o,M as v,b as w,c as y,e as C,f as M,g as S,a7 as R,n as E,B,a6 as T,F as k,aS as b,a$ as P,s as p,b0 as A,am as U,m as D}from"./vendor-8354dbc6.js";const W=(n,e,t)=>{const s=new Blob([t],{type:e});F(n,s)},F=(n,e)=>{const t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)},Y=n=>new Promise(e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsText(n)}),_=()=>navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),L=n=>{if(n){const e=new Date().getTime()-n;return e<60*1e3?["Just now"]:e<2*60*1e3?["1","minute ago"]:e<60*60*1e3?[Math.floor(e/1e3/60).toString(),"minutes ago"]:e<2*60*60*1e3?["1","hour ago"]:e<24*60*60*1e3?[Math.floor(e/1e3/60/60).toString(),"hours ago"]:e<48*60*60*1e3?["1","day ago"]:[Math.floor(e/1e3/60/60/24).toString(),"days ago"]}else return["Unknown"]};function O(n){var c;const{config:e,onClose:t,onUpdate:s}=n,{t:u}=g(),[l,i]=x.useState((c=e==null?void 0:e.name)!=null?c:"");x.useEffect(()=>{var d;e&&i((d=e.name)!=null?d:"")},[e]);const r=[{type:"input",label:u("Project name"),value:l,onChange:i,debouncedDelay:0}],h=()=>{var d;e&&((d=e.name)!=null?d:"")!==l&&s({...e,name:l})};return o.jsxs(v,{isOpen:!!e,onClose:t,isCentered:!0,children:[o.jsx(w,{}),o.jsxs(y,{children:[o.jsx(C,{children:u("Edit project info")}),o.jsx(M,{}),o.jsx(S,{children:o.jsx(R,{fields:r})}),o.jsx(E,{children:o.jsx(B,{colorScheme:"primary",onClick:h,children:u("Confirm")})})]})]})}const z={flex:"2 1 0%",overflow:"hidden",minW:{base:"unset",md:240},w:{base:"100%",md:"unset"},mr:{base:0,md:2},mb:{base:2,md:0},"& > div":{flexDirection:"column",h:200,overflowX:"hidden",overflowY:"auto",borderRadius:"md",borderWidth:2,"& >.chakra-button":{alignItems:"center"},"& .chakra-button__group":{"& button:not(:first-of-type)":{h:"100%"}}}};function G(n){const{paramRegistry:e,downloading:t,selectedParam:s,onParamSelect:u,onParamRemove:l,onParamUpdate:i}=n,{t:r}=g(),[h,c]=x.useState(),d=a=>{i==null||i(a),c(void 0)};return o.jsxs(T,{sx:z,children:[o.jsxs(k,{children:[t&&o.jsx(b,{variant:"ghost",primaryText:r("Downloading")+"...",secondaryText:t,isDisabled:!0}),e.slice().sort((a,m)=>{var f,j;return((f=m.lastModified)!=null?f:0)-((j=a.lastModified)!=null?j:0)}).map(a=>{var m;return o.jsxs(P,{size:"sm",isAttached:!0,colorScheme:s===a.id?"primary":void 0,variant:s===a.id?"solid":"ghost",children:[o.jsx(b,{primaryText:(m=a.name)!=null?m:r("Project")+" "+a.id,secondaryText:r("Last modified")+": "+L(a.lastModified).map(r).join(" "),onClick:()=>u(a.id)}),i&&o.jsx(p,{"aria-label":r("Edit project info"),title:r("Edit project info"),icon:o.jsx(A,{}),onClick:()=>c(a)}),l&&o.jsx(p,{"aria-label":r("Remove project"),title:r("Remove project"),icon:o.jsx(U,{}),onClick:()=>l(a.id)})]},a.id)})]}),e.length>=10&&o.jsx(D,{as:"em",fontSize:"xs",children:r("You have reached the maximum number of projects.")}),o.jsx(O,{config:h,onClose:()=>c(void 0),onUpdate:d})]})}export{G as P,W as a,F as d,_ as i,Y as r};
