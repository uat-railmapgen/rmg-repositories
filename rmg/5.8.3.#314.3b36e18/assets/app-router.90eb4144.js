import{z as Q,r as he,l as z,F as Pe,a4 as gt,a3 as sn,g as oe,j as q,a8 as Se,H as ze,a9 as ye,aa as Kn,ab as Ue,ac as Zt,C as Ie,ad as on,L as ht,ae as Gt,M as we,af as ln,h as Xn,k as je,m as Be,n as He,o as Fe,p as Ve,q as Me,V as yt,ag as Rt,ah as Dt,ai as Je,aj as It,ak as pt,y as qe,x as it,t as Lt,I as Qn,v as er,B as ue,P as xe,al as tr,am as We,J as Ce,an as Ze,ao as Ot,ap as nr,aq as vt,ar as ot,as as xt,at as Ne,u as Ct,au as rr,a6 as $e,av as jt,aw as Bt,ax as ar,ay as sr,az as ir,aA as or,aB as lr,aC as dr,aD as cr,aE as ur,aF as ut,K as mr,N as hr,aG as pr,S as _r,U as qt,aH as fr,aI as gr,aJ as yr,aK as vr,aL as br,aM as Er,aN as zr,aO as Sr,aP as dn,aQ as wr,aR as cn,aS as Ar,aT as Lr,aU as Or,aV as Pr,aW as un,aX as kr,aY as Tr}from"./vendor.9890a542.js";import{_ as v,u as ne,E as be,a as pe,b as Rr,R as ee,c as Jt,d as $t,S as Ye,e as Dr,f as Yt,g as Ir,h as Kt,r as xr,i as Cr,j as Pt,F as De,k as jr,l as Br,m as Hr,n as Fr,o as Vr,p as Mr,B as _t,D as Le,q as Nr,s as Ur,t as Wr,v as Ht,w as Zr,x as Gr,y as qr,z as Jr,A as $r,C as Yr,G as Kr,P as mn,H as hn,I as Xt,J as Xr,K as Qr,L as ea,M as ta,N as na,O as ra,Q as aa,T as sa,U as zt,V as ia,W as oa,X as la,Y as da,Z as ca,$ as ua,a0 as ma,a1 as ha,a2 as Ge,a3 as Ke,a4 as lt,a5 as Xe,a6 as pn,a7 as kt,a8 as ft,a9 as pa,aa as _a,ab as Qt,ac as _n,ad as fn,ae as fa,af as ga,ag as ya,ah as va,ai as ba,aj as en,ak as Ea,al as St,am as wt,an as at,ao as za}from"./index.2953ed51.js";const Sa={mtr:()=>v(()=>import("./index.59df176d.js"),["assets/index.59df176d.js","assets/vendor.9890a542.js","assets/index.2953ed51.js","assets/index.ffeaacf7.css","assets/share.3364ce7e.js","assets/mtr.d884bed0.js"]),gzmtr:()=>v(()=>import("./index.6dc8a278.js"),["assets/index.6dc8a278.js","assets/vendor.9890a542.js","assets/index.2953ed51.js","assets/index.ffeaacf7.css","assets/share.3364ce7e.js"]),shmetro:()=>v(()=>import("./index.f74ff845.js"),["assets/index.f74ff845.js","assets/vendor.9890a542.js","assets/index.2953ed51.js","assets/index.ffeaacf7.css","assets/share.3364ce7e.js","assets/mtr.d884bed0.js"])};function wa(r){const[h,t]=Q.exports.useState({});return Q.exports.useEffect(()=>(Sa[r]().then(l=>{t(l.default)}).catch(l=>{console.error(`Failed to load canvas for style ${r}`,l),t({})}),()=>{t({})}),[r]),h}const Aa={position:"relative",flexDirection:"row",overflowX:"auto","&::before, &::after":{content:'""',margin:"auto"},"& > svg":{flex:"0 0 auto",border:"1px solid black"}};function La(){const{canvasToShow:r,canvasScale:h}=ne(e=>e.app),{svg_height:t,style:l}=ne(e=>e.param),o=wa(l);Q.exports.useEffect(()=>{document.getElementById("css_share").href=`/rmg/styles/share_${l}.css`,he.event(be.STYLE_CHANGE,{style:l})},[l]);const n=Object.keys(o).filter(e=>r.includes(e)),a=t*h;return z(Pe,{minH:a,sx:Aa,children:Object.keys(o).length===0?z(gt,{isIndeterminate:!0}):n.map(e=>z(sn,{sx:{minWidth:750,height:a},children:o[e]},e+l))})}function Oa(){const{t:r}=oe(),h=pe(),t=ne(s=>s.app.selectedStation);console.log("InfoSection:: Rendering for",t);const l=ne(s=>s.param.style),{num:o,name:n,secondaryName:a}=ne(s=>s.param.stn_list[t]),e=[{type:"input",label:r("StationSidePanel.info.num"),value:o,placeholder:"01",onChange:s=>h(Rr(t,s)),hidden:![ee.GZMTR].includes(l)},{type:"input",label:r("Chinese name"),value:n[0],onChange:s=>h(Jt(t,[s,n[1]]))},{type:"input",label:r("English name"),value:n[1],onChange:s=>h(Jt(t,[n[0],s]))},{type:"input",label:r("StationSidePanel.info.zhSecondary"),value:a?a[0]:"",placeholder:"1\u53F7\u822A\u7AD9\u697C",onChange:s=>h($t(t,[s,a?a[1]:""])),hidden:![ee.GZMTR].includes(l)},{type:"input",label:r("StationSidePanel.info.enSecondary"),value:a?a[1]:"",placeholder:"Terminal 1",onChange:s=>h($t(t,[a?a[0]:"",s])),hidden:![ee.GZMTR].includes(l)}];return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("StationSidePanel.info.title")}),z(ye,{fields:e,minW:130})]})}const gn=(r,h)=>{const t=r[h];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((l,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+h)))})};function Pa(r){const{countryCode:h,svgFilename:t}=r,[l,o]=Q.exports.useState(void 0);return Q.exports.useEffect(()=>{t&&gn(Object.assign({"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E6-1F1F9.svg":()=>v(()=>import("./1F1E6-1F1F9.7974bb23.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E6-1F1FF.svg":()=>v(()=>import("./1F1E6-1F1FF.e9d8526e.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E7-1F1F7.svg":()=>v(()=>import("./1F1E7-1F1F7.bec8455c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E8-1F1E6.svg":()=>v(()=>import("./1F1E8-1F1E6.3cf09cd7.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E8-1F1F1.svg":()=>v(()=>import("./1F1E8-1F1F1.035d9adb.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E8-1F1F3.svg":()=>v(()=>import("./1F1E8-1F1F3.cc8c9f9d.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E9-1F1EA.svg":()=>v(()=>import("./1F1E9-1F1EA.2edb33e0.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1E9-1F1F0.svg":()=>v(()=>import("./1F1E9-1F1F0.c87b57f3.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EA-1F1EC.svg":()=>v(()=>import("./1F1EA-1F1EC.a4ef1d1a.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EA-1F1F8.svg":()=>v(()=>import("./1F1EA-1F1F8.80923300.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EB-1F1F7.svg":()=>v(()=>import("./1F1EB-1F1F7.d39441af.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EC-1F1F7.svg":()=>v(()=>import("./1F1EC-1F1F7.646b36e6.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1ED-1F1F0.svg":()=>v(()=>import("./1F1ED-1F1F0.e7df1c95.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1ED-1F1FA.svg":()=>v(()=>import("./1F1ED-1F1FA.03855ae1.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1E9.svg":()=>v(()=>import("./1F1EE-1F1E9.e3905396.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1F3.svg":()=>v(()=>import("./1F1EE-1F1F3.80c59e50.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1F7.svg":()=>v(()=>import("./1F1EE-1F1F7.183fb497.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EE-1F1F9.svg":()=>v(()=>import("./1F1EE-1F1F9.8818dcb1.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1EF-1F1F5.svg":()=>v(()=>import("./1F1EF-1F1F5.e95d3c03.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F0-1F1F7.svg":()=>v(()=>import("./1F1F0-1F1F7.ffc2de24.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F2-1F1F4.svg":()=>v(()=>import("./1F1F2-1F1F4.c38a380e.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F2-1F1FD.svg":()=>v(()=>import("./1F1F2-1F1FD.b8b6f07f.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F2-1F1FE.svg":()=>v(()=>import("./1F1F2-1F1FE.eb953fc2.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F3-1F1F4.svg":()=>v(()=>import("./1F1F3-1F1F4.2ce35087.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1EA.svg":()=>v(()=>import("./1F1F5-1F1EA.80bf3778.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1F1.svg":()=>v(()=>import("./1F1F5-1F1F1.83fefdaa.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F5-1F1F9.svg":()=>v(()=>import("./1F1F5-1F1F9.03d8582c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F7-1F1F4.svg":()=>v(()=>import("./1F1F7-1F1F4.7039e2e7.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F7-1F1FA.svg":()=>v(()=>import("./1F1F7-1F1FA.6a2053b0.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F8-1F1E6.svg":()=>v(()=>import("./1F1F8-1F1E6.7b82960e.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F8-1F1EA.svg":()=>v(()=>import("./1F1F8-1F1EA.0f7f3927.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F8-1F1EC.svg":()=>v(()=>import("./1F1F8-1F1EC.5e38901c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F9-1F1ED.svg":()=>v(()=>import("./1F1F9-1F1ED.4cb4ae0c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F9-1F1F7.svg":()=>v(()=>import("./1F1F9-1F1F7.b013aa08.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1F9-1F1FC.svg":()=>v(()=>import("./1F1F9-1F1FC.fc8e8159.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1E6.svg":()=>v(()=>import("./1F1FA-1F1E6.0792218d.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1F3.svg":()=>v(()=>import("./1F1FA-1F1F3.be4e692f.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1F8.svg":()=>v(()=>import("./1F1FA-1F1F8.0de9c230.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FA-1F1FF.svg":()=>v(()=>import("./1F1FA-1F1FF.295f65c2.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F1FB-1F1F3.svg":()=>v(()=>import("./1F1FB-1F1F3.6b8cf4d9.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F3F4-E0067-E0062-E0065-E006E-E0067-E007F.svg":()=>v(()=>import("./1F3F4-E0067-E0062-E0065-E006E-E0067-E007F.6ebad707.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/flags/1F3F4-E0067-E0062-E0073-E0063-E0074-E007F.svg":()=>v(()=>import("./1F3F4-E0067-E0062-E0073-E0063-E0074-E007F.8349b899.js"),[])}),`../../../../node_modules/@railmapgen/rmg-palette-resources/flags/${t.slice(0,-4)}.svg`).then(n=>n.default).then(o).catch(n=>console.error(`Failed to find SVG file ${t} as ${n==null?void 0:n.message}`))},[t]),l?z(Kn,{src:l,alt:`Flag of ${h}`,h:17,mr:1}):z(Ue,{})}function ka(r){const{defaultValueId:h,onChange:t}=r,{i18n:l}=oe(),o=h?Zt.find(d=>d.id===h):void 0,n=d=>{var f,p;return(p=(f=l.languages.map(_=>d.name[_]).find(_=>_!==void 0))!=null?f:d.name.en)!=null?p:""},a=d=>{var u,b;const f=d.country==="TW"&&[ht.ChineseSimp,ht.ChineseCN].includes(l.languages[0]),p=["Win32","Win64"].includes(navigator.platform),_=l.languages.map(y=>d.name[y]).find(y=>y!==void 0),m=(u=Gt.find(y=>y.id===d.country))==null?void 0:u.flagSvg,g=(b=Gt.find(y=>y.id===d.country))==null?void 0:b.flagEmoji;return q(Ue,{children:[f?z("span",{children:"\u{1F3F4}\xA0"}):p?z(Pa,{countryCode:d.country,svgFilename:m}):q("span",{children:[g,"\xA0"]}),_]})},e=(d,f)=>Object.values(d.name).some(p=>p.includes(f)),s=Zt.slice().sort((d,f)=>d.id===Ie.Other?1:f.id===Ie.Other?-1:n(d).localeCompare(n(f),l.languages[0]));return z(on,{data:s,displayValue:n,displayHandler:a,predicate:e,defaultValue:o,onChange:d=>t==null?void 0:t(d.id)})}const Ta=r=>{const[h,t]=Q.exports.useState([]);return Q.exports.useEffect(()=>{gn(Object.assign({"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/athens.js":()=>v(()=>import("./athens.54b18cdf.js"),["assets/athens.54b18cdf.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/baku.js":()=>v(()=>import("./baku.9e199058.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bangkok.js":()=>v(()=>import("./bangkok.a21e6bad.js"),["assets/bangkok.a21e6bad.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/barcelona.js":()=>v(()=>import("./barcelona.20ca6e0c.js"),["assets/barcelona.20ca6e0c.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/beijing.js":()=>v(()=>import("./beijing.357a61d9.js"),["assets/beijing.357a61d9.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/berlin.js":()=>v(()=>import("./berlin.6112a58e.js"),["assets/berlin.6112a58e.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bonn.js":()=>v(()=>import("./bonn.3a877f20.js"),["assets/bonn.3a877f20.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/boston.js":()=>v(()=>import("./boston.96275391.js"),["assets/boston.96275391.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/bucharest.js":()=>v(()=>import("./bucharest.988a8d7a.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/budapest.js":()=>v(()=>import("./budapest.81c67e8a.js"),["assets/budapest.81c67e8a.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/cairo.js":()=>v(()=>import("./cairo.69145993.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/changchun.js":()=>v(()=>import("./changchun.2c4f793b.js"),["assets/changchun.2c4f793b.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/changsha.js":()=>v(()=>import("./changsha.20a2a6b1.js"),["assets/changsha.20a2a6b1.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/chengdu.js":()=>v(()=>import("./chengdu.64989443.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/chongqing.js":()=>v(()=>import("./chongqing.41a9be88.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/cologne.js":()=>v(()=>import("./cologne.a5322ace.js"),["assets/cologne.a5322ace.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/copenhagen.js":()=>v(()=>import("./copenhagen.c341d689.js"),["assets/copenhagen.c341d689.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/daegu.js":()=>v(()=>import("./daegu.16544600.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/dalian.js":()=>v(()=>import("./dalian.22dc0a09.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/delhi.js":()=>v(()=>import("./delhi.72b57133.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/dongguan.js":()=>v(()=>import("./dongguan.b329ff7e.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/dortmund.js":()=>v(()=>import("./dortmund.bb8e4975.js"),["assets/dortmund.bb8e4975.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/edinburgh.js":()=>v(()=>import("./edinburgh.a527002e.js"),["assets/edinburgh.a527002e.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/eskisehir.js":()=>v(()=>import("./eskisehir.147b17d2.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/foshan.js":()=>v(()=>import("./foshan.1c856ef5.js"),["assets/foshan.1c856ef5.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/frankfurt.js":()=>v(()=>import("./frankfurt.450cfa63.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/glasgow.js":()=>v(()=>import("./glasgow.d9eb749b.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/gothenburg.js":()=>v(()=>import("./gothenburg.57230834.js"),["assets/gothenburg.57230834.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/greatertorontoandhamiltonarea.js":()=>v(()=>import("./greatertorontoandhamiltonarea.17648de9.js"),["assets/greatertorontoandhamiltonarea.17648de9.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/guadalajara.js":()=>v(()=>import("./guadalajara.c12e0807.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/guangzhou.js":()=>v(()=>import("./guangzhou.b2f79c09.js"),["assets/guangzhou.b2f79c09.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hangzhou.js":()=>v(()=>import("./hangzhou.bc3e1c27.js"),["assets/hangzhou.bc3e1c27.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hanoi.js":()=>v(()=>import("./hanoi.7022117f.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/harbin.js":()=>v(()=>import("./harbin.ea8604c7.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hefei.js":()=>v(()=>import("./hefei.f1c7e75c.js"),["assets/hefei.f1c7e75c.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hiroshima.js":()=>v(()=>import("./hiroshima.d4c01591.js"),["assets/hiroshima.d4c01591.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hochiminh.js":()=>v(()=>import("./hochiminh.1d4fbae9.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/hongkong.js":()=>v(()=>import("./hongkong.6ad2765d.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/istanbul.js":()=>v(()=>import("./istanbul.f48da486.js"),["assets/istanbul.f48da486.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/jakarta.js":()=>v(()=>import("./jakarta.1b8bccc2.js"),["assets/jakarta.1b8bccc2.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/jinan.js":()=>v(()=>import("./jinan.055b6af9.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kansai.js":()=>v(()=>import("./kansai.a3b49cea.js"),["assets/kansai.a3b49cea.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kaohsiung.js":()=>v(()=>import("./kaohsiung.150bf3df.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kharkiv.js":()=>v(()=>import("./kharkiv.6d92d7e7.js"),["assets/kharkiv.6d92d7e7.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/klangvalley.js":()=>v(()=>import("./klangvalley.587af34c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/kunming.js":()=>v(()=>import("./kunming.e7d7a07f.js"),["assets/kunming.e7d7a07f.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lima.js":()=>v(()=>import("./lima.020011d6.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/lisbon.js":()=>v(()=>import("./lisbon.d5bf7caf.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/london.js":()=>v(()=>import("./london.b2b2440c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/macao.js":()=>v(()=>import("./macao.e78bb508.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/madrid.js":()=>v(()=>import("./madrid.f04b38c8.js"),["assets/madrid.f04b38c8.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/manchester.js":()=>v(()=>import("./manchester.279c0633.js"),["assets/manchester.279c0633.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/milan.js":()=>v(()=>import("./milan.f352bb8e.js"),["assets/milan.f352bb8e.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/montreal.js":()=>v(()=>import("./montreal.cdd25650.js"),["assets/montreal.cdd25650.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/munich.js":()=>v(()=>import("./munich.9c129a51.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/nanjing.js":()=>v(()=>import("./nanjing.a4e5bb58.js"),["assets/nanjing.a4e5bb58.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/naples.js":()=>v(()=>import("./naples.d09907a9.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/newtaipei.js":()=>v(()=>import("./newtaipei.acf6990d.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/ningbo.js":()=>v(()=>import("./ningbo.69a027ff.js"),["assets/ningbo.69a027ff.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/osaka.js":()=>v(()=>import("./osaka.6dff3df7.js"),["assets/osaka.6dff3df7.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/oslo.js":()=>v(()=>import("./oslo.0b73e3d4.js"),["assets/oslo.0b73e3d4.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/other.js":()=>v(()=>import("./other.d9f093fb.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/ottawa.js":()=>v(()=>import("./ottawa.c53ec28a.js"),["assets/ottawa.c53ec28a.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/paris.js":()=>v(()=>import("./paris.a9a368be.js"),["assets/paris.a9a368be.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/qingdao.js":()=>v(()=>import("./qingdao.8c27564b.js"),["assets/qingdao.8c27564b.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/rheinruhr.js":()=>v(()=>import("./rheinruhr.91209d24.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/rio.js":()=>v(()=>import("./rio.386a1856.js"),["assets/rio.386a1856.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/riyadh.js":()=>v(()=>import("./riyadh.9db4cd69.js"),["assets/riyadh.9db4cd69.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/sanfrancisco.js":()=>v(()=>import("./sanfrancisco.a0a92198.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/sanktpeterburg.js":()=>v(()=>import("./sanktpeterburg.c929f6b8.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/santiago.js":()=>v(()=>import("./santiago.72728547.js"),["assets/santiago.72728547.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/saopaulo.js":()=>v(()=>import("./saopaulo.c31c1edf.js"),["assets/saopaulo.c31c1edf.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/seoul.js":()=>v(()=>import("./seoul.6ee70cdc.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shanghai.js":()=>v(()=>import("./shanghai.2bee5609.js"),["assets/shanghai.2bee5609.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shaoxing.js":()=>v(()=>import("./shaoxing.ea63ab8e.js"),["assets/shaoxing.ea63ab8e.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shenyang.js":()=>v(()=>import("./shenyang.0076482c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/shenzhen.js":()=>v(()=>import("./shenzhen.fbbf152c.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/singapore.js":()=>v(()=>import("./singapore.da0991d8.js"),["assets/singapore.da0991d8.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/stockholm.js":()=>v(()=>import("./stockholm.c6050fd0.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/suzhou.js":()=>v(()=>import("./suzhou.766269cd.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/taichung.js":()=>v(()=>import("./taichung.98782083.js"),["assets/taichung.98782083.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/taipei.js":()=>v(()=>import("./taipei.1bfe0922.js"),["assets/taipei.1bfe0922.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tashkent.js":()=>v(()=>import("./tashkent.8a4b06e4.js"),["assets/tashkent.8a4b06e4.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tehran.js":()=>v(()=>import("./tehran.82cf0753.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tianjin.js":()=>v(()=>import("./tianjin.8c8d4e8f.js"),["assets/tianjin.8c8d4e8f.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tokyo.js":()=>v(()=>import("./tokyo.2b4aaf6a.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/tyneandwear.js":()=>v(()=>import("./tyneandwear.a98bef9a.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/vienna.js":()=>v(()=>import("./vienna.a25489a7.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/warsaw.js":()=>v(()=>import("./warsaw.24d7c414.js"),["assets/warsaw.24d7c414.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/wuhan.js":()=>v(()=>import("./wuhan.887f31b2.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/wuxi.js":()=>v(()=>import("./wuxi.3c23ffdb.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/xiamen.js":()=>v(()=>import("./xiamen.3e7c0985.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/xian.js":()=>v(()=>import("./xian.afcc6b3f.js"),[]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/yevpatoria.js":()=>v(()=>import("./yevpatoria.c379e0ac.js"),["assets/yevpatoria.c379e0ac.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/yokohama.js":()=>v(()=>import("./yokohama.60004167.js"),["assets/yokohama.60004167.js","assets/vendor.9890a542.js"]),"../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/zhengzhou.js":()=>v(()=>import("./zhengzhou.d002e3c8.js"),[])}),`../../../../node_modules/@railmapgen/rmg-palette-resources/palettes/${r}.js`).then(l=>t(l.default)).catch(()=>t([]))},[r]),h};function Ra(r){const{city:h,defaultValueId:t,onChange:l}=r,{i18n:o}=oe(),n=Ta(h),a=t?n.find(f=>f.id===t):void 0,e=f=>{var p;return(p=o.languages.map(_=>f.name[_]).find(_=>_!==void 0))!=null?p:""};return z(on,{data:n,displayValue:e,displayHandler:f=>{const p=e(f);return z(ln,{name:p,fg:f.fg||we.white,bg:f.colour})},predicate:(f,p)=>Object.values(f.name).some(_=>_.includes(p)),defaultValue:a,onChange:f=>l==null?void 0:l(f.id,f.colour,f.fg||we.white)})}function Ft(r){const{isOpen:h,onClose:t,defaultTheme:l,onUpdate:o}=r,{t:n}=oe(),a=Xn("primary.500","primary.300"),[e,s]=Q.exports.useState(l==null?void 0:l[0]),[d,f]=Q.exports.useState(l==null?void 0:l[1]),[p,_]=Q.exports.useState((l==null?void 0:l[2])||"#AAAAAA"),[m,g]=Q.exports.useState((l==null?void 0:l[3])||we.white);Q.exports.useEffect(()=>{l&&(s(l[0]),f(l[1]),_(l[2]),g(l[3]))},[h,l==null?void 0:l.toString()]);const u=[{type:"custom",label:n("ColourModal.city"),component:z(ka,{defaultValueId:e,onChange:A=>{s(A),f(void 0),_("#AAAAAA"),g(we.white)}})},{type:"custom",label:n("ColourModal.line"),component:z(Ra,{city:e,defaultValueId:d,onChange:(A,P,B)=>{f(A),_(P),g(B)}})}],b=[{type:"input",label:n("ColourModal.bg"),variant:"color",value:p,placeholder:"#F3D03E",onChange:A=>{s(Ie.Other),f("other"),_(A)}},{type:"select",label:n("ColourModal.fg"),value:m,options:{[we.white]:n("ColourModal.white"),[we.black]:n("ColourModal.black")},onChange:A=>{s(Ie.Other),f("other"),g(A)}}],y=()=>{he.isStandaloneWindow()?window.open("/rmg-palette","_blank"):he.openApp("rmg-palette")},S=e&&d&&p&&m,O=()=>{S&&(o==null||o([e,d,p,m]),t(),he.event(be.SELECT_COLOUR,{cityCode:e,lineCode:d}))};return q(je,{isOpen:h,onClose:t,children:[z(Be,{}),q(He,{children:[z(Fe,{children:n("ColourModal.title")}),z(Ve,{}),z(Me,{children:q(yt,{children:[z(ln,{name:n("ColourModal.example"),fg:m,bg:p}),q(Rt,{isFitted:!0,colorScheme:"primary",w:"100%",defaultIndex:e===Ie.Other?1:0,children:[q(Dt,{children:[z(Je,{children:n("ColourModal.palette")}),z(Je,{children:n("ColourModal.custom")})]}),q(It,{children:[z(pt,{children:z(ye,{fields:u})}),z(pt,{children:z(ye,{fields:b})})]})]})]})}),q(qe,{children:[q(it,{fontSize:"sm",marginRight:2,children:[n("ColourModal.seeAll"),q(Lt,{color:a,onClick:y,children:[n("Palette")," ",z(Qn,{as:er})]})]}),z(ue,{colorScheme:"primary",onClick:O,disabled:!S,children:n("Confirm")})]})]})]})}class Da{static hexToRgb(h){return[parseInt(h.slice(1,3),16),parseInt(h.slice(3,5),16),parseInt(h.slice(5,7),16)]}static fade(h,t){return`rgba(${[...this.hexToRgb(h),t].join(",")})`}static euclideanDistance(h,t){return this.hexToRgb(h).reduce((l,o,n)=>l+Math.pow(o-this.hexToRgb(t)[n],2),0)}}function Vt(r){const{theme:h,onClick:t}=r,{t:l}=oe();return z(xe,{size:"xs","aria-label":l("Colour"),mt:"0.45px",color:h[3],bg:h[2],_hover:{bg:Da.fade(h[2],.7)},icon:z(tr,{}),onClick:t})}function Ia(r){var g;const{interchangeList:h,onAdd:t,onDelete:l,onUpdate:o}=r,{t:n}=oe(),[a,e]=Q.exports.useState(!1),[s,d]=Q.exports.useState(0),{theme:f,stn_list:p}=ne(u=>u.param),_=Object.values(p).reduce((u,b)=>{const[y,S]=u;return[[...new Set(y.concat(b.transfer.info.flat().map(O=>O[4])))],[...new Set(S.concat(b.transfer.info.flat().map(O=>O[5])))]]},[[],[]]),m=h.map((u,b)=>[{type:"input",label:n("Chinese name"),value:u[4],minW:"80px",onChange:y=>o==null?void 0:o(b,[u[0],u[1],u[2],u[3],y,u[5]]),optionList:_[0]},{type:"input",label:n("English name"),value:u[5],minW:"80px",onChange:y=>o==null?void 0:o(b,[u[0],u[1],u[2],u[3],u[4],y]),optionList:_[1]}]);return q(We,{direction:"column",children:[h.length===0&&q(Ce,{spacing:.5,"data-testid":"interchange-card-stack",children:[z(it,{as:"i",flex:1,align:"center",fontSize:"md",colorScheme:"gray",children:n("StationSidePanel.interchange.noInterchanges")}),z(xe,{size:"sm",variant:"ghost","aria-label":n("StationSidePanel.interchange.add"),onClick:()=>t==null?void 0:t([f[0],"","#aaaaaa",we.white,"",""]),icon:z(Ze,{})})]}),h.map((u,b)=>q(Ce,{spacing:.5,"data-testid":`interchange-card-stack-${b}`,children:[z(Ot,{label:n("Colour"),minW:"40px",noLabel:b!==0,children:z(Vt,{theme:[u[0],u[1],u[2],u[3]],onClick:()=>{e(!0),d(b)}})}),z(ye,{fields:m[b],noLabel:b!==0}),t&&b===m.length-1?z(xe,{size:"sm",variant:"ghost","aria-label":n("StationSidePanel.interchange.copy"),onClick:()=>t==null?void 0:t(h.slice(-1)[0]),icon:z(nr,{})}):z(Se,{minW:8}),l&&z(xe,{size:"sm",variant:"ghost","aria-label":n("StationSidePanel.interchange.remove"),onClick:()=>l==null?void 0:l(b),icon:z(vt,{})})]},b)),z(Ft,{isOpen:a,onClose:()=>e(!1),defaultTheme:(g=h[s])==null?void 0:g.slice(0,4),onUpdate:u=>o==null?void 0:o(s,[...u,h[s][4],h[s][5]])})]})}function xa(){const{t:r}=oe(),h=pe(),t=ne(p=>p.app.selectedStation),{theme:l,style:o}=ne(p=>p.param),{transfer:n}=ne(p=>p.param.stn_list[t]),a=p=>{var _,m;return[{type:"input",label:r("Station Chinese name"),value:(_=n.osi_names[p])==null?void 0:_[0],hidden:![ee.MTR].includes(o),onChange:g=>{var u;return h(Yt(t,p,[g,(u=n.osi_names[p])==null?void 0:u[1]]))}},{type:"input",label:r("Station English name"),value:(m=n.osi_names[p])==null?void 0:m[1],hidden:![ee.MTR].includes(o),onChange:g=>{var u;return h(Yt(t,p,[(u=n.osi_names[p])==null?void 0:u[0],g]))}},{type:"switch",label:r("Paid area"),isChecked:n.paid_area,onChange:g=>h(Ir(t,g)),hidden:![ee.MTR].includes(o)||p!==0,oneLine:!0}]},e=p=>_=>{h(Kt(t,p,_))},s=p=>_=>{h(xr(t,p,_))},d=p=>(_,m)=>{h(Cr(t,p,_,m))},f=()=>{h(Kt(t,n.info.length,[l[0],"","#AAAAAA",we.white,"",""]))};return q(yt,{align:"flex-start",p:1,children:[q(Pe,{w:"100%",children:[z(ze,{as:"h5",size:"sm",mr:"auto",children:r("StationSidePanel.interchange.title")}),o===ee.MTR&&z(ot,{selections:[{label:r("Text on the left"),value:Ye.left},{label:r("Text on the right"),value:Ye.right}],defaultValue:n.tick_direc,onChange:p=>h(Dr(t,p))})]}),n.info.map((p,_)=>q(Q.exports.Fragment,{children:[z(ze,{as:"h6",size:"xs",children:r(_===0?"StationSidePanel.interchange.within":_===1?"StationSidePanel.interchange.outStation":"StationSidePanel.interchange.outSystem")}),_!==0&&z(ye,{fields:a(_-1)}),z(Ia,{interchangeList:p,onAdd:e(_),onDelete:s(_),onUpdate:d(_)})]},_)),n.info.length<3&&z(ue,{size:"xs",variant:"ghost",alignSelf:"flex-end",leftIcon:z(Ze,{}),onClick:f,children:r("StationSidePanel.interchange.addGroup")})]})}function Ca(){const{t:r}=oe(),h=pe(),t=ne(g=>g.app.selectedStation),{style:l,loop:o}=ne(g=>g.param),{services:n,facility:a,loop_pivot:e,one_line:s,int_padding:d}=ne(g=>g.param.stn_list[t]),f=Object.values(Pt).map(g=>({label:r("StationSidePanel.more."+g),value:g,disabled:g===Pt.local&&l!==ee.SHMetro})),p={[De.none]:r("StationSidePanel.more.none"),[De.airport]:r("StationSidePanel.more.airport"),[De.hsr]:r("StationSidePanel.more.hsr"),[De.disney]:r("StationSidePanel.more.disney")},_={[De.none]:r("StationSidePanel.more.none"),[De.airport]:r("StationSidePanel.more.airport"),[De.railway]:r("StationSidePanel.more.railway"),[De.disney]:r("StationSidePanel.more.disney")},m=[{type:"custom",label:r("StationSidePanel.more.service"),component:z(ot,{selections:f,defaultValue:n,onChange:g=>h(jr(t,g)),multiSelect:!0}),hidden:![ee.GZMTR,ee.SHMetro].includes(l)},{type:"select",label:r("StationSidePanel.more.facility"),value:a,options:l===ee.MTR?p:_,onChange:g=>h(Br(t,g)),hidden:![ee.MTR,ee.SHMetro].includes(l)},{type:"switch",label:r("StationSidePanel.more.pivot"),isChecked:e,onChange:g=>h(Hr(t,g)),hidden:![ee.SHMetro].includes(l)||!o,minW:"full",oneLine:!0},{type:"switch",label:r("StationSidePanel.more.oneLine"),isChecked:s,onChange:g=>h(Fr(t,g)),hidden:![ee.SHMetro].includes(l),minW:"full",oneLine:!0},{type:"input",label:r("StationSidePanel.more.intPadding"),value:d.toString(),validator:g=>Number.isInteger(g),onChange:g=>h(Vr(t,Number(g))),hidden:![ee.SHMetro].includes(l)},{type:"custom",label:r("StationSidePanel.more.intPaddingApplyGlobal"),component:z(ot,{selections:[{label:r("StationSidePanel.more.apply"),value:"",disabled:!1}],defaultValue:"",onChange:g=>h(Mr(t))}),oneLine:!0,hidden:![ee.SHMetro].includes(l)}];return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("StationSidePanel.more.title")}),z(ye,{fields:m})]})}function ja(){const{t:r}=oe(),h=pe(),t=ne(p=>p.app.selectedStation),l=ne(p=>p.param.stn_list),{parents:o,children:n,branch:a}=l[t],e={[_t.through]:r("StationSidePanel.branch.through"),[_t.nonThrough]:r("StationSidePanel.branch.nonThrough")},s=p=>(p===Le.left?o:n).reduce((_,m)=>({..._,[m]:l[m].name.join(" ")}),{}),d={upper:r("StationSidePanel.branch.upper"),lower:r("StationSidePanel.branch.lower")},f=p=>a[p].length?[{type:"select",label:r("StationSidePanel.branch.type"),options:e,value:a[p][0],onChange:_=>h(Nr(t,p,_))},{type:"select",label:r("StationSidePanel.branch.firstStation"),options:s(p),value:a[p][1],onChange:_=>h(Ur(t,p,_))},{type:"select",label:r("StationSidePanel.branch.position"),options:d,value:(p===Le.left?o:n)[0]===a[p][1]?"upper":"lower",onChange:()=>h(Wr(t,p))}]:[];return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("Branches")}),z(ze,{as:"h6",size:"xs",children:r("Branch on the left")}),z(We,{direction:"column",children:o.length===2?z(ye,{fields:f(Le.left)}):z(it,{as:"i",flex:1,align:"center",fontSize:"md",colorScheme:"gray",children:r("No branches found")})}),z(ze,{as:"h6",size:"xs",children:r("Branch on the right")}),z(We,{direction:"column",children:n.length===2?z(ye,{fields:f(Le.right)}):z(it,{as:"i",flex:1,align:"center",fontSize:"md",colorScheme:"gray",children:r("No branches found")})})]})}function Ba(){return q(xt,{children:[z(Oa,{}),z(Ne,{}),z(xa,{}),z(Ne,{}),z(ja,{}),z(Ne,{}),z(Ca,{})]})}function Ha(){const{t:r}=oe(),h=Ct(),{style:t,svgWidth:l,svg_height:o,y_pc:n,branchSpacingPct:a,padding:e,direction_gz_x:s,direction_gz_y:d,loop:f}=ne(_=>_.param),p=[...Ht[t].map(_=>({type:"input",label:r(`StyleSidePanel.layout.${_}Width`),value:l[_].toString(),onChange:m=>h(Zr(Number(m),_))})),{type:"input",label:r("StyleSidePanel.layout.canvasHeight"),value:o.toString(),onChange:_=>h(Gr(Number(_)))},{type:"slider",label:r("StyleSidePanel.layout.verticalPosition"),value:n,min:0,max:100,onChange:_=>h(qr(_)),hidden:![ee.MTR,ee.GZMTR].includes(t)},{type:"slider",label:r(f?"StyleSidePanel.layout.branchSpacingLoop":"Branch spacing"),value:a,min:0,max:f?50:100,onChange:_=>h(Jr(_))},{type:"slider",label:r("StyleSidePanel.layout.padding"),value:e,min:0,max:50,onChange:_=>h($r(_))},{type:"slider",label:r("StyleSidePanel.layout.directionGzX"),value:s,min:0,max:100,onChange:_=>h(Yr(_)),hidden:![ee.GZMTR].includes(t)},{type:"slider",label:r("StyleSidePanel.layout.directionGzY"),value:d,min:0,max:100,onChange:_=>h(Kr(_)),hidden:![ee.GZMTR].includes(t)}];return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("StyleSidePanel.layout.title")}),z(ye,{fields:p,minW:130})]})}function Fa(){const{t:r}=oe(),h=pe(),{style:t,theme:l,line_name:o,line_num:n,direction:a,platform_num:e,psd_num:s,namePosMTR:d,customiseMTRDest:f,info_panel_type:p}=ne(A=>A.param),[_,m]=Q.exports.useState(!1),g=[{label:r("StyleSidePanel.design.left"),value:Ye.left},{label:r("StyleSidePanel.design.right"),value:Ye.right}],u=Object.values(mn).reduce((A,P)=>({...A,[P]:r("StyleSidePanel.design."+P)}),{}),b=Object.values(hn).reduce((A,P)=>({...A,[P]:r("StyleSidePanel.design."+P)}),{}),y=[{type:"custom",label:r("Colour"),component:z(Vt,{theme:l,onClick:()=>m(!0)}),minW:"40px"},{type:"input",label:r("StyleSidePanel.design.zhLineName"),value:o[0],onChange:A=>h(Xt([A,o[1]])),minW:130},{type:"input",label:r("StyleSidePanel.design.enLineName"),value:o[1],onChange:A=>h(Xt([o[0],A])),minW:130},{type:"input",label:r("StyleSidePanel.design.lineNum"),value:n,onChange:A=>h(Xr(A)),hidden:![ee.GZMTR].includes(t)},{type:"input",label:r("StyleSidePanel.design.platformNum"),value:e||"",onChange:A=>h(Qr(A))},{type:"input",label:r("StyleSidePanel.design.psdNum"),value:s,onChange:A=>h(ea(A)),hidden:![ee.GZMTR].includes(t)},{type:"select",label:r("StyleSidePanel.design.panelType"),value:p,options:t===ee.GZMTR?u:b,onChange:A=>h(ta(A)),hidden:![ee.GZMTR,ee.SHMetro].includes(t)},{type:"custom",label:r("StyleSidePanel.design.direction"),component:z(ot,{selections:g,defaultValue:a,onChange:A=>h(na(A))}),minW:"full",oneLine:!0}],S=[{label:r("StyleSidePanel.design.alternatively"),value:!0},{label:r("StyleSidePanel.design.onOneSide"),value:!1}],O=[{type:"custom",label:r("StyleSidePanel.design.nameDisplay"),component:q(Ce,{children:[z(ot,{selections:S,defaultValue:d.isStagger,onChange:A=>h(ra(A))}),z(ue,{size:"xs",variant:"ghost",leftIcon:z(rr,{}),onClick:()=>h(aa()),children:r("StyleSidePanel.design.flip")})]}),minW:"full",oneLine:!0,hidden:![ee.MTR].includes(t)},{type:"switch",label:r("StyleSidePanel.design.legacyDestination"),isChecked:f.isLegacy,onChange:A=>h(sa(A)),hidden:![ee.MTR].includes(t),minW:"full",oneLine:!0},{type:"switch",label:r("StyleSidePanel.design.overrideTerminal"),isChecked:f.terminal!==!1,onChange:A=>h(zt(A?["",""]:!1)),hidden:![ee.MTR].includes(t),minW:"full",oneLine:!0},{type:"input",label:r("StyleSidePanel.design.terminalZhName"),value:f.terminal?f.terminal[0]:"",placeholder:"\u6A5F\u5834\u53CA\u535A\u89BD\u9928",onChange:A=>h(zt([A,f.terminal?f.terminal[1]:""])),hidden:![ee.MTR].includes(t)||f.terminal===!1},{type:"input",label:r("StyleSidePanel.design.terminalEnName"),value:f.terminal?f.terminal[1]:"",placeholder:"Airport and AsiaWorld-Expo",onChange:A=>h(zt([f.terminal?f.terminal[0]:"",A])),hidden:![ee.MTR].includes(t)||f.terminal===!1}];return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("StyleSidePanel.design.title")}),z(ye,{fields:[...y,...O],minW:130}),z(Ft,{isOpen:_,onClose:()=>m(!1),defaultTheme:l,onUpdate:A=>h(ia(A))})]})}function Va(){const{t:r}=oe(),h=pe(),{branches:t}=ne(_=>_.helper),{loop:l,loop_info:o}=ne(_=>_.param),{bank:n,left_and_right_factor:a,bottom_factor:e}=o,s=t.flat().filter((_=>m=>(_[m]=(_[m]||0)+1)===2)({})).filter(_=>!["linestart","lineend"].includes(_)),d=Math.abs(t[0].indexOf(s[0])-t[0].indexOf(s[1])),f=t.length>=2?(0,Math.min)(t[0].length-2-d,d):Math.floor((t[0].length-2-e*2)/2),p=[{type:"switch",label:r("StyleSidePanel.loop.isLoop"),isChecked:l,onChange:_=>h(oa(_)),minW:"full",oneLine:!0},{type:"switch",label:r("StyleSidePanel.loop.isBank"),isChecked:n,onChange:_=>h(la(_)),minW:"full",oneLine:!0,hidden:!l},{type:"slider",label:r("StyleSidePanel.loop.leftRightFactor"),value:a,min:0,max:f,onChange:_=>h(da(Math.floor(_))),hidden:!l},{type:"slider",label:r("StyleSidePanel.loop.bottomFactor"),value:e,min:0,max:Math.floor((t[0].length-2-a*2)/2),onChange:_=>h(ca(Math.floor(_))),hidden:!l||l&&t.length>2}];return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("StyleSidePanel.loop.title")}),z(ye,{fields:p})]})}function Ma(r){const{note:h,onUpdate:t,onDelete:l}=r,{t:o}=oe(),n=[{type:"textarea",label:o("StyleSidePanel.note.zhNote"),value:h[0],onChange:e=>t==null?void 0:t([e,h[1],h[2],h[3],h[4]])},{type:"textarea",label:o("StyleSidePanel.note.enNote"),value:h[1],onChange:e=>t==null?void 0:t([h[0],e,h[2],h[3],h[4]])},{type:"switch",label:o("StyleSidePanel.note.border"),isChecked:h[4],onChange:e=>t==null?void 0:t([h[0],h[1],h[2],h[3],e]),oneLine:!0}],a=[{type:"slider",label:o("StyleSidePanel.note.positionX"),value:h[2],min:0,max:100,onChange:e=>t==null?void 0:t([h[0],h[1],e,h[3],h[4]])},{type:"slider",label:o("StyleSidePanel.note.positionY"),value:h[3],min:0,max:100,onChange:e=>t==null?void 0:t([h[0],h[1],h[2],e,h[4]])}];return q(We,{direction:"column",children:[z(ye,{fields:n,minW:"full"}),q(Ce,{spacing:.5,sx:{"&>div":{flex:1}},children:[z(ye,{fields:a}),z(xe,{size:"sm",variant:"ghost","aria-label":o("StyleSidePanel.note.remove"),onClick:()=>l==null?void 0:l(),icon:z(vt,{})})]})]})}function Na(){const{t:r}=oe(),h=pe(),t=ne(l=>l.param.notesGZMTR);return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("StyleSidePanel.note.title")}),q(yt,{spacing:.5,children:[t.map((l,o)=>z(Ma,{note:l,onUpdate:n=>h(ua(o,n)),onDelete:()=>h(ma(o))},o)),z(ue,{size:"xs",variant:"ghost",leftIcon:z(Ze,{}),alignSelf:"flex-end",onClick:()=>h(ha()),children:r("StyleSidePanel.note.add")})]})]})}function Ua(){const{style:r}=ne(h=>h.param);return q(xt,{children:[z(Ha,{}),z(Ne,{}),z(Fa,{}),r===ee.GZMTR&&q(Ue,{children:[z(Ne,{}),z(Na,{})]}),r===ee.SHMetro&&q(Ue,{children:[z(Ne,{}),z(Va,{})]})]})}const Mt=(r,h)=>{if(["linestart","lineend"].includes(r)||h[r].parents.length>1||h[r].children.length>1)return 0;const t=h[r].parents[0];return t?h[t].children.length===1?Mt(t,h):h[t].children.indexOf(r)===0?1:-1:0},Wa=r=>(h,t)=>{const{stn_list:l,current_stn_idx:o}=t().param;if(r===o)return console.log("removeStation():: failed as current station cannot be deleted"),!1;const{parents:n,children:a}=l[r];return Object.keys(l).length===4?(console.log("removeStation():: failed as only 2 stations remaining"),!1):n.length===2&&a.length===2?(console.log("removeStation():: failed as branches on both sides cannot be combined"),!1):Object.keys(l).some(s=>![r,"linestart","lineend"].includes(s)&&Mt(s,l)===0)?!0:(console.log("removeStation():: failed as selected station is the only station without siblings"),!1)},Za=r=>(h,t)=>{const l=t().param.stn_list,{parents:o,children:n}=l[r];let a=JSON.parse(JSON.stringify(l));o.length===2||n.length===2?(o.forEach(e=>{a[e].children=n}),n.forEach(e=>{a[e].parents=o}),o.length===1&&(a[o[0]].branch.right=a[r].branch.right),n.length===1&&(a[n[0]].branch.left=a[r].branch.left)):l[o[0]].children.length===2&&l[n[0]].parents.length===2?a={...l,[o[0]]:{...l[o[0]],children:l[o[0]].children.filter(e=>e!==r),branch:{...l[o[0]].branch,right:[]}},[n[0]]:{...l[n[0]],parents:l[n[0]].parents.filter(e=>e!==r),branch:{...l[n[0]].branch,left:[]}}}:(o.forEach(e=>{const s=a[e].children.indexOf(r);n.length?a[e].children[s]=n[0]:a[e].children.splice(s,1),a[e].branch.right[1]===r&&(a[e].branch.right[1]=n[0])}),n.forEach(e=>{const s=a[e].parents.indexOf(r);o.length?a[e].parents[s]=o[0]:a[e].parents.splice(s,1),a[e].branch.left[1]===r&&(a[e].branch.left[1]=o[0])})),delete a[r],h(Ge(a))};function Ga(...r){return r.reduce((h,t)=>h.map(l=>t.map(o=>l.concat([o]))).reduce((l,o)=>l.concat(o),[]),[[]])}const Qe=(r,h)=>!!h[r[0]].children.indexOf(r[1]),yn=(r,h)=>[r[0][1],r[0][r[0].length-2],...r[0].filter(t=>r.slice(1).filter(l=>Qe(l,h)).map(l=>l.filter(o=>!["linestart","lineend"].includes(o))).map(l=>[l[0],l[l.length-1]]).flat().includes(t))],qa=(r,h)=>r.slice(1).filter(t=>Qe(t,h)).map(t=>t.filter(l=>!["linestart","lineend"].includes(l))).map(t=>[t[0],t[t.length-1]]),Ja=r=>(h,t)=>{const l=t().helper.branches;if(r===0){const o=t().param.stn_list,n=yn(l,o);return Ga(n,n).filter(a=>a[0]!==a[1])}else{const o=l[r];if(o){const n=o.filter(a=>!["linestart","lineend"].includes(a));return[[n[0],n.slice(-1)[0]]]}else return[]}},ti=(r,h)=>(t,l)=>{const o=l().param.coline,n=l().helper.branches[h];for(const[a,e]of Object.entries(o))if(e.from===r&&n.includes(e.to)){const s=n.indexOf(r),d=n.indexOf(e.to);if(d>s)return[d-s+1,a]}else if(e.to===r&&n.includes(e.to)){const s=n.indexOf(r),d=n.indexOf(e.from);if(d>s)return[d-s+1,a]}return[0,void 0]},vn=(r,h)=>(t,l)=>{const o=l().param.stn_list,n=l().helper.branches;if(r===h)throw new Error("addColine():: failed for same stnId");const a=yn(n,o).filter(s=>[r,h].includes(s)),e=qa(n,o).filter(s=>[r,h].every(d=>s.includes(d)));if(a.length===2&&e.length>0)throw new Error(`addColine():: main check failed for ${r}, ${h}`);if(a.length!==2&&e.length!==1)throw new Error(`addColine():: branch check failed for ${r}, ${h}`)},$a=r=>(h,t)=>{const l=t().param.coline,n=t().helper.branches[r];return n?Object.entries(l).reduce((a,e)=>n.includes(e[1].from)&&n.includes(e[1].to)?{...a,[e[0]]:e[1]}:{...a},{}):{}},Ya=r=>(h,t)=>{const l=t().param.coline;if(Object.keys(l).length===0)return;const o=Object.entries(l).reduce((n,a)=>a[1].from!==r&&a[1].to!==r?{...n,[a[0]]:a[1]}:{...n},{});h(Ke(o))},Ka=(r,h,t,l=!0)=>(o,n)=>{const a=n().param.coline;o(vn(r,h)),o(Ke({...a,[$e(4)]:{from:r,to:h,colors:t,display:l}}))},Xa=(r,h,t,l=!0)=>(o,n)=>{const a=n().param.coline;if(r in a){o(vn(h,t));const e={...a,[r]:{...a[r],from:h,to:t,display:l}};o(Ke(e))}},Qa=(r,h)=>(t,l)=>{const o=l().param.coline;if(r in o&&o[r].colors.length>h){const n=o[r].colors.filter((a,e)=>e!==h);if(n.length===0){const{[r]:a,...e}=o;t(Ke(e))}else{const a={...o,[r]:{...o[r],colors:n}};t(Ke(a))}}},es=(r,h,t)=>(l,o)=>{const n=o().param.coline;r in n&&n[r].colors.length>h&&(n[r].colors=n[r].colors.map((a,e)=>e===h?[0,1,2,3,4,5].map(s=>t[s]===void 0?a[s]:t[s]):a),l(Ke(n)))};function ts(r){const{isOpen:h,onClose:t}=r,{t:l}=oe(),o=pe(),n=ne(d=>d.app.selectedStation),[a,e]=Q.exports.useState(!1);Q.exports.useEffect(()=>{h||e(!1)},[h]);const s=()=>{const d=o(Wa(n));d?(t(),o(lt(Xe.CLOSE)),o(pn("linestart")),o(Ya(n)),o(Za(n))):e(!0),he.event(be.REMOVE_STATION,{success:d})};return q(je,{isOpen:h,onClose:t,children:[z(Be,{}),q(He,{children:[a&&q(jt,{status:"error",variant:"solid",size:"xs",children:[z(Bt,{}),l("Unable to remove this station.")]}),q(Se,{position:"relative",children:[z(Fe,{children:l("Remove station")}),z(Ve,{})]}),z(Me,{children:l("Are you sure to remove station? You cannot undo this action.")}),q(qe,{children:[z(ue,{onClick:t,children:l("Cancel")}),z(ue,{colorScheme:"primary",onClick:s,ml:3,children:l("Confirm")})]})]})]})}function ns(){const{t:r}=oe(),h=pe(),t=ne(n=>n.app.selectedStation),[l,o]=Q.exports.useState(!1);return q(ar,{children:[q(Ce,{children:[z(ue,{size:"sm",variant:"outline",onClick:()=>h(kt(t)),children:r("StationSidePanel.footer.current")}),z(ue,{size:"sm",variant:"outline",onClick:()=>o(!0),children:r("StationSidePanel.footer.remove")})]}),z(ts,{isOpen:l,onClose:()=>o(!1)})]})}function rs(r){const{colineInfo:h,routeOptions:t,onUpdateRoute:l,onUpdateColourInfo:o,onDelete:n}=r,{t:a}=oe(),[e,s]=Q.exports.useState(!1),d=[{type:"select",label:"Route",value:[h.from,h.to].join(","),options:t,onChange:p=>l==null?void 0:l(p)}],f=[{type:"custom",label:a("Colour"),component:z(Vt,{theme:[h.colors[0][0],h.colors[0][1],h.colors[0][2],h.colors[0][3]],onClick:()=>s(!0)})},{type:"input",label:a("Chinese name"),value:h.colors[0][4],minW:120,onChange:p=>o==null?void 0:o([h.colors[0][0],h.colors[0][1],h.colors[0][2],h.colors[0][3],p,h.colors[0][5]])},{type:"input",label:a("English name"),value:h.colors[0][5],minW:120,onChange:p=>o==null?void 0:o([h.colors[0][0],h.colors[0][1],h.colors[0][2],h.colors[0][3],h.colors[0][4],p])}];return q(We,{direction:"column",children:[z(ye,{fields:d,minW:"full"}),q(Ce,{spacing:.5,children:[z(ye,{fields:f}),z(xe,{size:"sm",variant:"ghost","aria-label":"Delete colour for route",onClick:()=>n==null?void 0:n(0),icon:z(vt,{})})]}),z(Ft,{isOpen:e,onClose:()=>s(!1),defaultTheme:h.colors[0].slice(0,4),onUpdate:p=>o==null?void 0:o([...p,h.colors[0][4],h.colors[0][5]])})]})}function as(){const{t:r}=oe(),h=pe(),t=ne(_=>_.app.selectedBranch),{theme:l,stn_list:o}=ne(_=>_.param),n=h($a(t)),a=h(Ja(t)),e=_=>_.map(m=>o[m].name.join(" - ")).join(" ~ "),s=a.reduce((_,m)=>({..._,[m.join(",")]:e(m)}),{}),d=()=>{console.log(`ColineSection.handleAddTrackSharing():: Adding track sharing to branch ${t} with default combination`,a[0]),h(Ka(a[0][0],a[0][1],[[l[0],"","#AAAAAA",we.white,"",""]]))},f=_=>m=>{const[g,u]=m.split(",");console.log(`ColineSection.handleUpdateRoute():: Updating route, colineId=${_}, from=${g}, to=${u}`);try{h(Xa(_,g,u))}catch(b){h(ft({status:"error",message:"Unable to draw this share track."}))}},p=(_,m)=>{h(Qa(_,m))};return q(yt,{align:"flex-start",p:1,children:[z(ze,{as:"h5",size:"sm",children:r("BranchSidePanel.coline.title")}),Object.entries(n).map(([_,m])=>z(rs,{colineInfo:m,routeOptions:s,onUpdateRoute:f(_),onUpdateColourInfo:g=>h(es(_,0,g)),onDelete:g=>p(_,g)},_)),(t===0||Object.keys(n).length===0)&&z(ue,{size:"xs",variant:"ghost",alignSelf:"flex-end",leftIcon:z(Ze,{}),onClick:d,children:r("BranchSidePanel.coline.add")})]})}function ss(r){const{isOpen:h,onClose:t}=r,{t:l}=oe(),o=pe(),n=ne(A=>A.app.selectedBranch),{style:a,stn_list:e}=ne(A=>A.param),s=ne(A=>A.helper.branches),[d,f]=Q.exports.useState(n),[p,_]=Q.exports.useState("1"),[m,g]=Q.exports.useState("2"),[u,b]=Q.exports.useState("asc");Q.exports.useEffect(()=>{f(n)},[n]);const y=[{type:"select",label:l("AutoNumModal.where"),value:d,options:{...s.reduce((A,P,B)=>({...A,[B]:B===0?l("AutoNumModal.main"):a!==ee.SHMetro||!Qe(P,e)?l("AutoNumModal.branch")+" "+B:l("AutoNumModal.external")+" "+B}),{})},onChange:A=>f(A)},{type:"input",label:l("AutoNumModal.from"),value:p,validator:A=>!isNaN(Number(A)),onChange:_,debouncedDelay:0},{type:"input",label:l("AutoNumModal.maxLength"),validator:A=>!isNaN(Number(A)),value:m,onChange:g,debouncedDelay:0},{type:"select",label:l("AutoNumModal.sort"),value:u,options:{asc:l("AutoNumModal.asc"),desc:l("AutoNumModal.desc")},onChange:A=>b(A)}],S=()=>{o(pa(d,Number(p),Number(m),u)),t(),he.event(be.AUTO_NUMBERING,{})},O=!p||!m||isNaN(Number(p))||isNaN(Number(m));return q(je,{isOpen:h,onClose:t,children:[z(Be,{}),q(He,{children:[z(Fe,{children:l("AutoNumModal.title")}),z(Ve,{}),z(Me,{children:z(ye,{fields:y})}),z(qe,{children:z(ue,{colorScheme:"primary",isDisabled:O,onClick:S,children:l("Confirm")})})]})]})}const Nt=r=>(h,t)=>{const o=t().helper.branches[r];return o.includes("linestart")||o.includes("lineend")?1:2},bn=r=>(h,t)=>{const{branches:l}=t().helper,o=l[0],n=l[r];return o.slice(o.indexOf(n[0])+1,o.indexOf(n.slice(-1)[0]))},is=(r,h)=>t=>t(Nt(h))===2?(console.log("isStationValid2ConnectBranch():: failed as current branch has 2 connected ends"),!1):t(bn(h)).includes(r)?!0:(console.log("isStationValid2ConnectBranch():: failed as the target station is invalid"),!1),os=(r,h)=>(t,l)=>{if(!t(is(r,h)))return!1;const{branches:n}=l().helper,a=l().param.stn_list,e=n[h];if(e[0]==="linestart"){const s={...a,[e[1]]:{...a[e[1]],parents:[r]},[r]:{...a[r],children:a.linestart.children.map(d=>d===e[1]?d:a[r].children[0]),branch:{left:[],right:a.linestart.branch.right}},linestart:{...a.linestart,children:a.linestart.children.filter(d=>d!==e[1]),branch:{left:[],right:[]}}};return t(Ge(s)),!0}else{const s=e.slice(-2)[0],d={...a,[s]:{...a[s],children:[r]},[r]:{...a[r],parents:a.lineend.parents.map(f=>f===s?f:a[r].parents[0]),branch:{right:[],left:a.lineend.branch.left}},lineend:{...a.lineend,parents:a.lineend.parents.filter(f=>f!==s),branch:{left:[],right:[]}}};return t(Ge(d)),!0}},En=r=>(h,t)=>{const{branches:l}=t().helper,o=t().param.stn_list,n=l[0],a=l[r];if(h(Nt(r))!==2)return console.log("getPossibleDirection():: failed as there is no possible direction"),[];const s=n.indexOf(a[0]),d=n.slice(0,s),f=n.indexOf(a.slice(-1)[0]),p=n.slice(f+1),_=d.every(g=>o[g].children.length<=1&&o[g].parents.length<=1),m=p.every(g=>o[g].children.length<=1&&o[g].parents.length<=1);return _?m?[Le.left,Le.right]:[Le.left]:m?[Le.right]:[]},ls=(r,h)=>(t,l)=>{if(!t(En(h)).includes(r))return console.log("disconnectFromMainLine():: failed as the aim direction is not in the possible direction list"),!1;const{branches:n}=l().helper,a=l().param.stn_list,e=n[0],s=n[h];if(r===Le.left){const d=s[0],f={...a,[s[1]]:{...a[s[1]],parents:["linestart"]},[d]:{...a[d],children:a[d].children.filter(p=>p!==s[1]),branch:{right:[],left:[]}},linestart:{...a.linestart,children:a[d].children.map(p=>p===s[1]?p:e[1]),branch:{left:[],right:a[d].branch.right}}};return t(Ge(f)),!0}else{const d=s.slice(-1)[0],f=s.slice(-2)[0],p={...a,[f]:{...a[f],children:["lineend"]},[d]:{...a[d],parents:a[d].parents.filter(_=>_!==f),branch:{right:[],left:[]}},lineend:{...a.lineend,parents:a[d].parents.map(_=>_===f?_:e.slice(-2)[0]),branch:{right:[],left:a[d].branch.left}}};return t(Ge(p)),!0}};function tn(r){const{direction:h}=r,{t}=oe(),l=pe(),{branches:o}=ne(I=>I.helper),n=ne(I=>I.app.selectedBranch),{style:a,stn_list:e}=ne(I=>I.param),[s,d]=Q.exports.useState(!1),[f,p]=Q.exports.useState(""),_=o[n].filter(I=>!["linestart","lineend"].includes(I)),m=h===Le.left?_[0]:_.slice(-1)[0],g=e[m],u=l(bn(n)),b=l(Nt(n)),y=l(En(n)),S=b===1&&!o[0].includes(m),O=y.includes(h),A=u.reduce((I,H)=>{var R;return{...I,[H]:(R=e[H])==null?void 0:R.name.join(" - ")}},{"":t("Please select...")}),P=()=>{const I=l(os(f,n));I?d(!1):l(ft({status:"error",message:t("Unable to connect to main line.")})),he.event(be.CONNECT_BRANCH,{style:a,success:I})},B=()=>{const I=l(ls(h,n));I||l(ft({status:"error",message:t("Unable to disconnect from main line.")})),he.event(be.DISCONNECT_BRANCH,{style:a,success:I})};return q(We,{direction:"column",children:[q(Pe,{alignItems:"center",children:[z(Ot,{label:t("Station name"),flex:1,children:z(sr,{defaultValue:g.name.join(" "),isDisabled:!0})}),s?z(ue,{mx:1,size:"sm",variant:"outline",onClick:()=>d(!1),children:t("Cancel")}):S?z(ue,{mx:1,size:"sm",variant:"solid",colorScheme:"primary",onClick:()=>d(!0),children:t("Connect to main line")}):z(ue,{mx:1,size:"sm",variant:"solid",colorScheme:"primary",onClick:B,isDisabled:!O,children:t("Disconnect from main line")})]}),s&&q(Pe,{alignItems:"center",children:[z(Ot,{label:t("Target station"),flex:1,children:z(ir,{defaultValue:f,options:A,disabledOptions:[""],onChange:({target:{value:I}})=>p(I)})}),z(ue,{mx:1,size:"sm",variant:"solid",colorScheme:"primary",onClick:P,isDisabled:!f,children:t("Confirm")})]})]})}function ds(){const{t:r}=oe(),h=pe(),t=ne(e=>e.param.style),l=ne(e=>e.app.selectedBranch),[o,n]=Q.exports.useState(!1),a=()=>{h(_a(t===ee.SHMetro)),he.event(be.REVERSE_STATIONS,{style:t})};return q(Se,{p:1,children:[z(ze,{as:"h5",size:"sm",children:r("BranchSidePanel.action.title")}),q(Pe,{wrap:"wrap",sx:{p:1,"&> *":{flexShrink:0,flexBasis:"100%","&:not(:first-of-type)":{marginTop:2}}},children:[l!==0&&t!==ee.SHMetro&&q(Ue,{children:[z(ze,{as:"h6",size:"xs",children:r("Branch left end")}),z(tn,{direction:Le.left}),z(ze,{as:"h6",size:"xs",children:r("Branch right end")}),z(tn,{direction:Le.right})]}),t===ee.GZMTR&&z(ue,{size:"sm",variant:"outline",leftIcon:z(or,{}),alignSelf:"flex-end",onClick:()=>n(!0),children:r("BranchSidePanel.action.autoNum")}),z(ue,{size:"sm",variant:"outline",leftIcon:z(lr,{}),alignSelf:"flex-end",onClick:a,children:t===ee.SHMetro?r("BranchSidePanel.action.flip"):r("BranchSidePanel.action.reverse")})]}),z(ss,{isOpen:o,onClose:()=>n(!1)})]})}function cs(){const r=ne(o=>o.app.selectedBranch),{style:h,stn_list:t}=ne(o=>o.param),l=ne(o=>o.helper.branches);return q(xt,{children:[h===ee.SHMetro&&(r===0||Qe(l[r],t))&&q(Ue,{children:[z(as,{}),z(Ne,{})]}),z(ds,{})]})}const us=375;function ms(){var e,s;const{t:r}=oe(),h=Ct(),{sidePanelMode:t,selectedStation:l}=ne(d=>d.app),o=ne(d=>{var f;return(f=d.param.stn_list[l])==null?void 0:f.name}),n={STATION:{header:z(dr,{text:(o==null?void 0:o.join(" - "))||""}),body:z(Ba,{}),footer:z(ns,{})},STYLE:{header:r("StyleSidePanel.header"),body:z(Ua,{})},BRANCH:{header:r("BranchSidePanel.header"),body:z(cs,{})},CLOSE:{header:"Close"}},a=()=>{h(lt(Xe.CLOSE))};return q(cr,{isOpen:t!==Xe.CLOSE,width:us,header:"Dummy header",children:[z(ur,{onClose:a,children:n[t].header}),(e=n[t])==null?void 0:e.body,(s=n[t])==null?void 0:s.footer]})}const zn=(r,h,t)=>{const l=new Blob([t],{type:h});Tt(r,l)},Tt=(r,h)=>{const t=window.URL.createObjectURL(h),l=document.createElement("a");l.href=t,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(t)},hs=r=>new Promise(h=>{const t=new FileReader;t.onloadend=()=>h(t.result),t.readAsText(r)}),Sn=()=>navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),ps=r=>{if(r){const h=new Date().getTime()-r;return h<60*1e3?["Just now"]:h<2*60*1e3?["1","minute ago"]:h<60*60*1e3?[Math.floor(h/1e3/60).toString(),"minutes ago"]:h<2*60*60*1e3?["1","hour ago"]:h<24*60*60*1e3?[Math.floor(h/1e3/60/60).toString(),"hours ago"]:h<48*60*60*1e3?["1","day ago"]:[Math.floor(h/1e3/60/60/24).toString(),"days ago"]}else return["Unknown"]};function mt(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(r,h){(function(t){r.exports=t()})(function(){return function t(l,o,n){function a(d,f){if(!o[d]){if(!l[d]){var p=typeof mt=="function"&&mt;if(!f&&p)return p(d,!0);if(e)return e(d,!0);var _=new Error("Cannot find module '"+d+"'");throw _.code="MODULE_NOT_FOUND",_}var m=o[d]={exports:{}};l[d][0].call(m.exports,function(g){var u=l[d][1][g];return a(u||g)},m,m.exports,t,l,o,n)}return o[d].exports}for(var e=typeof mt=="function"&&mt,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(t,l,o){var n=t("./utils"),a=t("./support"),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(s){for(var d,f,p,_,m,g,u,b=[],y=0,S=s.length,O=S,A=n.getTypeOf(s)!=="string";y<s.length;)O=S-y,p=A?(d=s[y++],f=y<S?s[y++]:0,y<S?s[y++]:0):(d=s.charCodeAt(y++),f=y<S?s.charCodeAt(y++):0,y<S?s.charCodeAt(y++):0),_=d>>2,m=(3&d)<<4|f>>4,g=1<O?(15&f)<<2|p>>6:64,u=2<O?63&p:64,b.push(e.charAt(_)+e.charAt(m)+e.charAt(g)+e.charAt(u));return b.join("")},o.decode=function(s){var d,f,p,_,m,g,u=0,b=0,y="data:";if(s.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var S,O=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===e.charAt(64)&&O--,s.charAt(s.length-2)===e.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=a.uint8array?new Uint8Array(0|O):new Array(0|O);u<s.length;)d=e.indexOf(s.charAt(u++))<<2|(_=e.indexOf(s.charAt(u++)))>>4,f=(15&_)<<4|(m=e.indexOf(s.charAt(u++)))>>2,p=(3&m)<<6|(g=e.indexOf(s.charAt(u++))),S[b++]=d,m!==64&&(S[b++]=f),g!==64&&(S[b++]=p);return S}},{"./support":30,"./utils":32}],2:[function(t,l,o){var n=t("./external"),a=t("./stream/DataWorker"),e=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");function d(f,p,_,m,g){this.compressedSize=f,this.uncompressedSize=p,this.crc32=_,this.compression=m,this.compressedContent=g}d.prototype={getContentWorker:function(){var f=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(f,p,_){return f.pipe(new e).pipe(new s("uncompressedSize")).pipe(p.compressWorker(_)).pipe(new s("compressedSize")).withStreamInfo("compression",p)},l.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,l,o){var n=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,l,o){var n=t("./utils"),a=function(){for(var e,s=[],d=0;d<256;d++){e=d;for(var f=0;f<8;f++)e=1&e?3988292384^e>>>1:e>>>1;s[d]=e}return s}();l.exports=function(e,s){return e!==void 0&&e.length?n.getTypeOf(e)!=="string"?function(d,f,p,_){var m=a,g=_+p;d^=-1;for(var u=_;u<g;u++)d=d>>>8^m[255&(d^f[u])];return-1^d}(0|s,e,e.length,0):function(d,f,p,_){var m=a,g=_+p;d^=-1;for(var u=_;u<g;u++)d=d>>>8^m[255&(d^f.charCodeAt(u))];return-1^d}(0|s,e,e.length,0):0}},{"./utils":32}],5:[function(t,l,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,l,o){var n=null;n=typeof Promise<"u"?Promise:t("lie"),l.exports={Promise:n}},{lie:37}],7:[function(t,l,o){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),e=t("./utils"),s=t("./stream/GenericWorker"),d=n?"uint8array":"array";function f(p,_){s.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=_,this.meta={}}o.magic="\b\0",e.inherits(f,s),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(e.transformTo(d,p.data),!1)},f.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(_){p.push({data:_,meta:p.meta})}},o.compressWorker=function(p){return new f("Deflate",p)},o.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,l,o){function n(m,g){var u,b="";for(u=0;u<g;u++)b+=String.fromCharCode(255&m),m>>>=8;return b}function a(m,g,u,b,y,S){var O,A,P=m.file,B=m.compression,I=S!==d.utf8encode,H=e.transformTo("string",S(P.name)),R=e.transformTo("string",d.utf8encode(P.name)),M=P.comment,$=e.transformTo("string",S(M)),L=e.transformTo("string",d.utf8encode(M)),j=R.length!==P.name.length,c=L.length!==M.length,F="",ae="",W="",ie=P.dir,Z=P.date,se={crc32:0,compressedSize:0,uncompressedSize:0};g&&!u||(se.crc32=m.crc32,se.compressedSize=m.compressedSize,se.uncompressedSize=m.uncompressedSize);var x=0;g&&(x|=8),I||!j&&!c||(x|=2048);var D=0,re=0;ie&&(D|=16),y==="UNIX"?(re=798,D|=function(Y,_e){var Ee=Y;return Y||(Ee=_e?16893:33204),(65535&Ee)<<16}(P.unixPermissions,ie)):(re=20,D|=function(Y){return 63&(Y||0)}(P.dosPermissions)),O=Z.getUTCHours(),O<<=6,O|=Z.getUTCMinutes(),O<<=5,O|=Z.getUTCSeconds()/2,A=Z.getUTCFullYear()-1980,A<<=4,A|=Z.getUTCMonth()+1,A<<=5,A|=Z.getUTCDate(),j&&(ae=n(1,1)+n(f(H),4)+R,F+="up"+n(ae.length,2)+ae),c&&(W=n(1,1)+n(f($),4)+L,F+="uc"+n(W.length,2)+W);var K="";return K+=`
\0`,K+=n(x,2),K+=B.magic,K+=n(O,2),K+=n(A,2),K+=n(se.crc32,4),K+=n(se.compressedSize,4),K+=n(se.uncompressedSize,4),K+=n(H.length,2),K+=n(F.length,2),{fileRecord:p.LOCAL_FILE_HEADER+K+H+F,dirRecord:p.CENTRAL_FILE_HEADER+n(re,2)+K+n($.length,2)+"\0\0\0\0"+n(D,4)+n(b,4)+H+F+$}}var e=t("../utils"),s=t("../stream/GenericWorker"),d=t("../utf8"),f=t("../crc32"),p=t("../signature");function _(m,g,u,b){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=u,this.encodeFileName=b,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}e.inherits(_,s),_.prototype.push=function(m){var g=m.meta.percent||0,u=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,s.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:u?(g+100*(u-b-1))/u:100}}))},_.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var u=a(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,u=a(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),g)this.push({data:function(b){return p.DATA_DESCRIPTOR+n(b.crc32,4)+n(b.compressedSize,4)+n(b.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var u=this.bytesWritten-m,b=function(y,S,O,A,P){var B=e.transformTo("string",P(A));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(y,2)+n(y,2)+n(S,4)+n(O,4)+n(B.length,2)+B}(this.dirRecords.length,u,m,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(u){g.processChunk(u)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(u){g.error(u)}),this},_.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(m){var g=this._sources;if(!s.prototype.error.call(this,m))return!1;for(var u=0;u<g.length;u++)try{g[u].error(m)}catch(b){}return!0},_.prototype.lock=function(){s.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},l.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,l,o){var n=t("../compressions"),a=t("./ZipFileWorker");o.generateWorker=function(e,s,d){var f=new a(s.streamFiles,d,s.platform,s.encodeFileName),p=0;try{e.forEach(function(_,m){p++;var g=function(S,O){var A=S||O,P=n[A];if(!P)throw new Error(A+" is not a valid compression method !");return P}(m.options.compression,s.compression),u=m.options.compressionOptions||s.compressionOptions||{},b=m.dir,y=m.date;m._compressWorker(g,u).withStreamInfo("file",{name:_,dir:b,date:y,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(_){f.error(_)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,l,o){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var e in this)typeof this[e]!="function"&&(a[e]=this[e]);return a}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(a,e){return new n().loadAsync(a,e)},n.external=t("./external"),l.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,l,o){var n=t("./utils"),a=t("./external"),e=t("./utf8"),s=t("./zipEntries"),d=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function p(_){return new a.Promise(function(m,g){var u=_.decompressed.getContentWorker().pipe(new d);u.on("error",function(b){g(b)}).on("end",function(){u.streamInfo.crc32!==_.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}l.exports=function(_,m){var g=this;return m=n.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),f.isNode&&f.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",_,!0,m.optimizedBinaryString,m.base64).then(function(u){var b=new s(m);return b.load(u),b}).then(function(u){var b=[a.Promise.resolve(u)],y=u.files;if(m.checkCRC32)for(var S=0;S<y.length;S++)b.push(p(y[S]));return a.Promise.all(b)}).then(function(u){for(var b=u.shift(),y=b.files,S=0;S<y.length;S++){var O=y[S],A=O.fileNameStr,P=n.resolve(O.fileNameStr);g.file(P,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:m.createFolders}),O.dir||(g.file(P).unsafeOriginalName=A)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,l,o){var n=t("../utils"),a=t("../stream/GenericWorker");function e(s,d){a.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(d)}n.inherits(e,a),e.prototype._bindStream=function(s){var d=this;(this._stream=s).pause(),s.on("data",function(f){d.push({data:f,meta:{percent:0}})}).on("error",function(f){d.isPaused?this.generatedError=f:d.error(f)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},e.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},e.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=e},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,l,o){var n=t("readable-stream").Readable;function a(e,s,d){n.call(this,s),this._helper=e;var f=this;e.on("data",function(p,_){f.push(p)||f._helper.pause(),d&&d(_)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}t("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},l.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,l,o){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,l,o){function n(P,B,I){var H,R=e.getTypeOf(B),M=e.extend(I||{},f);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(P=y(P)),M.createFolders&&(H=b(P))&&S.call(this,H,!0);var $=R==="string"&&M.binary===!1&&M.base64===!1;I&&I.binary!==void 0||(M.binary=!$),(B instanceof p&&B.uncompressedSize===0||M.dir||!B||B.length===0)&&(M.base64=!1,M.binary=!0,B="",M.compression="STORE",R="string");var L=null;L=B instanceof p||B instanceof s?B:g.isNode&&g.isStream(B)?new u(P,B):e.prepareContent(P,B,M.binary,M.optimizedBinaryString,M.base64);var j=new _(P,L,M);this.files[P]=j}var a=t("./utf8"),e=t("./utils"),s=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),f=t("./defaults"),p=t("./compressedObject"),_=t("./zipObject"),m=t("./generate"),g=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),b=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var B=P.lastIndexOf("/");return 0<B?P.substring(0,B):""},y=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},S=function(P,B){return B=B!==void 0?B:f.createFolders,P=y(P),this.files[P]||n.call(this,P,null,{dir:!0,createFolders:B}),this.files[P]};function O(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var B,I,H;for(B in this.files)H=this.files[B],(I=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&P(I,H)},filter:function(P){var B=[];return this.forEach(function(I,H){P(I,H)&&B.push(H)}),B},file:function(P,B,I){if(arguments.length!==1)return P=this.root+P,n.call(this,P,B,I),this;if(O(P)){var H=P;return this.filter(function(M,$){return!$.dir&&H.test(M)})}var R=this.files[this.root+P];return R&&!R.dir?R:null},folder:function(P){if(!P)return this;if(O(P))return this.filter(function(R,M){return M.dir&&P.test(R)});var B=this.root+P,I=S.call(this,B),H=this.clone();return H.root=I.name,H},remove:function(P){P=this.root+P;var B=this.files[P];if(B||(P.slice(-1)!=="/"&&(P+="/"),B=this.files[P]),B&&!B.dir)delete this.files[P];else for(var I=this.filter(function(R,M){return M.name.slice(0,P.length)===P}),H=0;H<I.length;H++)delete this.files[I[H].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var B,I={};try{if((I=e.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");e.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var H=I.comment||this.comment||"";B=m.generateWorker(this,I,H)}catch(R){(B=new s("error")).error(R)}return new d(B,I.type||"string",I.mimeType)},generateAsync:function(P,B){return this.generateInternalStream(P).accumulate(B)},generateNodeStream:function(P,B){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(B)}};l.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,l,o){l.exports=t("stream")},{stream:void 0}],17:[function(t,l,o){var n=t("./DataReader");function a(e){n.call(this,e);for(var s=0;s<this.data.length;s++)e[s]=255&e[s]}t("../utils").inherits(a,n),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var s=e.charCodeAt(0),d=e.charCodeAt(1),f=e.charCodeAt(2),p=e.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===s&&this.data[_+1]===d&&this.data[_+2]===f&&this.data[_+3]===p)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var s=e.charCodeAt(0),d=e.charCodeAt(1),f=e.charCodeAt(2),p=e.charCodeAt(3),_=this.readData(4);return s===_[0]&&d===_[1]&&f===_[2]&&p===_[3]},a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},l.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,l,o){var n=t("../utils");function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var s,d=0;for(this.checkOffset(e),s=this.index+e-1;s>=this.index;s--)d=(d<<8)+this.byteAt(s);return this.index+=e,d},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},l.exports=a},{"../utils":32}],19:[function(t,l,o){var n=t("./Uint8ArrayReader");function a(e){n.call(this,e)}t("../utils").inherits(a,n),a.prototype.readData=function(e){this.checkOffset(e);var s=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},l.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,l,o){var n=t("./DataReader");function a(e){n.call(this,e)}t("../utils").inherits(a,n),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var s=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},l.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,l,o){var n=t("./ArrayReader");function a(e){n.call(this,e)}t("../utils").inherits(a,n),a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},l.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,l,o){var n=t("../utils"),a=t("../support"),e=t("./ArrayReader"),s=t("./StringReader"),d=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");l.exports=function(p){var _=n.getTypeOf(p);return n.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new d(p):a.uint8array?new f(n.transformTo("uint8array",p)):new e(n.transformTo("array",p)):new s(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,l,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,l,o){var n=t("./GenericWorker"),a=t("../utils");function e(s){n.call(this,"ConvertWorker to "+s),this.destType=s}a.inherits(e,n),e.prototype.processChunk=function(s){this.push({data:a.transformTo(this.destType,s.data),meta:s.meta})},l.exports=e},{"../utils":32,"./GenericWorker":28}],25:[function(t,l,o){var n=t("./GenericWorker"),a=t("../crc32");function e(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(e,n),e.prototype.processChunk=function(s){this.streamInfo.crc32=a(s.data,this.streamInfo.crc32||0),this.push(s)},l.exports=e},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,l,o){var n=t("../utils"),a=t("./GenericWorker");function e(s){a.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}n.inherits(e,a),e.prototype.processChunk=function(s){if(s){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+s.data.length}a.prototype.processChunk.call(this,s)},l.exports=e},{"../utils":32,"./GenericWorker":28}],27:[function(t,l,o){var n=t("../utils"),a=t("./GenericWorker");function e(s){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(f){d.dataIsReady=!0,d.data=f,d.max=f&&f.length||0,d.type=n.getTypeOf(f),d.isPaused||d._tickAndRepeat()},function(f){d.error(f)})}n.inherits(e,a),e.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,d);break;case"uint8array":s=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":s=this.data.slice(this.index,d)}return this.index=d,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=e},{"../utils":32,"./GenericWorker":28}],28:[function(t,l,o){function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,e){return this._listeners[a].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,e){if(this._listeners[a])for(var s=0;s<this._listeners[a].length;s++)this._listeners[a][s].call(this,e)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var e=this;return a.on("data",function(s){e.processChunk(s)}),a.on("end",function(){e.end()}),a.on("error",function(s){e.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,e){return this.extraStreamInfo[a]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},l.exports=n},{}],29:[function(t,l,o){var n=t("../utils"),a=t("./ConvertWorker"),e=t("./GenericWorker"),s=t("../base64"),d=t("../support"),f=t("../external"),p=null;if(d.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch(g){}function _(g,u){return new f.Promise(function(b,y){var S=[],O=g._internalType,A=g._outputType,P=g._mimeType;g.on("data",function(B,I){S.push(B),u&&u(I)}).on("error",function(B){S=[],y(B)}).on("end",function(){try{var B=function(I,H,R){switch(I){case"blob":return n.newBlob(n.transformTo("arraybuffer",H),R);case"base64":return s.encode(H);default:return n.transformTo(I,H)}}(A,function(I,H){var R,M=0,$=null,L=0;for(R=0;R<H.length;R++)L+=H[R].length;switch(I){case"string":return H.join("");case"array":return Array.prototype.concat.apply([],H);case"uint8array":for($=new Uint8Array(L),R=0;R<H.length;R++)$.set(H[R],M),M+=H[R].length;return $;case"nodebuffer":return Buffer.concat(H);default:throw new Error("concat : unsupported type '"+I+"'")}}(O,S),P);b(B)}catch(I){y(I)}S=[]}).resume()})}function m(g,u,b){var y=u;switch(u){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=u,this._mimeType=b,n.checkSupport(y),this._worker=g.pipe(new a(y)),g.lock()}catch(S){this._worker=new e("error"),this._worker.error(S)}}m.prototype={accumulate:function(g){return _(this,g)},on:function(g,u){var b=this;return g==="data"?this._worker.on(g,function(y){u.call(b,y.data,y.meta)}):this._worker.on(g,function(){n.delay(u,arguments,b)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},g)}},l.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,l,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var n=new ArrayBuffer(0);try{o.blob=new Blob([n],{type:"application/zip"}).size===0}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),o.blob=a.getBlob("application/zip").size===0}catch(s){o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch(e){o.nodestream=!1}},{"readable-stream":16}],31:[function(t,l,o){for(var n=t("./utils"),a=t("./support"),e=t("./nodejsUtils"),s=t("./stream/GenericWorker"),d=new Array(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;d[254]=d[254]=1;function p(){s.call(this,"utf-8 decode"),this.leftOver=null}function _(){s.call(this,"utf-8 encode")}o.utf8encode=function(m){return a.nodebuffer?e.newBufferFrom(m,"utf-8"):function(g){var u,b,y,S,O,A=g.length,P=0;for(S=0;S<A;S++)(64512&(b=g.charCodeAt(S)))==55296&&S+1<A&&(64512&(y=g.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),S++),P+=b<128?1:b<2048?2:b<65536?3:4;for(u=a.uint8array?new Uint8Array(P):new Array(P),S=O=0;O<P;S++)(64512&(b=g.charCodeAt(S)))==55296&&S+1<A&&(64512&(y=g.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),S++),b<128?u[O++]=b:(b<2048?u[O++]=192|b>>>6:(b<65536?u[O++]=224|b>>>12:(u[O++]=240|b>>>18,u[O++]=128|b>>>12&63),u[O++]=128|b>>>6&63),u[O++]=128|63&b);return u}(m)},o.utf8decode=function(m){return a.nodebuffer?n.transformTo("nodebuffer",m).toString("utf-8"):function(g){var u,b,y,S,O=g.length,A=new Array(2*O);for(u=b=0;u<O;)if((y=g[u++])<128)A[b++]=y;else if(4<(S=d[y]))A[b++]=65533,u+=S-1;else{for(y&=S===2?31:S===3?15:7;1<S&&u<O;)y=y<<6|63&g[u++],S--;1<S?A[b++]=65533:y<65536?A[b++]=y:(y-=65536,A[b++]=55296|y>>10&1023,A[b++]=56320|1023&y)}return A.length!==b&&(A.subarray?A=A.subarray(0,b):A.length=b),n.applyFromCharCode(A)}(m=n.transformTo(a.uint8array?"uint8array":"array",m))},n.inherits(p,s),p.prototype.processChunk=function(m){var g=n.transformTo(a.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var u=g;(g=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),g.set(u,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=function(S,O){var A;for((O=O||S.length)>S.length&&(O=S.length),A=O-1;0<=A&&(192&S[A])==128;)A--;return A<0||A===0?O:A+d[S[A]]>O?A:O}(g),y=g;b!==g.length&&(a.uint8array?(y=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(y=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:o.utf8decode(y),meta:m.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=p,n.inherits(_,s),_.prototype.processChunk=function(m){this.push({data:o.utf8encode(m.data),meta:m.meta})},o.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,l,o){var n=t("./support"),a=t("./base64"),e=t("./nodejsUtils"),s=t("./external");function d(u){return u}function f(u,b){for(var y=0;y<u.length;++y)b[y]=255&u.charCodeAt(y);return b}t("setimmediate"),o.newBlob=function(u,b){o.checkSupport("blob");try{return new Blob([u],{type:b})}catch(S){try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(u),y.getBlob(b)}catch(O){throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(u,b,y){var S=[],O=0,A=u.length;if(A<=y)return String.fromCharCode.apply(null,u);for(;O<A;)b==="array"||b==="nodebuffer"?S.push(String.fromCharCode.apply(null,u.slice(O,Math.min(O+y,A)))):S.push(String.fromCharCode.apply(null,u.subarray(O,Math.min(O+y,A)))),O+=y;return S.join("")},stringifyByChar:function(u){for(var b="",y=0;y<u.length;y++)b+=String.fromCharCode(u[y]);return b},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(u){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,e.allocBuffer(1)).length===1}catch(u){return!1}}()}};function _(u){var b=65536,y=o.getTypeOf(u),S=!0;if(y==="uint8array"?S=p.applyCanBeUsed.uint8array:y==="nodebuffer"&&(S=p.applyCanBeUsed.nodebuffer),S)for(;1<b;)try{return p.stringifyByChunk(u,y,b)}catch(O){b=Math.floor(b/2)}return p.stringifyByChar(u)}function m(u,b){for(var y=0;y<u.length;y++)b[y]=u[y];return b}o.applyFromCharCode=_;var g={};g.string={string:d,array:function(u){return f(u,new Array(u.length))},arraybuffer:function(u){return g.string.uint8array(u).buffer},uint8array:function(u){return f(u,new Uint8Array(u.length))},nodebuffer:function(u){return f(u,e.allocBuffer(u.length))}},g.array={string:_,array:d,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return e.newBufferFrom(u)}},g.arraybuffer={string:function(u){return _(new Uint8Array(u))},array:function(u){return m(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:d,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return e.newBufferFrom(new Uint8Array(u))}},g.uint8array={string:_,array:function(u){return m(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:d,nodebuffer:function(u){return e.newBufferFrom(u)}},g.nodebuffer={string:_,array:function(u){return m(u,new Array(u.length))},arraybuffer:function(u){return g.nodebuffer.uint8array(u).buffer},uint8array:function(u){return m(u,new Uint8Array(u.length))},nodebuffer:d},o.transformTo=function(u,b){if(b=b||"",!u)return b;o.checkSupport(u);var y=o.getTypeOf(b);return g[y][u](b)},o.resolve=function(u){for(var b=u.split("/"),y=[],S=0;S<b.length;S++){var O=b[S];O==="."||O===""&&S!==0&&S!==b.length-1||(O===".."?y.pop():y.push(O))}return y.join("/")},o.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":n.nodebuffer&&e.isBuffer(u)?"nodebuffer":n.uint8array&&u instanceof Uint8Array?"uint8array":n.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(u){if(!n[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(u){var b,y,S="";for(y=0;y<(u||"").length;y++)S+="\\x"+((b=u.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return S},o.delay=function(u,b,y){setImmediate(function(){u.apply(y||null,b||[])})},o.inherits=function(u,b){function y(){}y.prototype=b.prototype,u.prototype=new y},o.extend=function(){var u,b,y={};for(u=0;u<arguments.length;u++)for(b in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],b)&&y[b]===void 0&&(y[b]=arguments[u][b]);return y},o.prepareContent=function(u,b,y,S,O){return s.Promise.resolve(b).then(function(A){return n.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new s.Promise(function(P,B){var I=new FileReader;I.onload=function(H){P(H.target.result)},I.onerror=function(H){B(H.target.error)},I.readAsArrayBuffer(A)}):A}).then(function(A){var P=o.getTypeOf(A);return P?(P==="arraybuffer"?A=o.transformTo("uint8array",A):P==="string"&&(O?A=a.decode(A):y&&S!==!0&&(A=function(B){return f(B,n.uint8array?new Uint8Array(B.length):new Array(B.length))}(A))),A):s.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,l,o){var n=t("./reader/readerFor"),a=t("./utils"),e=t("./signature"),s=t("./zipEntry"),d=t("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(p)+")")}},isSignature:function(p,_){var m=this.reader.index;this.reader.setIndex(p);var g=this.reader.readString(4)===_;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),_=d.uint8array?"uint8array":"array",m=a.transformTo(_,p);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,_,m,g=this.zip64EndOfCentralSize-44;0<g;)p=this.reader.readInt(2),_=this.reader.readInt(4),m=this.reader.readData(_),this.zip64ExtensibleData[p]={id:p,length:_,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,_;for(p=0;p<this.files.length;p++)_=this.files[p],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);)(p=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,e.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var _=p;if(this.checkSignature(e.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=_-m;if(0<g)this.isSignature(_,e.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(p){this.reader=n(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,l,o){var n=t("./reader/readerFor"),a=t("./utils"),e=t("./compressedObject"),s=t("./crc32"),d=t("./utf8"),f=t("./compressions"),p=t("./support");function _(m,g){this.options=m,this.loadOptions=g}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,u;if(m.skip(22),this.fileNameLength=m.readInt(2),u=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(b){for(var y in f)if(Object.prototype.hasOwnProperty.call(f,y)&&f[y].magic===b)return f[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new e(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,u,b,y=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<y;)g=m.readInt(2),u=m.readInt(2),b=m.readData(u),this.extraFields[g]={id:g,length:u,value:b};m.setIndex(y)},handleUTF8:function(){var m=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var u=a.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=a.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=n(m.value);return g.readInt(1)!==1||s(this.fileName)!==g.readInt(4)?null:d.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=n(m.value);return g.readInt(1)!==1||s(this.fileComment)!==g.readInt(4)?null:d.utf8decode(g.readData(m.length-5))}return null}},l.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,l,o){function n(g,u,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=u,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),e=t("./stream/DataWorker"),s=t("./utf8"),d=t("./compressedObject"),f=t("./stream/GenericWorker");n.prototype={internalStream:function(g){var u=null,b="string";try{if(!g)throw new Error("No output type specified.");var y=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),u=this._decompressWorker();var S=!this._dataBinary;S&&!y&&(u=u.pipe(new s.Utf8EncodeWorker)),!S&&y&&(u=u.pipe(new s.Utf8DecodeWorker))}catch(O){(u=new f("error")).error(O)}return new a(u,b,"")},async:function(g,u){return this.internalStream(g).accumulate(u)},nodeStream:function(g,u){return this.internalStream(g||"nodebuffer").toNodejsStream(u)},_compressWorker:function(g,u){if(this._data instanceof d&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new s.Utf8EncodeWorker)),d.createWorkerFrom(b,g,u)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof f?this._data:new e(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<p.length;m++)n.prototype[p[m]]=_;l.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,l,o){(function(n){var a,e,s=n.MutationObserver||n.WebKitMutationObserver;if(s){var d=0,f=new s(g),p=n.document.createTextNode("");f.observe(p,{characterData:!0}),a=function(){p.data=d=++d%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var u=n.document.createElement("script");u.onreadystatechange=function(){g(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},n.document.documentElement.appendChild(u)}:function(){setTimeout(g,0)};else{var _=new n.MessageChannel;_.port1.onmessage=g,a=function(){_.port2.postMessage(0)}}var m=[];function g(){var u,b;e=!0;for(var y=m.length;y;){for(b=m,m=[],u=-1;++u<y;)b[u]();y=m.length}e=!1}l.exports=function(u){m.push(u)!==1||e||a()}}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,l,o){var n=t("immediate");function a(){}var e={},s=["REJECTED"],d=["FULFILLED"],f=["PENDING"];function p(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,y!==a&&u(this,y)}function _(y,S,O){this.promise=y,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function m(y,S,O){n(function(){var A;try{A=S(O)}catch(P){return e.reject(y,P)}A===y?e.reject(y,new TypeError("Cannot resolve promise with itself")):e.resolve(y,A)})}function g(y){var S=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof S=="function")return function(){S.apply(y,arguments)}}function u(y,S){var O=!1;function A(I){O||(O=!0,e.reject(y,I))}function P(I){O||(O=!0,e.resolve(y,I))}var B=b(function(){S(P,A)});B.status==="error"&&A(B.value)}function b(y,S){var O={};try{O.value=y(S),O.status="success"}catch(A){O.status="error",O.value=A}return O}(l.exports=p).prototype.finally=function(y){if(typeof y!="function")return this;var S=this.constructor;return this.then(function(O){return S.resolve(y()).then(function(){return O})},function(O){return S.resolve(y()).then(function(){throw O})})},p.prototype.catch=function(y){return this.then(null,y)},p.prototype.then=function(y,S){if(typeof y!="function"&&this.state===d||typeof S!="function"&&this.state===s)return this;var O=new this.constructor(a);return this.state!==f?m(O,this.state===d?y:S,this.outcome):this.queue.push(new _(O,y,S)),O},_.prototype.callFulfilled=function(y){e.resolve(this.promise,y)},_.prototype.otherCallFulfilled=function(y){m(this.promise,this.onFulfilled,y)},_.prototype.callRejected=function(y){e.reject(this.promise,y)},_.prototype.otherCallRejected=function(y){m(this.promise,this.onRejected,y)},e.resolve=function(y,S){var O=b(g,S);if(O.status==="error")return e.reject(y,O.value);var A=O.value;if(A)u(y,A);else{y.state=d,y.outcome=S;for(var P=-1,B=y.queue.length;++P<B;)y.queue[P].callFulfilled(S)}return y},e.reject=function(y,S){y.state=s,y.outcome=S;for(var O=-1,A=y.queue.length;++O<A;)y.queue[O].callRejected(S);return y},p.resolve=function(y){return y instanceof this?y:e.resolve(new this(a),y)},p.reject=function(y){var S=new this(a);return e.reject(S,y)},p.all=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=y.length,A=!1;if(!O)return this.resolve([]);for(var P=new Array(O),B=0,I=-1,H=new this(a);++I<O;)R(y[I],I);return H;function R(M,$){S.resolve(M).then(function(L){P[$]=L,++B!==O||A||(A=!0,e.resolve(H,P))},function(L){A||(A=!0,e.reject(H,L))})}},p.race=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=y.length,A=!1;if(!O)return this.resolve([]);for(var P=-1,B=new this(a);++P<O;)I=y[P],S.resolve(I).then(function(H){A||(A=!0,e.resolve(B,H))},function(H){A||(A=!0,e.reject(B,H))});var I;return B}},{immediate:36}],38:[function(t,l,o){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),l.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,l,o){var n=t("./zlib/deflate"),a=t("./utils/common"),e=t("./utils/strings"),s=t("./zlib/messages"),d=t("./zlib/zstream"),f=Object.prototype.toString,p=0,_=-1,m=0,g=8;function u(y){if(!(this instanceof u))return new u(y);this.options=a.assign({level:_,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},y||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var O=n.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(O!==p)throw new Error(s[O]);if(S.header&&n.deflateSetHeader(this.strm,S.header),S.dictionary){var A;if(A=typeof S.dictionary=="string"?e.string2buf(S.dictionary):f.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(O=n.deflateSetDictionary(this.strm,A))!==p)throw new Error(s[O]);this._dict_set=!0}}function b(y,S){var O=new u(S);if(O.push(y,!0),O.err)throw O.msg||s[O.err];return O.result}u.prototype.push=function(y,S){var O,A,P=this.strm,B=this.options.chunkSize;if(this.ended)return!1;A=S===~~S?S:S===!0?4:0,typeof y=="string"?P.input=e.string2buf(y):f.call(y)==="[object ArrayBuffer]"?P.input=new Uint8Array(y):P.input=y,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new a.Buf8(B),P.next_out=0,P.avail_out=B),(O=n.deflate(P,A))!==1&&O!==p)return this.onEnd(O),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(e.buf2binstring(a.shrinkBuf(P.output,P.next_out))):this.onData(a.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&O!==1);return A===4?(O=n.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===p):A!==2||(this.onEnd(p),!(P.avail_out=0))},u.prototype.onData=function(y){this.chunks.push(y)},u.prototype.onEnd=function(y){y===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},o.Deflate=u,o.deflate=b,o.deflateRaw=function(y,S){return(S=S||{}).raw=!0,b(y,S)},o.gzip=function(y,S){return(S=S||{}).gzip=!0,b(y,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,l,o){var n=t("./zlib/inflate"),a=t("./utils/common"),e=t("./utils/strings"),s=t("./zlib/constants"),d=t("./zlib/messages"),f=t("./zlib/zstream"),p=t("./zlib/gzheader"),_=Object.prototype.toString;function m(u){if(!(this instanceof m))return new m(u);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},u||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||u&&u.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var y=n.inflateInit2(this.strm,b.windowBits);if(y!==s.Z_OK)throw new Error(d[y]);this.header=new p,n.inflateGetHeader(this.strm,this.header)}function g(u,b){var y=new m(b);if(y.push(u,!0),y.err)throw y.msg||d[y.err];return y.result}m.prototype.push=function(u,b){var y,S,O,A,P,B,I=this.strm,H=this.options.chunkSize,R=this.options.dictionary,M=!1;if(this.ended)return!1;S=b===~~b?b:b===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof u=="string"?I.input=e.binstring2buf(u):_.call(u)==="[object ArrayBuffer]"?I.input=new Uint8Array(u):I.input=u,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(H),I.next_out=0,I.avail_out=H),(y=n.inflate(I,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&R&&(B=typeof R=="string"?e.string2buf(R):_.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,y=n.inflateSetDictionary(this.strm,B)),y===s.Z_BUF_ERROR&&M===!0&&(y=s.Z_OK,M=!1),y!==s.Z_STREAM_END&&y!==s.Z_OK)return this.onEnd(y),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&y!==s.Z_STREAM_END&&(I.avail_in!==0||S!==s.Z_FINISH&&S!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=e.utf8border(I.output,I.next_out),A=I.next_out-O,P=e.buf2string(I.output,O),I.next_out=A,I.avail_out=H-A,A&&a.arraySet(I.output,I.output,O,A,0),this.onData(P)):this.onData(a.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(M=!0)}while((0<I.avail_in||I.avail_out===0)&&y!==s.Z_STREAM_END);return y===s.Z_STREAM_END&&(S=s.Z_FINISH),S===s.Z_FINISH?(y=n.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===s.Z_OK):S!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(I.avail_out=0))},m.prototype.onData=function(u){this.chunks.push(u)},m.prototype.onEnd=function(u){u===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},o.Inflate=m,o.inflate=g,o.inflateRaw=function(u,b){return(b=b||{}).raw=!0,g(u,b)},o.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,l,o){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(s){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var f=d.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(s[p]=f[p])}}return s},o.shrinkBuf=function(s,d){return s.length===d?s:s.subarray?s.subarray(0,d):(s.length=d,s)};var a={arraySet:function(s,d,f,p,_){if(d.subarray&&s.subarray)s.set(d.subarray(f,f+p),_);else for(var m=0;m<p;m++)s[_+m]=d[f+m]},flattenChunks:function(s){var d,f,p,_,m,g;for(d=p=0,f=s.length;d<f;d++)p+=s[d].length;for(g=new Uint8Array(p),d=_=0,f=s.length;d<f;d++)m=s[d],g.set(m,_),_+=m.length;return g}},e={arraySet:function(s,d,f,p,_){for(var m=0;m<p;m++)s[_+m]=d[f+m]},flattenChunks:function(s){return[].concat.apply([],s)}};o.setTyped=function(s){s?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,a)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,e))},o.setTyped(n)},{}],42:[function(t,l,o){var n=t("./common"),a=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch(p){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(p){e=!1}for(var s=new n.Buf8(256),d=0;d<256;d++)s[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function f(p,_){if(_<65537&&(p.subarray&&e||!p.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(p,_));for(var m="",g=0;g<_;g++)m+=String.fromCharCode(p[g]);return m}s[254]=s[254]=1,o.string2buf=function(p){var _,m,g,u,b,y=p.length,S=0;for(u=0;u<y;u++)(64512&(m=p.charCodeAt(u)))==55296&&u+1<y&&(64512&(g=p.charCodeAt(u+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),u++),S+=m<128?1:m<2048?2:m<65536?3:4;for(_=new n.Buf8(S),u=b=0;b<S;u++)(64512&(m=p.charCodeAt(u)))==55296&&u+1<y&&(64512&(g=p.charCodeAt(u+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),u++),m<128?_[b++]=m:(m<2048?_[b++]=192|m>>>6:(m<65536?_[b++]=224|m>>>12:(_[b++]=240|m>>>18,_[b++]=128|m>>>12&63),_[b++]=128|m>>>6&63),_[b++]=128|63&m);return _},o.buf2binstring=function(p){return f(p,p.length)},o.binstring2buf=function(p){for(var _=new n.Buf8(p.length),m=0,g=_.length;m<g;m++)_[m]=p.charCodeAt(m);return _},o.buf2string=function(p,_){var m,g,u,b,y=_||p.length,S=new Array(2*y);for(m=g=0;m<y;)if((u=p[m++])<128)S[g++]=u;else if(4<(b=s[u]))S[g++]=65533,m+=b-1;else{for(u&=b===2?31:b===3?15:7;1<b&&m<y;)u=u<<6|63&p[m++],b--;1<b?S[g++]=65533:u<65536?S[g++]=u:(u-=65536,S[g++]=55296|u>>10&1023,S[g++]=56320|1023&u)}return f(S,g)},o.utf8border=function(p,_){var m;for((_=_||p.length)>p.length&&(_=p.length),m=_-1;0<=m&&(192&p[m])==128;)m--;return m<0||m===0?_:m+s[p[m]]>_?m:_}},{"./common":41}],43:[function(t,l,o){l.exports=function(n,a,e,s){for(var d=65535&n|0,f=n>>>16&65535|0,p=0;e!==0;){for(e-=p=2e3<e?2e3:e;f=f+(d=d+a[s++]|0)|0,--p;);d%=65521,f%=65521}return d|f<<16|0}},{}],44:[function(t,l,o){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,l,o){var n=function(){for(var a,e=[],s=0;s<256;s++){a=s;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;e[s]=a}return e}();l.exports=function(a,e,s,d){var f=n,p=d+s;a^=-1;for(var _=d;_<p;_++)a=a>>>8^f[255&(a^e[_])];return-1^a}},{}],46:[function(t,l,o){var n,a=t("../utils/common"),e=t("./trees"),s=t("./adler32"),d=t("./crc32"),f=t("./messages"),p=0,_=4,m=0,g=-2,u=-1,b=4,y=2,S=8,O=9,A=286,P=30,B=19,I=2*A+1,H=15,R=3,M=258,$=M+R+1,L=42,j=113,c=1,F=2,ae=3,W=4;function ie(i,V){return i.msg=f[V],V}function Z(i){return(i<<1)-(4<i?9:0)}function se(i){for(var V=i.length;0<=--V;)i[V]=0}function x(i){var V=i.state,C=V.pending;C>i.avail_out&&(C=i.avail_out),C!==0&&(a.arraySet(i.output,V.pending_buf,V.pending_out,C,i.next_out),i.next_out+=C,V.pending_out+=C,i.total_out+=C,i.avail_out-=C,V.pending-=C,V.pending===0&&(V.pending_out=0))}function D(i,V){e._tr_flush_block(i,0<=i.block_start?i.block_start:-1,i.strstart-i.block_start,V),i.block_start=i.strstart,x(i.strm)}function re(i,V){i.pending_buf[i.pending++]=V}function K(i,V){i.pending_buf[i.pending++]=V>>>8&255,i.pending_buf[i.pending++]=255&V}function Y(i,V){var C,w,E=i.max_chain_length,k=i.strstart,N=i.prev_length,U=i.nice_match,T=i.strstart>i.w_size-$?i.strstart-(i.w_size-$):0,G=i.window,X=i.w_mask,J=i.prev,te=i.strstart+M,me=G[k+N-1],de=G[k+N];i.prev_length>=i.good_match&&(E>>=2),U>i.lookahead&&(U=i.lookahead);do if(G[(C=V)+N]===de&&G[C+N-1]===me&&G[C]===G[k]&&G[++C]===G[k+1]){k+=2,C++;do;while(G[++k]===G[++C]&&G[++k]===G[++C]&&G[++k]===G[++C]&&G[++k]===G[++C]&&G[++k]===G[++C]&&G[++k]===G[++C]&&G[++k]===G[++C]&&G[++k]===G[++C]&&k<te);if(w=M-(te-k),k=te-M,N<w){if(i.match_start=V,U<=(N=w))break;me=G[k+N-1],de=G[k+N]}}while((V=J[V&X])>T&&--E!=0);return N<=i.lookahead?N:i.lookahead}function _e(i){var V,C,w,E,k,N,U,T,G,X,J=i.w_size;do{if(E=i.window_size-i.lookahead-i.strstart,i.strstart>=J+(J-$)){for(a.arraySet(i.window,i.window,J,J,0),i.match_start-=J,i.strstart-=J,i.block_start-=J,V=C=i.hash_size;w=i.head[--V],i.head[V]=J<=w?w-J:0,--C;);for(V=C=J;w=i.prev[--V],i.prev[V]=J<=w?w-J:0,--C;);E+=J}if(i.strm.avail_in===0)break;if(N=i.strm,U=i.window,T=i.strstart+i.lookahead,G=E,X=void 0,X=N.avail_in,G<X&&(X=G),C=X===0?0:(N.avail_in-=X,a.arraySet(U,N.input,N.next_in,X,T),N.state.wrap===1?N.adler=s(N.adler,U,X,T):N.state.wrap===2&&(N.adler=d(N.adler,U,X,T)),N.next_in+=X,N.total_in+=X,X),i.lookahead+=C,i.lookahead+i.insert>=R)for(k=i.strstart-i.insert,i.ins_h=i.window[k],i.ins_h=(i.ins_h<<i.hash_shift^i.window[k+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[k+R-1])&i.hash_mask,i.prev[k&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=k,k++,i.insert--,!(i.lookahead+i.insert<R)););}while(i.lookahead<$&&i.strm.avail_in!==0)}function Ee(i,V){for(var C,w;;){if(i.lookahead<$){if(_e(i),i.lookahead<$&&V===p)return c;if(i.lookahead===0)break}if(C=0,i.lookahead>=R&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+R-1])&i.hash_mask,C=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),C!==0&&i.strstart-C<=i.w_size-$&&(i.match_length=Y(i,C)),i.match_length>=R)if(w=e._tr_tally(i,i.strstart-i.match_start,i.match_length-R),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=R){for(i.match_length--;i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+R-1])&i.hash_mask,C=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart,--i.match_length!=0;);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else w=e._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(w&&(D(i,!1),i.strm.avail_out===0))return c}return i.insert=i.strstart<R-1?i.strstart:R-1,V===_?(D(i,!0),i.strm.avail_out===0?ae:W):i.last_lit&&(D(i,!1),i.strm.avail_out===0)?c:F}function le(i,V){for(var C,w,E;;){if(i.lookahead<$){if(_e(i),i.lookahead<$&&V===p)return c;if(i.lookahead===0)break}if(C=0,i.lookahead>=R&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+R-1])&i.hash_mask,C=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=R-1,C!==0&&i.prev_length<i.max_lazy_match&&i.strstart-C<=i.w_size-$&&(i.match_length=Y(i,C),i.match_length<=5&&(i.strategy===1||i.match_length===R&&4096<i.strstart-i.match_start)&&(i.match_length=R-1)),i.prev_length>=R&&i.match_length<=i.prev_length){for(E=i.strstart+i.lookahead-R,w=e._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-R),i.lookahead-=i.prev_length-1,i.prev_length-=2;++i.strstart<=E&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+R-1])&i.hash_mask,C=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),--i.prev_length!=0;);if(i.match_available=0,i.match_length=R-1,i.strstart++,w&&(D(i,!1),i.strm.avail_out===0))return c}else if(i.match_available){if((w=e._tr_tally(i,0,i.window[i.strstart-1]))&&D(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return c}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(w=e._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<R-1?i.strstart:R-1,V===_?(D(i,!0),i.strm.avail_out===0?ae:W):i.last_lit&&(D(i,!1),i.strm.avail_out===0)?c:F}function ce(i,V,C,w,E){this.good_length=i,this.max_lazy=V,this.nice_length=C,this.max_chain=w,this.func=E}function ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*I),this.dyn_dtree=new a.Buf16(2*(2*P+1)),this.bl_tree=new a.Buf16(2*(2*B+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(H+1),this.heap=new a.Buf16(2*A+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(i){var V;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=y,(V=i.state).pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?L:j,i.adler=V.wrap===2?0:1,V.last_flush=p,e._tr_init(V),m):ie(i,g)}function ke(i){var V=fe(i);return V===m&&function(C){C.window_size=2*C.w_size,se(C.head),C.max_lazy_match=n[C.level].max_lazy,C.good_match=n[C.level].good_length,C.nice_match=n[C.level].nice_length,C.max_chain_length=n[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=R-1,C.match_available=0,C.ins_h=0}(i.state),V}function Oe(i,V,C,w,E,k){if(!i)return g;var N=1;if(V===u&&(V=6),w<0?(N=0,w=-w):15<w&&(N=2,w-=16),E<1||O<E||C!==S||w<8||15<w||V<0||9<V||k<0||b<k)return ie(i,g);w===8&&(w=9);var U=new ve;return(i.state=U).strm=i,U.wrap=N,U.gzhead=null,U.w_bits=w,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=E+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+R-1)/R),U.window=new a.Buf8(2*U.w_size),U.head=new a.Buf16(U.hash_size),U.prev=new a.Buf16(U.w_size),U.lit_bufsize=1<<E+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new a.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=V,U.strategy=k,U.method=C,ke(i)}n=[new ce(0,0,0,0,function(i,V){var C=65535;for(C>i.pending_buf_size-5&&(C=i.pending_buf_size-5);;){if(i.lookahead<=1){if(_e(i),i.lookahead===0&&V===p)return c;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var w=i.block_start+C;if((i.strstart===0||i.strstart>=w)&&(i.lookahead=i.strstart-w,i.strstart=w,D(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-$&&(D(i,!1),i.strm.avail_out===0))return c}return i.insert=0,V===_?(D(i,!0),i.strm.avail_out===0?ae:W):(i.strstart>i.block_start&&(D(i,!1),i.strm.avail_out),c)}),new ce(4,4,8,4,Ee),new ce(4,5,16,8,Ee),new ce(4,6,32,32,Ee),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],o.deflateInit=function(i,V){return Oe(i,V,S,15,8,0)},o.deflateInit2=Oe,o.deflateReset=ke,o.deflateResetKeep=fe,o.deflateSetHeader=function(i,V){return i&&i.state?i.state.wrap!==2?g:(i.state.gzhead=V,m):g},o.deflate=function(i,V){var C,w,E,k;if(!i||!i.state||5<V||V<0)return i?ie(i,g):g;if(w=i.state,!i.output||!i.input&&i.avail_in!==0||w.status===666&&V!==_)return ie(i,i.avail_out===0?-5:g);if(w.strm=i,C=w.last_flush,w.last_flush=V,w.status===L)if(w.wrap===2)i.adler=0,re(w,31),re(w,139),re(w,8),w.gzhead?(re(w,(w.gzhead.text?1:0)+(w.gzhead.hcrc?2:0)+(w.gzhead.extra?4:0)+(w.gzhead.name?8:0)+(w.gzhead.comment?16:0)),re(w,255&w.gzhead.time),re(w,w.gzhead.time>>8&255),re(w,w.gzhead.time>>16&255),re(w,w.gzhead.time>>24&255),re(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),re(w,255&w.gzhead.os),w.gzhead.extra&&w.gzhead.extra.length&&(re(w,255&w.gzhead.extra.length),re(w,w.gzhead.extra.length>>8&255)),w.gzhead.hcrc&&(i.adler=d(i.adler,w.pending_buf,w.pending,0)),w.gzindex=0,w.status=69):(re(w,0),re(w,0),re(w,0),re(w,0),re(w,0),re(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),re(w,3),w.status=j);else{var N=S+(w.w_bits-8<<4)<<8;N|=(2<=w.strategy||w.level<2?0:w.level<6?1:w.level===6?2:3)<<6,w.strstart!==0&&(N|=32),N+=31-N%31,w.status=j,K(w,N),w.strstart!==0&&(K(w,i.adler>>>16),K(w,65535&i.adler)),i.adler=1}if(w.status===69)if(w.gzhead.extra){for(E=w.pending;w.gzindex<(65535&w.gzhead.extra.length)&&(w.pending!==w.pending_buf_size||(w.gzhead.hcrc&&w.pending>E&&(i.adler=d(i.adler,w.pending_buf,w.pending-E,E)),x(i),E=w.pending,w.pending!==w.pending_buf_size));)re(w,255&w.gzhead.extra[w.gzindex]),w.gzindex++;w.gzhead.hcrc&&w.pending>E&&(i.adler=d(i.adler,w.pending_buf,w.pending-E,E)),w.gzindex===w.gzhead.extra.length&&(w.gzindex=0,w.status=73)}else w.status=73;if(w.status===73)if(w.gzhead.name){E=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>E&&(i.adler=d(i.adler,w.pending_buf,w.pending-E,E)),x(i),E=w.pending,w.pending===w.pending_buf_size)){k=1;break}k=w.gzindex<w.gzhead.name.length?255&w.gzhead.name.charCodeAt(w.gzindex++):0,re(w,k)}while(k!==0);w.gzhead.hcrc&&w.pending>E&&(i.adler=d(i.adler,w.pending_buf,w.pending-E,E)),k===0&&(w.gzindex=0,w.status=91)}else w.status=91;if(w.status===91)if(w.gzhead.comment){E=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>E&&(i.adler=d(i.adler,w.pending_buf,w.pending-E,E)),x(i),E=w.pending,w.pending===w.pending_buf_size)){k=1;break}k=w.gzindex<w.gzhead.comment.length?255&w.gzhead.comment.charCodeAt(w.gzindex++):0,re(w,k)}while(k!==0);w.gzhead.hcrc&&w.pending>E&&(i.adler=d(i.adler,w.pending_buf,w.pending-E,E)),k===0&&(w.status=103)}else w.status=103;if(w.status===103&&(w.gzhead.hcrc?(w.pending+2>w.pending_buf_size&&x(i),w.pending+2<=w.pending_buf_size&&(re(w,255&i.adler),re(w,i.adler>>8&255),i.adler=0,w.status=j)):w.status=j),w.pending!==0){if(x(i),i.avail_out===0)return w.last_flush=-1,m}else if(i.avail_in===0&&Z(V)<=Z(C)&&V!==_)return ie(i,-5);if(w.status===666&&i.avail_in!==0)return ie(i,-5);if(i.avail_in!==0||w.lookahead!==0||V!==p&&w.status!==666){var U=w.strategy===2?function(T,G){for(var X;;){if(T.lookahead===0&&(_e(T),T.lookahead===0)){if(G===p)return c;break}if(T.match_length=0,X=e._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,X&&(D(T,!1),T.strm.avail_out===0))return c}return T.insert=0,G===_?(D(T,!0),T.strm.avail_out===0?ae:W):T.last_lit&&(D(T,!1),T.strm.avail_out===0)?c:F}(w,V):w.strategy===3?function(T,G){for(var X,J,te,me,de=T.window;;){if(T.lookahead<=M){if(_e(T),T.lookahead<=M&&G===p)return c;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=R&&0<T.strstart&&(J=de[te=T.strstart-1])===de[++te]&&J===de[++te]&&J===de[++te]){me=T.strstart+M;do;while(J===de[++te]&&J===de[++te]&&J===de[++te]&&J===de[++te]&&J===de[++te]&&J===de[++te]&&J===de[++te]&&J===de[++te]&&te<me);T.match_length=M-(me-te),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=R?(X=e._tr_tally(T,1,T.match_length-R),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(X=e._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),X&&(D(T,!1),T.strm.avail_out===0))return c}return T.insert=0,G===_?(D(T,!0),T.strm.avail_out===0?ae:W):T.last_lit&&(D(T,!1),T.strm.avail_out===0)?c:F}(w,V):n[w.level].func(w,V);if(U!==ae&&U!==W||(w.status=666),U===c||U===ae)return i.avail_out===0&&(w.last_flush=-1),m;if(U===F&&(V===1?e._tr_align(w):V!==5&&(e._tr_stored_block(w,0,0,!1),V===3&&(se(w.head),w.lookahead===0&&(w.strstart=0,w.block_start=0,w.insert=0))),x(i),i.avail_out===0))return w.last_flush=-1,m}return V!==_?m:w.wrap<=0?1:(w.wrap===2?(re(w,255&i.adler),re(w,i.adler>>8&255),re(w,i.adler>>16&255),re(w,i.adler>>24&255),re(w,255&i.total_in),re(w,i.total_in>>8&255),re(w,i.total_in>>16&255),re(w,i.total_in>>24&255)):(K(w,i.adler>>>16),K(w,65535&i.adler)),x(i),0<w.wrap&&(w.wrap=-w.wrap),w.pending!==0?m:1)},o.deflateEnd=function(i){var V;return i&&i.state?(V=i.state.status)!==L&&V!==69&&V!==73&&V!==91&&V!==103&&V!==j&&V!==666?ie(i,g):(i.state=null,V===j?ie(i,-3):m):g},o.deflateSetDictionary=function(i,V){var C,w,E,k,N,U,T,G,X=V.length;if(!i||!i.state||(k=(C=i.state).wrap)===2||k===1&&C.status!==L||C.lookahead)return g;for(k===1&&(i.adler=s(i.adler,V,X,0)),C.wrap=0,X>=C.w_size&&(k===0&&(se(C.head),C.strstart=0,C.block_start=0,C.insert=0),G=new a.Buf8(C.w_size),a.arraySet(G,V,X-C.w_size,C.w_size,0),V=G,X=C.w_size),N=i.avail_in,U=i.next_in,T=i.input,i.avail_in=X,i.next_in=0,i.input=V,_e(C);C.lookahead>=R;){for(w=C.strstart,E=C.lookahead-(R-1);C.ins_h=(C.ins_h<<C.hash_shift^C.window[w+R-1])&C.hash_mask,C.prev[w&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=w,w++,--E;);C.strstart=w,C.lookahead=R-1,_e(C)}return C.strstart+=C.lookahead,C.block_start=C.strstart,C.insert=C.lookahead,C.lookahead=0,C.match_length=C.prev_length=R-1,C.match_available=0,i.next_in=U,i.input=T,i.avail_in=N,C.wrap=k,m},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,l,o){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,l,o){l.exports=function(n,a){var e,s,d,f,p,_,m,g,u,b,y,S,O,A,P,B,I,H,R,M,$,L,j,c,F;e=n.state,s=n.next_in,c=n.input,d=s+(n.avail_in-5),f=n.next_out,F=n.output,p=f-(a-n.avail_out),_=f+(n.avail_out-257),m=e.dmax,g=e.wsize,u=e.whave,b=e.wnext,y=e.window,S=e.hold,O=e.bits,A=e.lencode,P=e.distcode,B=(1<<e.lenbits)-1,I=(1<<e.distbits)-1;e:do{O<15&&(S+=c[s++]<<O,O+=8,S+=c[s++]<<O,O+=8),H=A[S&B];t:for(;;){if(S>>>=R=H>>>24,O-=R,(R=H>>>16&255)===0)F[f++]=65535&H;else{if(!(16&R)){if((64&R)==0){H=A[(65535&H)+(S&(1<<R)-1)];continue t}if(32&R){e.mode=12;break e}n.msg="invalid literal/length code",e.mode=30;break e}M=65535&H,(R&=15)&&(O<R&&(S+=c[s++]<<O,O+=8),M+=S&(1<<R)-1,S>>>=R,O-=R),O<15&&(S+=c[s++]<<O,O+=8,S+=c[s++]<<O,O+=8),H=P[S&I];n:for(;;){if(S>>>=R=H>>>24,O-=R,!(16&(R=H>>>16&255))){if((64&R)==0){H=P[(65535&H)+(S&(1<<R)-1)];continue n}n.msg="invalid distance code",e.mode=30;break e}if($=65535&H,O<(R&=15)&&(S+=c[s++]<<O,(O+=8)<R&&(S+=c[s++]<<O,O+=8)),m<($+=S&(1<<R)-1)){n.msg="invalid distance too far back",e.mode=30;break e}if(S>>>=R,O-=R,(R=f-p)<$){if(u<(R=$-R)&&e.sane){n.msg="invalid distance too far back",e.mode=30;break e}if(j=y,(L=0)===b){if(L+=g-R,R<M){for(M-=R;F[f++]=y[L++],--R;);L=f-$,j=F}}else if(b<R){if(L+=g+b-R,(R-=b)<M){for(M-=R;F[f++]=y[L++],--R;);if(L=0,b<M){for(M-=R=b;F[f++]=y[L++],--R;);L=f-$,j=F}}}else if(L+=b-R,R<M){for(M-=R;F[f++]=y[L++],--R;);L=f-$,j=F}for(;2<M;)F[f++]=j[L++],F[f++]=j[L++],F[f++]=j[L++],M-=3;M&&(F[f++]=j[L++],1<M&&(F[f++]=j[L++]))}else{for(L=f-$;F[f++]=F[L++],F[f++]=F[L++],F[f++]=F[L++],2<(M-=3););M&&(F[f++]=F[L++],1<M&&(F[f++]=F[L++]))}break}}break}}while(s<d&&f<_);s-=M=O>>3,S&=(1<<(O-=M<<3))-1,n.next_in=s,n.next_out=f,n.avail_in=s<d?d-s+5:5-(s-d),n.avail_out=f<_?_-f+257:257-(f-_),e.hold=S,e.bits=O}},{}],49:[function(t,l,o){var n=t("../utils/common"),a=t("./adler32"),e=t("./crc32"),s=t("./inffast"),d=t("./inftrees"),f=1,p=2,_=0,m=-2,g=1,u=852,b=592;function y(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(L){var j;return L&&L.state?(j=L.state,L.total_in=L.total_out=j.total=0,L.msg="",j.wrap&&(L.adler=1&j.wrap),j.mode=g,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new n.Buf32(u),j.distcode=j.distdyn=new n.Buf32(b),j.sane=1,j.back=-1,_):m}function A(L){var j;return L&&L.state?((j=L.state).wsize=0,j.whave=0,j.wnext=0,O(L)):m}function P(L,j){var c,F;return L&&L.state?(F=L.state,j<0?(c=0,j=-j):(c=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?m:(F.window!==null&&F.wbits!==j&&(F.window=null),F.wrap=c,F.wbits=j,A(L))):m}function B(L,j){var c,F;return L?(F=new S,(L.state=F).window=null,(c=P(L,j))!==_&&(L.state=null),c):m}var I,H,R=!0;function M(L){if(R){var j;for(I=new n.Buf32(512),H=new n.Buf32(32),j=0;j<144;)L.lens[j++]=8;for(;j<256;)L.lens[j++]=9;for(;j<280;)L.lens[j++]=7;for(;j<288;)L.lens[j++]=8;for(d(f,L.lens,0,288,I,0,L.work,{bits:9}),j=0;j<32;)L.lens[j++]=5;d(p,L.lens,0,32,H,0,L.work,{bits:5}),R=!1}L.lencode=I,L.lenbits=9,L.distcode=H,L.distbits=5}function $(L,j,c,F){var ae,W=L.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new n.Buf8(W.wsize)),F>=W.wsize?(n.arraySet(W.window,j,c-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(F<(ae=W.wsize-W.wnext)&&(ae=F),n.arraySet(W.window,j,c-F,ae,W.wnext),(F-=ae)?(n.arraySet(W.window,j,c-F,F,0),W.wnext=F,W.whave=W.wsize):(W.wnext+=ae,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=ae))),0}o.inflateReset=A,o.inflateReset2=P,o.inflateResetKeep=O,o.inflateInit=function(L){return B(L,15)},o.inflateInit2=B,o.inflate=function(L,j){var c,F,ae,W,ie,Z,se,x,D,re,K,Y,_e,Ee,le,ce,ve,fe,ke,Oe,i,V,C,w,E=0,k=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return m;(c=L.state).mode===12&&(c.mode=13),ie=L.next_out,ae=L.output,se=L.avail_out,W=L.next_in,F=L.input,Z=L.avail_in,x=c.hold,D=c.bits,re=Z,K=se,V=_;e:for(;;)switch(c.mode){case g:if(c.wrap===0){c.mode=13;break}for(;D<16;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(2&c.wrap&&x===35615){k[c.check=0]=255&x,k[1]=x>>>8&255,c.check=e(c.check,k,2,0),D=x=0,c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&x)<<8)+(x>>8))%31){L.msg="incorrect header check",c.mode=30;break}if((15&x)!=8){L.msg="unknown compression method",c.mode=30;break}if(D-=4,i=8+(15&(x>>>=4)),c.wbits===0)c.wbits=i;else if(i>c.wbits){L.msg="invalid window size",c.mode=30;break}c.dmax=1<<i,L.adler=c.check=1,c.mode=512&x?10:12,D=x=0;break;case 2:for(;D<16;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(c.flags=x,(255&c.flags)!=8){L.msg="unknown compression method",c.mode=30;break}if(57344&c.flags){L.msg="unknown header flags set",c.mode=30;break}c.head&&(c.head.text=x>>8&1),512&c.flags&&(k[0]=255&x,k[1]=x>>>8&255,c.check=e(c.check,k,2,0)),D=x=0,c.mode=3;case 3:for(;D<32;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}c.head&&(c.head.time=x),512&c.flags&&(k[0]=255&x,k[1]=x>>>8&255,k[2]=x>>>16&255,k[3]=x>>>24&255,c.check=e(c.check,k,4,0)),D=x=0,c.mode=4;case 4:for(;D<16;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}c.head&&(c.head.xflags=255&x,c.head.os=x>>8),512&c.flags&&(k[0]=255&x,k[1]=x>>>8&255,c.check=e(c.check,k,2,0)),D=x=0,c.mode=5;case 5:if(1024&c.flags){for(;D<16;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}c.length=x,c.head&&(c.head.extra_len=x),512&c.flags&&(k[0]=255&x,k[1]=x>>>8&255,c.check=e(c.check,k,2,0)),D=x=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(Z<(Y=c.length)&&(Y=Z),Y&&(c.head&&(i=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),n.arraySet(c.head.extra,F,W,Y,i)),512&c.flags&&(c.check=e(c.check,F,Y,W)),Z-=Y,W+=Y,c.length-=Y),c.length))break e;c.length=0,c.mode=7;case 7:if(2048&c.flags){if(Z===0)break e;for(Y=0;i=F[W+Y++],c.head&&i&&c.length<65536&&(c.head.name+=String.fromCharCode(i)),i&&Y<Z;);if(512&c.flags&&(c.check=e(c.check,F,Y,W)),Z-=Y,W+=Y,i)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=8;case 8:if(4096&c.flags){if(Z===0)break e;for(Y=0;i=F[W+Y++],c.head&&i&&c.length<65536&&(c.head.comment+=String.fromCharCode(i)),i&&Y<Z;);if(512&c.flags&&(c.check=e(c.check,F,Y,W)),Z-=Y,W+=Y,i)break e}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;D<16;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(x!==(65535&c.check)){L.msg="header crc mismatch",c.mode=30;break}D=x=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),L.adler=c.check=0,c.mode=12;break;case 10:for(;D<32;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}L.adler=c.check=y(x),D=x=0,c.mode=11;case 11:if(c.havedict===0)return L.next_out=ie,L.avail_out=se,L.next_in=W,L.avail_in=Z,c.hold=x,c.bits=D,2;L.adler=c.check=1,c.mode=12;case 12:if(j===5||j===6)break e;case 13:if(c.last){x>>>=7&D,D-=7&D,c.mode=27;break}for(;D<3;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}switch(c.last=1&x,D-=1,3&(x>>>=1)){case 0:c.mode=14;break;case 1:if(M(c),c.mode=20,j!==6)break;x>>>=2,D-=2;break e;case 2:c.mode=17;break;case 3:L.msg="invalid block type",c.mode=30}x>>>=2,D-=2;break;case 14:for(x>>>=7&D,D-=7&D;D<32;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if((65535&x)!=(x>>>16^65535)){L.msg="invalid stored block lengths",c.mode=30;break}if(c.length=65535&x,D=x=0,c.mode=15,j===6)break e;case 15:c.mode=16;case 16:if(Y=c.length){if(Z<Y&&(Y=Z),se<Y&&(Y=se),Y===0)break e;n.arraySet(ae,F,W,Y,ie),Z-=Y,W+=Y,se-=Y,ie+=Y,c.length-=Y;break}c.mode=12;break;case 17:for(;D<14;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(c.nlen=257+(31&x),x>>>=5,D-=5,c.ndist=1+(31&x),x>>>=5,D-=5,c.ncode=4+(15&x),x>>>=4,D-=4,286<c.nlen||30<c.ndist){L.msg="too many length or distance symbols",c.mode=30;break}c.have=0,c.mode=18;case 18:for(;c.have<c.ncode;){for(;D<3;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}c.lens[N[c.have++]]=7&x,x>>>=3,D-=3}for(;c.have<19;)c.lens[N[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,C={bits:c.lenbits},V=d(0,c.lens,0,19,c.lencode,0,c.work,C),c.lenbits=C.bits,V){L.msg="invalid code lengths set",c.mode=30;break}c.have=0,c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;ce=(E=c.lencode[x&(1<<c.lenbits)-1])>>>16&255,ve=65535&E,!((le=E>>>24)<=D);){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(ve<16)x>>>=le,D-=le,c.lens[c.have++]=ve;else{if(ve===16){for(w=le+2;D<w;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(x>>>=le,D-=le,c.have===0){L.msg="invalid bit length repeat",c.mode=30;break}i=c.lens[c.have-1],Y=3+(3&x),x>>>=2,D-=2}else if(ve===17){for(w=le+3;D<w;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}D-=le,i=0,Y=3+(7&(x>>>=le)),x>>>=3,D-=3}else{for(w=le+7;D<w;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}D-=le,i=0,Y=11+(127&(x>>>=le)),x>>>=7,D-=7}if(c.have+Y>c.nlen+c.ndist){L.msg="invalid bit length repeat",c.mode=30;break}for(;Y--;)c.lens[c.have++]=i}}if(c.mode===30)break;if(c.lens[256]===0){L.msg="invalid code -- missing end-of-block",c.mode=30;break}if(c.lenbits=9,C={bits:c.lenbits},V=d(f,c.lens,0,c.nlen,c.lencode,0,c.work,C),c.lenbits=C.bits,V){L.msg="invalid literal/lengths set",c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,C={bits:c.distbits},V=d(p,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,C),c.distbits=C.bits,V){L.msg="invalid distances set",c.mode=30;break}if(c.mode=20,j===6)break e;case 20:c.mode=21;case 21:if(6<=Z&&258<=se){L.next_out=ie,L.avail_out=se,L.next_in=W,L.avail_in=Z,c.hold=x,c.bits=D,s(L,K),ie=L.next_out,ae=L.output,se=L.avail_out,W=L.next_in,F=L.input,Z=L.avail_in,x=c.hold,D=c.bits,c.mode===12&&(c.back=-1);break}for(c.back=0;ce=(E=c.lencode[x&(1<<c.lenbits)-1])>>>16&255,ve=65535&E,!((le=E>>>24)<=D);){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(ce&&(240&ce)==0){for(fe=le,ke=ce,Oe=ve;ce=(E=c.lencode[Oe+((x&(1<<fe+ke)-1)>>fe)])>>>16&255,ve=65535&E,!(fe+(le=E>>>24)<=D);){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}x>>>=fe,D-=fe,c.back+=fe}if(x>>>=le,D-=le,c.back+=le,c.length=ve,ce===0){c.mode=26;break}if(32&ce){c.back=-1,c.mode=12;break}if(64&ce){L.msg="invalid literal/length code",c.mode=30;break}c.extra=15&ce,c.mode=22;case 22:if(c.extra){for(w=c.extra;D<w;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}c.length+=x&(1<<c.extra)-1,x>>>=c.extra,D-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=23;case 23:for(;ce=(E=c.distcode[x&(1<<c.distbits)-1])>>>16&255,ve=65535&E,!((le=E>>>24)<=D);){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if((240&ce)==0){for(fe=le,ke=ce,Oe=ve;ce=(E=c.distcode[Oe+((x&(1<<fe+ke)-1)>>fe)])>>>16&255,ve=65535&E,!(fe+(le=E>>>24)<=D);){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}x>>>=fe,D-=fe,c.back+=fe}if(x>>>=le,D-=le,c.back+=le,64&ce){L.msg="invalid distance code",c.mode=30;break}c.offset=ve,c.extra=15&ce,c.mode=24;case 24:if(c.extra){for(w=c.extra;D<w;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}c.offset+=x&(1<<c.extra)-1,x>>>=c.extra,D-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){L.msg="invalid distance too far back",c.mode=30;break}c.mode=25;case 25:if(se===0)break e;if(Y=K-se,c.offset>Y){if((Y=c.offset-Y)>c.whave&&c.sane){L.msg="invalid distance too far back",c.mode=30;break}_e=Y>c.wnext?(Y-=c.wnext,c.wsize-Y):c.wnext-Y,Y>c.length&&(Y=c.length),Ee=c.window}else Ee=ae,_e=ie-c.offset,Y=c.length;for(se<Y&&(Y=se),se-=Y,c.length-=Y;ae[ie++]=Ee[_e++],--Y;);c.length===0&&(c.mode=21);break;case 26:if(se===0)break e;ae[ie++]=c.length,se--,c.mode=21;break;case 27:if(c.wrap){for(;D<32;){if(Z===0)break e;Z--,x|=F[W++]<<D,D+=8}if(K-=se,L.total_out+=K,c.total+=K,K&&(L.adler=c.check=c.flags?e(c.check,ae,K,ie-K):a(c.check,ae,K,ie-K)),K=se,(c.flags?x:y(x))!==c.check){L.msg="incorrect data check",c.mode=30;break}D=x=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;D<32;){if(Z===0)break e;Z--,x+=F[W++]<<D,D+=8}if(x!==(4294967295&c.total)){L.msg="incorrect length check",c.mode=30;break}D=x=0}c.mode=29;case 29:V=1;break e;case 30:V=-3;break e;case 31:return-4;case 32:default:return m}return L.next_out=ie,L.avail_out=se,L.next_in=W,L.avail_in=Z,c.hold=x,c.bits=D,(c.wsize||K!==L.avail_out&&c.mode<30&&(c.mode<27||j!==4))&&$(L,L.output,L.next_out,K-L.avail_out)?(c.mode=31,-4):(re-=L.avail_in,K-=L.avail_out,L.total_in+=re,L.total_out+=K,c.total+=K,c.wrap&&K&&(L.adler=c.check=c.flags?e(c.check,ae,K,L.next_out-K):a(c.check,ae,K,L.next_out-K)),L.data_type=c.bits+(c.last?64:0)+(c.mode===12?128:0)+(c.mode===20||c.mode===15?256:0),(re==0&&K===0||j===4)&&V===_&&(V=-5),V)},o.inflateEnd=function(L){if(!L||!L.state)return m;var j=L.state;return j.window&&(j.window=null),L.state=null,_},o.inflateGetHeader=function(L,j){var c;return L&&L.state?(2&(c=L.state).wrap)==0?m:((c.head=j).done=!1,_):m},o.inflateSetDictionary=function(L,j){var c,F=j.length;return L&&L.state?(c=L.state).wrap!==0&&c.mode!==11?m:c.mode===11&&a(1,j,F,0)!==c.check?-3:$(L,j,F,F)?(c.mode=31,-4):(c.havedict=1,_):m},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,l,o){var n=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(f,p,_,m,g,u,b,y){var S,O,A,P,B,I,H,R,M,$=y.bits,L=0,j=0,c=0,F=0,ae=0,W=0,ie=0,Z=0,se=0,x=0,D=null,re=0,K=new n.Buf16(16),Y=new n.Buf16(16),_e=null,Ee=0;for(L=0;L<=15;L++)K[L]=0;for(j=0;j<m;j++)K[p[_+j]]++;for(ae=$,F=15;1<=F&&K[F]===0;F--);if(F<ae&&(ae=F),F===0)return g[u++]=20971520,g[u++]=20971520,y.bits=1,0;for(c=1;c<F&&K[c]===0;c++);for(ae<c&&(ae=c),L=Z=1;L<=15;L++)if(Z<<=1,(Z-=K[L])<0)return-1;if(0<Z&&(f===0||F!==1))return-1;for(Y[1]=0,L=1;L<15;L++)Y[L+1]=Y[L]+K[L];for(j=0;j<m;j++)p[_+j]!==0&&(b[Y[p[_+j]]++]=j);if(I=f===0?(D=_e=b,19):f===1?(D=a,re-=257,_e=e,Ee-=257,256):(D=s,_e=d,-1),L=c,B=u,ie=j=x=0,A=-1,P=(se=1<<(W=ae))-1,f===1&&852<se||f===2&&592<se)return 1;for(;;){for(H=L-ie,M=b[j]<I?(R=0,b[j]):b[j]>I?(R=_e[Ee+b[j]],D[re+b[j]]):(R=96,0),S=1<<L-ie,c=O=1<<W;g[B+(x>>ie)+(O-=S)]=H<<24|R<<16|M|0,O!==0;);for(S=1<<L-1;x&S;)S>>=1;if(S!==0?(x&=S-1,x+=S):x=0,j++,--K[L]==0){if(L===F)break;L=p[_+b[j]]}if(ae<L&&(x&P)!==A){for(ie===0&&(ie=ae),B+=c,Z=1<<(W=L-ie);W+ie<F&&!((Z-=K[W+ie])<=0);)W++,Z<<=1;if(se+=1<<W,f===1&&852<se||f===2&&592<se)return 1;g[A=x&P]=ae<<24|W<<16|B-u|0}}return x!==0&&(g[B+x]=L-ie<<24|64<<16|0),y.bits=ae,0}},{"../utils/common":41}],51:[function(t,l,o){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,l,o){var n=t("../utils/common"),a=0,e=1;function s(E){for(var k=E.length;0<=--k;)E[k]=0}var d=0,f=29,p=256,_=p+1+f,m=30,g=19,u=2*_+1,b=15,y=16,S=7,O=256,A=16,P=17,B=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(_+2));s($);var L=new Array(2*m);s(L);var j=new Array(512);s(j);var c=new Array(256);s(c);var F=new Array(f);s(F);var ae,W,ie,Z=new Array(m);function se(E,k,N,U,T){this.static_tree=E,this.extra_bits=k,this.extra_base=N,this.elems=U,this.max_length=T,this.has_stree=E&&E.length}function x(E,k){this.dyn_tree=E,this.max_code=0,this.stat_desc=k}function D(E){return E<256?j[E]:j[256+(E>>>7)]}function re(E,k){E.pending_buf[E.pending++]=255&k,E.pending_buf[E.pending++]=k>>>8&255}function K(E,k,N){E.bi_valid>y-N?(E.bi_buf|=k<<E.bi_valid&65535,re(E,E.bi_buf),E.bi_buf=k>>y-E.bi_valid,E.bi_valid+=N-y):(E.bi_buf|=k<<E.bi_valid&65535,E.bi_valid+=N)}function Y(E,k,N){K(E,N[2*k],N[2*k+1])}function _e(E,k){for(var N=0;N|=1&E,E>>>=1,N<<=1,0<--k;);return N>>>1}function Ee(E,k,N){var U,T,G=new Array(b+1),X=0;for(U=1;U<=b;U++)G[U]=X=X+N[U-1]<<1;for(T=0;T<=k;T++){var J=E[2*T+1];J!==0&&(E[2*T]=_e(G[J]++,J))}}function le(E){var k;for(k=0;k<_;k++)E.dyn_ltree[2*k]=0;for(k=0;k<m;k++)E.dyn_dtree[2*k]=0;for(k=0;k<g;k++)E.bl_tree[2*k]=0;E.dyn_ltree[2*O]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function ce(E){8<E.bi_valid?re(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function ve(E,k,N,U){var T=2*k,G=2*N;return E[T]<E[G]||E[T]===E[G]&&U[k]<=U[N]}function fe(E,k,N){for(var U=E.heap[N],T=N<<1;T<=E.heap_len&&(T<E.heap_len&&ve(k,E.heap[T+1],E.heap[T],E.depth)&&T++,!ve(k,U,E.heap[T],E.depth));)E.heap[N]=E.heap[T],N=T,T<<=1;E.heap[N]=U}function ke(E,k,N){var U,T,G,X,J=0;if(E.last_lit!==0)for(;U=E.pending_buf[E.d_buf+2*J]<<8|E.pending_buf[E.d_buf+2*J+1],T=E.pending_buf[E.l_buf+J],J++,U===0?Y(E,T,k):(Y(E,(G=c[T])+p+1,k),(X=I[G])!==0&&K(E,T-=F[G],X),Y(E,G=D(--U),N),(X=H[G])!==0&&K(E,U-=Z[G],X)),J<E.last_lit;);Y(E,O,k)}function Oe(E,k){var N,U,T,G=k.dyn_tree,X=k.stat_desc.static_tree,J=k.stat_desc.has_stree,te=k.stat_desc.elems,me=-1;for(E.heap_len=0,E.heap_max=u,N=0;N<te;N++)G[2*N]!==0?(E.heap[++E.heap_len]=me=N,E.depth[N]=0):G[2*N+1]=0;for(;E.heap_len<2;)G[2*(T=E.heap[++E.heap_len]=me<2?++me:0)]=1,E.depth[T]=0,E.opt_len--,J&&(E.static_len-=X[2*T+1]);for(k.max_code=me,N=E.heap_len>>1;1<=N;N--)fe(E,G,N);for(T=te;N=E.heap[1],E.heap[1]=E.heap[E.heap_len--],fe(E,G,1),U=E.heap[1],E.heap[--E.heap_max]=N,E.heap[--E.heap_max]=U,G[2*T]=G[2*N]+G[2*U],E.depth[T]=(E.depth[N]>=E.depth[U]?E.depth[N]:E.depth[U])+1,G[2*N+1]=G[2*U+1]=T,E.heap[1]=T++,fe(E,G,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],function(de,Ae){var et,Te,tt,ge,dt,Et,Re=Ae.dyn_tree,Ut=Ae.max_code,Jn=Ae.stat_desc.static_tree,$n=Ae.stat_desc.has_stree,Yn=Ae.stat_desc.extra_bits,Wt=Ae.stat_desc.extra_base,nt=Ae.stat_desc.max_length,ct=0;for(ge=0;ge<=b;ge++)de.bl_count[ge]=0;for(Re[2*de.heap[de.heap_max]+1]=0,et=de.heap_max+1;et<u;et++)nt<(ge=Re[2*Re[2*(Te=de.heap[et])+1]+1]+1)&&(ge=nt,ct++),Re[2*Te+1]=ge,Ut<Te||(de.bl_count[ge]++,dt=0,Wt<=Te&&(dt=Yn[Te-Wt]),Et=Re[2*Te],de.opt_len+=Et*(ge+dt),$n&&(de.static_len+=Et*(Jn[2*Te+1]+dt)));if(ct!==0){do{for(ge=nt-1;de.bl_count[ge]===0;)ge--;de.bl_count[ge]--,de.bl_count[ge+1]+=2,de.bl_count[nt]--,ct-=2}while(0<ct);for(ge=nt;ge!==0;ge--)for(Te=de.bl_count[ge];Te!==0;)Ut<(tt=de.heap[--et])||(Re[2*tt+1]!==ge&&(de.opt_len+=(ge-Re[2*tt+1])*Re[2*tt],Re[2*tt+1]=ge),Te--)}}(E,k),Ee(G,me,E.bl_count)}function i(E,k,N){var U,T,G=-1,X=k[1],J=0,te=7,me=4;for(X===0&&(te=138,me=3),k[2*(N+1)+1]=65535,U=0;U<=N;U++)T=X,X=k[2*(U+1)+1],++J<te&&T===X||(J<me?E.bl_tree[2*T]+=J:T!==0?(T!==G&&E.bl_tree[2*T]++,E.bl_tree[2*A]++):J<=10?E.bl_tree[2*P]++:E.bl_tree[2*B]++,G=T,me=(J=0)===X?(te=138,3):T===X?(te=6,3):(te=7,4))}function V(E,k,N){var U,T,G=-1,X=k[1],J=0,te=7,me=4;for(X===0&&(te=138,me=3),U=0;U<=N;U++)if(T=X,X=k[2*(U+1)+1],!(++J<te&&T===X)){if(J<me)for(;Y(E,T,E.bl_tree),--J!=0;);else T!==0?(T!==G&&(Y(E,T,E.bl_tree),J--),Y(E,A,E.bl_tree),K(E,J-3,2)):J<=10?(Y(E,P,E.bl_tree),K(E,J-3,3)):(Y(E,B,E.bl_tree),K(E,J-11,7));G=T,me=(J=0)===X?(te=138,3):T===X?(te=6,3):(te=7,4)}}s(Z);var C=!1;function w(E,k,N,U){K(E,(d<<1)+(U?1:0),3),function(T,G,X,J){ce(T),J&&(re(T,X),re(T,~X)),n.arraySet(T.pending_buf,T.window,G,X,T.pending),T.pending+=X}(E,k,N,!0)}o._tr_init=function(E){C||(function(){var k,N,U,T,G,X=new Array(b+1);for(T=U=0;T<f-1;T++)for(F[T]=U,k=0;k<1<<I[T];k++)c[U++]=T;for(c[U-1]=T,T=G=0;T<16;T++)for(Z[T]=G,k=0;k<1<<H[T];k++)j[G++]=T;for(G>>=7;T<m;T++)for(Z[T]=G<<7,k=0;k<1<<H[T]-7;k++)j[256+G++]=T;for(N=0;N<=b;N++)X[N]=0;for(k=0;k<=143;)$[2*k+1]=8,k++,X[8]++;for(;k<=255;)$[2*k+1]=9,k++,X[9]++;for(;k<=279;)$[2*k+1]=7,k++,X[7]++;for(;k<=287;)$[2*k+1]=8,k++,X[8]++;for(Ee($,_+1,X),k=0;k<m;k++)L[2*k+1]=5,L[2*k]=_e(k,5);ae=new se($,I,p+1,_,b),W=new se(L,H,0,m,b),ie=new se(new Array(0),R,0,g,S)}(),C=!0),E.l_desc=new x(E.dyn_ltree,ae),E.d_desc=new x(E.dyn_dtree,W),E.bl_desc=new x(E.bl_tree,ie),E.bi_buf=0,E.bi_valid=0,le(E)},o._tr_stored_block=w,o._tr_flush_block=function(E,k,N,U){var T,G,X=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=function(J){var te,me=4093624447;for(te=0;te<=31;te++,me>>>=1)if(1&me&&J.dyn_ltree[2*te]!==0)return a;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return e;for(te=32;te<p;te++)if(J.dyn_ltree[2*te]!==0)return e;return a}(E)),Oe(E,E.l_desc),Oe(E,E.d_desc),X=function(J){var te;for(i(J,J.dyn_ltree,J.l_desc.max_code),i(J,J.dyn_dtree,J.d_desc.max_code),Oe(J,J.bl_desc),te=g-1;3<=te&&J.bl_tree[2*M[te]+1]===0;te--);return J.opt_len+=3*(te+1)+5+5+4,te}(E),T=E.opt_len+3+7>>>3,(G=E.static_len+3+7>>>3)<=T&&(T=G)):T=G=N+5,N+4<=T&&k!==-1?w(E,k,N,U):E.strategy===4||G===T?(K(E,2+(U?1:0),3),ke(E,$,L)):(K(E,4+(U?1:0),3),function(J,te,me,de){var Ae;for(K(J,te-257,5),K(J,me-1,5),K(J,de-4,4),Ae=0;Ae<de;Ae++)K(J,J.bl_tree[2*M[Ae]+1],3);V(J,J.dyn_ltree,te-1),V(J,J.dyn_dtree,me-1)}(E,E.l_desc.max_code+1,E.d_desc.max_code+1,X+1),ke(E,E.dyn_ltree,E.dyn_dtree)),le(E),U&&ce(E)},o._tr_tally=function(E,k,N){return E.pending_buf[E.d_buf+2*E.last_lit]=k>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&k,E.pending_buf[E.l_buf+E.last_lit]=255&N,E.last_lit++,k===0?E.dyn_ltree[2*N]++:(E.matches++,k--,E.dyn_ltree[2*(c[N]+p+1)]++,E.dyn_dtree[2*D(k)]++),E.last_lit===E.lit_bufsize-1},o._tr_align=function(E){K(E,2,3),Y(E,O,$),function(k){k.bi_valid===16?(re(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(E)}},{"../utils/common":41}],53:[function(t,l,o){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,l,o){(function(n){(function(a,e){if(!a.setImmediate){var s,d,f,p,_=1,m={},g=!1,u=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,s={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){S(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,P=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=P,A}}()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",O,!1):a.attachEvent("onmessage",O),function(A){a.postMessage(p+A,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(A){S(A.data)},function(A){f.port2.postMessage(A)}):u&&"onreadystatechange"in u.createElement("script")?(d=u.documentElement,function(A){var P=u.createElement("script");P.onreadystatechange=function(){S(A),P.onreadystatechange=null,d.removeChild(P),P=null},d.appendChild(P)}):function(A){setTimeout(S,0,A)},b.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var P=new Array(arguments.length-1),B=0;B<P.length;B++)P[B]=arguments[B+1];var I={callback:A,args:P};return m[_]=I,s(_),_++},b.clearImmediate=y}function y(A){delete m[A]}function S(A){if(g)setTimeout(S,0,A);else{var P=m[A];if(P){g=!0;try{(function(B){var I=B.callback,H=B.args;switch(H.length){case 0:I();break;case 1:I(H[0]);break;case 2:I(H[0],H[1]);break;case 3:I(H[0],H[1],H[2]);break;default:I.apply(e,H)}})(P)}finally{y(A),g=!1}}}}function O(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(p)===0&&S(+A.data.slice(p.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(wn);const _s=wn.exports,fs=async(r,h,t,l,o)=>{var s,d,f;const n=document.querySelector(`svg#${r}`);if(!n)throw new Error("Requested canvas SVG element not found");const a=Number((s=n.style.getPropertyValue("--rmg-svg-height").match(/\d+/g))==null?void 0:s[0]),e=n.cloneNode(!0);if(e.setAttribute("height",(a*(o||100)/100).toString()),e.style.setProperty("all","initial"),["share"].map(p=>{var _;return[...((_=[...document.querySelectorAll("link")].filter(m=>m.id==="css_"+p)[0])==null?void 0:_.sheet).cssRules].map(m=>m.cssText).join(" ")}).forEach(p=>{const _=document.createElement("style");_.textContent=p,e.prepend(_)}),(d=e.querySelector("rect#canvas-border"))==null||d.setAttribute("stroke",l?"black":"none"),(f=e.querySelector("rect#canvas-bg"))==null||f.setAttribute("fill",t?"none":"white"),h===ee.MTR)try{const p=await vs(e),_=document.createElement("style");_.textContent=p.join(`
`),e.prepend(_)}catch(p){alert("Failed to fonts. Fonts in the exported PNG will be missing."),console.error(p)}return e},gs=r=>new Promise(h=>{const t=new FileReader;t.onloadend=()=>h(t.result),t.readAsDataURL(r)}),ys=(r,h)=>r.find(t=>{const l=t.style;return l.fontFamily.replace(/^"(.+)"$/,"$1")===h.family&&l.unicodeRange===h.unicodeRange}),vs=async r=>{var n,a,e;const h=Array.from(new Set([...r.querySelectorAll(".rmg-name__zh"),...r.querySelectorAll(".rmg-name__en")].map(s=>s.innerHTML).join("").replace(/\s/g,""))).join(""),t=await document.fonts.load("80px GenYoMin TW, Vegur",h),l=Array.from(((e=(a=(n=document.querySelector("link#css_share"))==null?void 0:n.sheet)==null?void 0:a.cssRules)==null?void 0:e[0]).styleSheet.cssRules),o=t.reduce((s,d)=>{const f=ys(l,d);return f?s.find(_=>{const m=_.style,g=f.style;return m.fontFamily===g.fontFamily&&m.unicodeRange===g.unicodeRange})?s:s.concat(f):s},[]);return await Promise.all(o.map(async s=>{try{const d=await fetch(bs(s)),f=await gs(await d.blob());return s.cssText.replace(/src:[ \w('",\-:/.)]+;/g,`src: url('${f}'); `)}catch(d){return console.error(d),""}}))},bs=r=>{var t;const h=r.style.src;return Sn()?h.replace(/^url\("(\S+)"\).*$/,"$1"):"/rmg/styles/"+((t=h.match(/^url\("([\S*]+)"\)/))==null?void 0:t[1])},Es=async(r,h,t)=>{const l=r.viewBox.baseVal.width,o=r.viewBox.baseVal.height,n=document.querySelectorAll("canvas")[0];n.width=Number(l)*window.devicePixelRatio*h,n.height=Number(o)*window.devicePixelRatio*h,r.setAttribute("width",n.width.toString()),r.setAttribute("height",n.height.toString());const a=n.getContext("2d");return a.clearRect(0,0,n.width,n.height),r.querySelectorAll(".rmg-name__en.rmg-name__mtr--station").forEach(e=>e.setAttribute("font-size","11px")),r.querySelectorAll(".rmg-name__en.rmg-name__gzmtr--next2-dest").forEach(e=>e.setAttribute("font-size","8.5px")),r.querySelectorAll("text, tspan").forEach(e=>{const s=window.getComputedStyle(e);e.setAttribute("font-family",s.fontFamily),e.setAttribute("fill",s.fill),e.setAttribute("dominant-baseline",s.dominantBaseline),e.setAttribute("text-anchor",s.textAnchor||"")}),new Promise((e,s)=>{const d=new Image;d.onload=()=>{setTimeout(()=>{a.drawImage(d,0,0,n.width,n.height),n.toBlob(f=>{f?e(f):s("Canvas blob is null")},"image/png")},t?2e3:0)},d.onerror=s,d.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.outerHTML)))})},zs=r=>{var h,t,l,o,n,a,e;"line_name"in r||(r.line_name=["\u8DEF\u7DDA\u540D","Name of Line"]),"dest_legacy"in r||(r.dest_legacy=!1),delete r.fontZH,delete r.fontEN,delete r.weightZH,delete r.weightEN;for(const[s,d]of Object.entries(r.stn_list))"branch"in d||(r.stn_list[s].branch={left:[],right:[]},d.children.length===2?r.stn_list[s].branch.right=["through",d.children[1]]:r.stn_list[s].branch.right=[],d.parents.length===2?r.stn_list[s].branch.left=["through",d.parents[1]]:r.stn_list[s].branch.left=[]);"psd_num"in r?r.psd_num=r.psd_num.toString():r.psd_num="1","line_num"in r||(r.line_num="1"),r.theme.length===3&&r.theme.push("#fff");for(const[s,d]of Object.entries(r.stn_list))"num"in d||(r.stn_list[s].num="00"),"interchange"in d&&d.interchange.map(f=>f.forEach(p=>{p.length===5&&p.splice(3,0,"#fff")}));for(const[s,d]of Object.entries(r.stn_list))d.change_type==="osi22_end_p"&&(r.stn_list[s].change_type="osi22_pr"),d.change_type==="osi22_end_u"&&(r.stn_list[s].change_type="osi22_ur");for(const[s,d]of Object.entries(r.stn_list))"interchange"in d||(r.stn_list[s].interchange=[[]]);"info_panel_type"in r?r.info_panel_type=(s=>{switch(s){case"gz_1":case"panasonic":return"gz28";case"gz_2":return"gz6";case"gz_3":return"gz3";default:return s}})(r.info_panel_type):r.info_panel_type="gz28","direction_gz_x"in r||(r.direction_gz_x=50),"direction_gz_y"in r||(r.direction_gz_y=70);for(const[s,d]of Object.entries(r.stn_list))"transfer"in d||(r.stn_list[s].transfer={tick_direc:d.change_type==="none"||d.change_type==="int2"?"r":(h=d.change_type)==null?void 0:h.split("_")[1].split("").slice().reverse()[0],paid_area:((t=d.change_type)==null?void 0:t.indexOf("osi"))!==-1?((l=d.change_type)==null?void 0:l.split("_")[1][0])==="p":!0,osi_names:((o=d.change_type)==null?void 0:o.indexOf("osi"))!==-1?[d.interchange[1][0]]:[],info:d.interchange.length===2?[d.interchange[0],d.interchange[1].slice(1)]:d.interchange}),delete r.stn_list[s].change_type,delete r.stn_list[s].interchange;for(const[s,d]of Object.entries(r.stn_list))"services"in d||(r.stn_list[s].services=["local"]),"facility"in d||("usage"in d?r.stn_list[s].facility=d.usage:r.stn_list[s].facility=""),delete r.stn_list[s].usage;"customiseMTRDest"in r||(r.customiseMTRDest={isLegacy:r.dest_legacy||!1,terminal:!1}),delete r.dest_legacy,"svgWidth"in r||(r.svgWidth={destination:r.svg_dest_width,runin:r.svg_dest_width,railmap:r.svg_width,indoor:r.svg_width}),"indoor"in r.svgWidth||(r.svgWidth.indoor=r.svgWidth.railmap),delete r.svg_width,delete r.svg_dest_width,"notesGZMTR"in r||(r.notesGZMTR=[]),r.notesGZMTR=(n=r.notesGZMTR)==null?void 0:n.map(s=>s.length===4?s.concat([!1]):s),delete r.char_form,delete r.show_outer,delete r.strip_pc,delete r.txt_bg_gap,"namePosMTR"in r||(r.namePosMTR={isStagger:!0,isFlip:r.txt_flip}),delete r.txt_flip,Object.keys(r.stn_list).forEach(s=>{"secondaryName"in r.stn_list[s]?r.stn_list[s].secondaryName!==!1&&r.stn_list[s].secondaryName.join()===","&&(r.stn_list[s].secondaryName=!1):r.stn_list[s].secondaryName=!1,"type"in r.stn_list[s].transfer&&delete r.stn_list[s].transfer.type}),r.style=r.style===void 0||!Object.values(ee).includes(r.style)?ee.MTR:r.style,r.coline=(a=r.coline)!=null?a:[],r.loop=(e=r.loop)!=null?e:!1,r.loop_info=r.loop_info===void 0?{bank:!0,left_and_right_factor:0,bottom_factor:1}:{...r.loop_info,bottom_factor:Math.max(r.loop_info.bottom_factor,1)};for(const[s,d]of Object.entries(r.stn_list))"loop_pivot"in d||(r.stn_list[s].loop_pivot=!1);return Array.isArray(r.coline)&&(r.coline=r.coline.reduce((s,d)=>({...s,[$e(4)]:d}),{})),r.platform_num===!1&&(r.platform_num=""),Object.values(r.stn_list).forEach(s=>{var f,p;const d=s;d.one_line=(f=d.one_line)!=null?f:!1,d.int_padding=(p=d.int_padding)!=null?p:r.loop?250:355}),r.branchSpacingPct===void 0&&(r.style===ee.SHMetro?r.branchSpacingPct=Math.round(r.branch_spacing/r.svg_height*300):r.branchSpacingPct=Math.round(r.branch_spacing/r.svg_height*200),delete r.branch_spacing),r},Ss=r=>new Promise(h=>{setTimeout(h,r)});function ws(r){const{isOpen:h,onClose:t}=r,{t:l}=oe(),o=pe(),[n,a]=Q.exports.useState(""),[e,s]=Q.exports.useState(!1),[d,f]=Q.exports.useState(!1),[p,_]=Q.exports.useState(100),[m,g]=Q.exports.useState("png"),u=ne(R=>R.app.canvasToShow),{style:b,stn_list:y,current_stn_idx:S,line_name:O}=ne(R=>R.param);Q.exports.useEffect(()=>{n!==""&&!u.includes(n)&&a("")},[u]);const A=Ht[b].reduce((R,M)=>u.includes(M)?{...R,[M]:l("CanvasType."+M)}:{...R},{"":l("DownloadModal.pleaseSelect")}),P=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].reduce((R,M)=>({...R,[M]:`${M}%`}),{}),B={png:l("DownloadModal.png"),svg:l("DownloadModal.svg")},I=[{type:"select",label:l("DownloadModal.canvas"),value:n,options:A,disabledOptions:[""],onChange:R=>a(R),minW:"full"},{type:"switch",label:l("DownloadModal.transparent"),isChecked:e,onChange:s,oneLine:!0,minW:"full"},{type:"switch",label:l("DownloadModal.showBorder"),isChecked:d,onChange:f,oneLine:!0,minW:"full"},{type:"select",label:l("DownloadModal.scale"),value:p,options:P,onChange:R=>_(R)},{type:"select",label:l("DownloadModal.format"),value:m,options:B,onChange:R=>g(R)}],H=async R=>{o(Qt(0));const M=R==="current"?[S]:Object.keys(y).filter(L=>!["linestart","lineend"].includes(L)),$=new _s;for(const L in M){o(Qt((Number(L)+1)/M.length*100));const j=M[L];o(kt(j)),await Ss(500);const c=await fs(n,b,e,d,p);document.body.appendChild(c);const F=`rmg.${j}.${y[j].name[0]}.${y[j].name[1]}`.replaceAll(/\\|\/|\||\*|:|\?|<|>|"/g,"_");if(m==="png"){const ae=Sn()&&L==="0",W=await Es(c,p/100,ae);M.length>1?$.file(`${F}.png`,W):Tt(`${F}.png`,W)}else if(m==="svg"){c.removeAttribute("height");const ae="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c.outerHTML)));M.length>1?$.file(`${F}.svg`,ae.split("base64,")[1],{base64:!0}):zn(F+".svg","image/svg+xml",c.outerHTML)}document.body.removeChild(c)}if(M.length>1){const L=await $.generateAsync({type:"blob"}),j=`rmg.${O[0]}.${O[1]}.zip`.replaceAll(" ","_");Tt(j,L)}he.event(be.DOWNLOAD_IMAGES,{canvasToDownload:n,style:b,option:R,format:m}),o(kt(S)),o(_n()),t()};return q(je,{isOpen:h,onClose:t,children:[z(Be,{}),q(He,{children:[z(Fe,{children:l("DownloadModal.title")}),z(Ve,{}),z(Me,{children:z(ye,{fields:I})}),z(qe,{children:q(Ce,{children:[z(ue,{colorScheme:"primary",variant:"outline",size:"sm",onClick:()=>H("current"),disabled:!n,children:l("DownloadModal.downloadOne")}),b!==ee.GZMTR&&z(ue,{colorScheme:"primary",variant:"outline",size:"sm",onClick:()=>H("all"),disabled:!n,children:l("DownloadModal.downloadAll")})]})})]})]})}function As(){const{t:r}=oe(),[h,t]=Q.exports.useState(!1),l=ne(n=>n.param),o=()=>{zn(`RMG_${new Date().valueOf()}.json`,"application/json",JSON.stringify(l)),he.event(be.DOWNLOAD_PARAM,{style:l.style})};return q(mr,{children:[z(hr,{as:ue,variant:"ghost",size:"sm",rightIcon:z(pr,{}),children:r("DownloadActions.downloads")}),q(_r,{children:[z(qt,{onClick:o,children:r("DownloadActions.configFile")}),z(qt,{onClick:()=>t(!0),children:r("DownloadActions.images")})]}),z(ws,{isOpen:h,onClose:()=>t(!1)})]})}function bt(){const[r,h]=fr();return[r,l=>{if(h(l),Object.keys(l)){const o=new URLSearchParams(l);he.updateUrl("/rmg/?"+o)}else he.updateUrl("/rmg/")}]}function Ls(){const{t:r}=oe(),h=Ct(),[,t]=bt();return q(Ce,{ml:"auto",w:"fit-content",children:[z(ue,{variant:"ghost",size:"sm",leftIcon:z(gr,{}),onClick:()=>{h(fn(void 0)),t({})},children:r("All projects")}),z(As,{}),z(ue,{variant:"solid",size:"sm",colorScheme:"primary",leftIcon:z(yr,{}),onClick:()=>h(lt(Xe.STYLE)),children:r("HeaderActions.editStyle")})]})}function Os(){const{t:r}=oe(),h=pe(),{canvasToShow:t,canvasScale:l}=ne(d=>d.app),o=ne(d=>d.param.style),n=Object.values(ee).reduce((d,f)=>({...d,[f]:r("RmgStyle."+f)}),{}),a=Ht[o].map(d=>({label:r("CanvasType."+d),value:d})),e=d=>{h(ya(d))},s=[{type:"select",label:r("Style"),value:o,options:n,onChange:d=>e(d)},{type:"custom",label:r("View"),component:z(vr,{displayValue:r("Select canvas"),selections:a,defaultValue:t,onChange:d=>h(fa(d))})},{type:"slider",label:r("Canvas scale"),value:l,min:.1,max:2,step:.1,onChange:d=>h(ga(d)),leftIcon:z(br,{}),rightIcon:z(Er,{})}];return q(zr,{children:[z(ye,{fields:s,minW:160}),z(Ls,{})]})}const Ps=r=>{switch(r){case ee.MTR:return[Ie.Hongkong,"twl","#E2231A",we.white];case ee.GZMTR:return[Ie.Guangzhou,"gz1","#F3D03E",we.black];case ee.SHMetro:return[Ie.Shanghai,"sh1","#E4002B",we.white];default:return[Ie.Other,"other","#AAAAAA",we.white]}},ks=r=>{switch(r){case ht.ChineseSimp:return["1\u53F7\u7EBF","Line 1"];case ht.ChineseTrad:return["\u8343\u7063\u7DAB","Tsuen Wan Line"];default:return["\u5730\u9435\u7DDA","Metro Line"]}},rt=r=>({name:["\u672A\u547D\u540D "+r,"Unnamed "+r],secondaryName:!1,num:"00",services:[Pt.local],parents:[],children:[],branch:{left:[],right:[]},transfer:{info:[[]],tick_direc:Ye.right,paid_area:!0,osi_names:[]},facility:De.none,loop_pivot:!1,one_line:!0,int_padding:355}),Ts=(r,h)=>{const t=rt("linestart");t.name=["LEFT END","LEFT END"];const l=rt("lineend");l.name=["RIGHT END","RIGHT END"];const o=$e(6),n=rt(o);n.num="01";const a=$e(6),e=rt(a);return e.num="02",t.children=[o],n.parents=["linestart"],n.children=[a],e.parents=[o],e.children=["lineend"],l.parents=[a],{svgWidth:{destination:1200,runin:1200,railmap:1200,indoor:1200},svg_height:300,style:r,y_pc:50,padding:10,branchSpacingPct:33,direction:Ye.left,platform_num:"1",theme:Ps(r),line_name:ks(h),current_stn_idx:a,stn_list:{linestart:t,[o]:n,[a]:e,lineend:l},namePosMTR:{isStagger:!0,isFlip:!0},customiseMTRDest:{isLegacy:!1,terminal:!1},line_num:"1",psd_num:"1",info_panel_type:r===ee.SHMetro?hn.sh:mn.gz1,notesGZMTR:[],direction_gz_x:40,direction_gz_y:70,coline:{},loop:!1,loop_info:{bank:!0,left_and_right_factor:1,bottom_factor:1}}},st=(r,h,t,l)=>(o,n)=>{const a=n().param.stn_list;let e=$e(6);for(;e in a;)e=$e(6);const s=rt(e);if(r!=="new"){const d={...a,[h]:{...a[h],children:a[h].children.map(f=>f===t?e:f),branch:{left:a[h].branch.left,right:a[h].branch.right.length&&a[h].branch.right[1]===t?[a[h].branch.right[0],e]:a[h].branch.right}},[t]:{...a[t],parents:a[t].parents.map(f=>f===h?e:f),branch:{left:a[t].branch.left.length&&a[t].branch.left[1]===h?[a[t].branch.left[0],e]:a[t].branch.left,right:a[t].branch.right}},[e]:{...s,parents:[h],children:[t]}};return o(Ge(d)),e}else{if(!l)return!1;const d={...a,[h]:{...a[h],children:l==="upper"?[e,a[h].children[0]]:[a[h].children[0],e],branch:{left:a[h].branch.left,right:[_t.through,e]}},[t]:{...a[t],parents:l==="upper"?[e,a[t].parents[0]]:[a[t].parents[0],e],branch:{left:[_t.through,e],right:a[t].branch.right}},[e]:{...s,parents:[h],children:[t]}};return o(Ge(d)),e}},Rs=(r,h,t)=>(l,o)=>{const a=o().helper.branches[r];if(a!=null&&a.length)if(h==="before"){const e=a[a.indexOf(t)-1];return l(st(r.toString(),e,t))}else{const e=a[a.indexOf(t)+1];return l(st(r.toString(),t,e))}else return!1},Ds=()=>(r,h)=>{const t=h().param.stn_list;return h().helper.branches[0].filter(o=>{const n=t[o].parents.length+t[o].children.length===4,a=Mt(o,t)===0;return!n&&a})},nn=(r,h)=>(t,l)=>{const o=l().param.stn_list,n=l().helper.branches;return!n[0].includes(r)||!n[0].includes(h)?"Branch should end at main line":n[0].indexOf(r)>=n[0].indexOf(h)?"Not in correct ordering":r==="linestart"&&h==="lineend"?"Should not be parallel to main line":r==="linestart"&&n[0].indexOf(h)===1?"Branch should not be open jaw from the first station":h==="lineend"&&n[0].indexOf(r)===n[0].length-2?"Branch should not be open jaw from the last station":o[r].children.length>1||o[h].parents.length>1?"Branch already exist":n.slice(1).some(s=>s.slice(1,-1).includes(r)||s.slice(1,-1).includes(h))?"Cannot branch out from existing branch":n[0].slice(n[0].indexOf(r)+1,n[0].indexOf(h)).every(s=>o[s].parents.length===1&&o[s].children.length===1)?"":"One or more stations between both ends are branching out"};function Is(r){var B,I;const{isOpen:h,onClose:t}=r,{t:l}=oe(),o=pe(),n=ne(H=>H.app.selectedBranch),{style:a,stn_list:e}=ne(H=>H.param),s=ne(H=>H.helper.branches),[d,f]=Q.exports.useState(n),[p,_]=Q.exports.useState("before"),[m,g]=Q.exports.useState(""),[u,b]=Q.exports.useState(!1);Q.exports.useEffect(()=>{f(n)},[n]),Q.exports.useEffect(()=>{h||b(!1)},[h]);const y=(I=(B=s[Number(d)])==null?void 0:B.slice(1,-1))!=null?I:[],S=H=>H.reduce((R,M)=>{var $;return{...R,[M]:($=e[M])==null?void 0:$.name.join(" - ")}},{"":l("AddStationModal.pleaseSelect")}),O=[{type:"select",label:l("AddStationModal.where"),value:d,options:{...s.reduce((H,R,M)=>({...H,[M]:M===0?l("AddStationModal.main"):a!==ee.SHMetro||!Qe(R,e)?l("AddStationModal.branch")+" "+M:l("AddStationModal.external")+" "+M}),{})},onChange:H=>A(H),minW:"full"},{type:"select",label:l("AddStationModal.preposition"),value:p,options:{before:l("AddStationModal.before"),after:l("AddStationModal.after")},onChange:H=>_(H)},{type:"select",label:l("AddStationModal.pivot"),value:m,options:S(y),disabledOptions:[""],onChange:H=>g(H)}],A=H=>{f(H),g("")},P=()=>{const H=o(Rs(d,p,m));H?(t(),o(pn(H)),o(lt(Xe.STATION))):(console.log("false here"),b(!0)),he.event(be.ADD_STATION,{style:a,branchIndex:d,success:H})};return q(je,{isOpen:h,onClose:t,children:[z(Be,{}),q(He,{children:[u&&q(jt,{status:"error",variant:"solid",size:"xs",children:[z(Bt,{}),l("AddStationModal.error")]}),q(Se,{position:"relative",children:[z(Fe,{children:l("AddStationModal.title")}),z(Ve,{})]}),z(Me,{children:z(ye,{fields:O})}),z(qe,{children:z(ue,{colorScheme:"primary",onClick:P,disabled:!m,children:l("Confirm")})})]})]})}function xs(r){const{isOpen:h,onClose:t}=r,{t:l}=oe(),o=pe(),[n,a]=Q.exports.useState("new"),[e,s]=Q.exports.useState(""),[d,f]=Q.exports.useState(""),[p,_]=Q.exports.useState("upper"),[m,g]=Q.exports.useState(""),[u,b]=Q.exports.useState(""),{style:y,stn_list:S}=ne($=>$.param);Q.exports.useEffect(()=>{h||(a("new"),s(""),f(""))},[h]);const A=($=>$.reduce((L,j)=>{var c;return{...L,[j]:(c=S[j])==null?void 0:c.name.join(" - ")}},{"":l("NewBranchModal.pleaseSelect")}))(o(Ds())),P=[{type:"select",label:l("NewBranchModal.where"),value:n,options:{new:l("NewBranchModal.new"),ext:l("NewBranchModal.ext")},disabledOptions:y===ee.SHMetro?[]:["ext"],onChange:$=>B($),minW:"full"},{type:"select",label:l("NewBranchModal.from"),value:e,options:A,disabledOptions:[""],onChange:$=>I($),isInvalid:Boolean(m)},{type:"select",label:l("NewBranchModal.to"),value:d,options:A,disabledOptions:[""],onChange:$=>H($),isInvalid:Boolean(u)},{type:"select",label:l("NewBranchModal.position"),value:p,options:{upper:l("NewBranchModal.upper"),lower:l("NewBranchModal.lower")},onChange:$=>_($),minW:"full",hidden:n!=="new"||y===ee.SHMetro}],B=$=>{a($),s(""),f(""),g(""),b("")},I=$=>{s($),g(""),$&&d&&b(o(nn($,d)))},H=$=>{f($),b(""),e&&$&&g(o(nn(e,$)))},R=()=>{let $;n==="ext"?$=o(st("new",e,d,"lower")):y===ee.SHMetro?$=o(st("new",e,d,"upper")):$=o(st("new",e,d,p)),$&&(t(),he.event(be.ADD_BRANCH,{style:y,where:n}))},M=Boolean(!e||!d||m||u);return q(je,{isOpen:h,onClose:t,children:[z(Be,{}),q(He,{children:[z(Fe,{children:l("NewBranchModal.title")}),z(Ve,{}),z(Me,{children:z(ye,{fields:P})}),z(qe,{children:z(ue,{colorScheme:"primary",title:M?m||u:l("Confirm"),onClick:R,disabled:M,children:l("Confirm")})})]})]})}const Cs=Q.exports.lazy(()=>v(()=>import("./station-ag-grid.bc21ab76.js"),["assets/station-ag-grid.bc21ab76.js","assets/vendor.9890a542.js","assets/index.2953ed51.js","assets/index.ffeaacf7.css"]));function js(){const{t:r}=oe(),h=pe(),[t,l]=Q.exports.useState(!1),[o,n]=Q.exports.useState(!1),a=ne(p=>p.app.selectedBranch),{style:e,stn_list:s}=ne(p=>p.param),d=ne(p=>p.helper.branches),f=()=>{h(lt(Xe.BRANCH))};return q(Se,{flex:1,overflow:"hidden",children:[q(Rt,{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",index:a,onChange:p=>h(va(p)),children:[q(Dt,{children:[d.map((p,_)=>_===0?z(Je,{children:r("GridTabs.main")},_):e!==ee.SHMetro||!Qe(p,s)?z(Je,{children:r("GridTabs.branch")+" "+_},_):z(Je,{children:r("GridTabs.external")+" "+_},_)),z(xe,{size:"sm",variant:"ghost",alignSelf:"center","aria-label":"New branch",onClick:()=>n(!0),icon:z(Ze,{})}),q(Ce,{marginLeft:"auto",marginRight:1,children:[z(ue,{variant:"outline",size:"xs",leftIcon:z(Ze,{}),onClick:()=>l(!0),children:r("GridTabs.addStation")}),z(ue,{size:"xs",colorScheme:"primary",onClick:f,children:r("GridTabs.editLine")})]})]}),z(It,{flex:1,overflowY:"auto",children:d.map((p,_)=>z(pt,{padding:0,h:"100%",position:"relative",children:z(sn,{suspenseFallback:z(gt,{isIndeterminate:!0}),children:z(Cs,{branchIndex:_})})},_))})]}),z(Is,{isOpen:t,onClose:()=>l(!1)}),z(xs,{isOpen:o,onClose:()=>n(!1)})]})}function Bs(){const r=pe(),h=ne(l=>l.app.globalAlerts),t=l=>{he.isStandaloneWindow()?window.open(`/${l}`,"_blank"):he.openApp(l)};return z(Ue,{children:Object.entries(h).map(([l,{message:o,url:n,linkedApp:a}])=>q(jt,{status:l,variant:"solid",size:"xs",pl:3,pr:1,py:0,children:[z(Bt,{}),a?z(Lt,{onClick:()=>t(a),children:o}):n?z(Lt,{href:n,target:"_blank",children:o}):o,z(Sr,{ml:"auto",onClick:()=>r(ba(l))})]},l))})}function Hs(){const{t:r}=oe(),h=pe(),t=ne(l=>l.app.isLoading);return Q.exports.useEffect(()=>{const l=setTimeout(()=>{h(ft({status:"info",message:r("rmpPromotion"),linkedApp:"rmp"}))},1e3);return()=>clearTimeout(l)},[]),q(dn,{children:[t&&z(gt,{isIndeterminate:t<0,value:t>=0?t:void 0}),z(Os,{}),z(Bs,{}),q(Pe,{flex:1,overflow:"hidden",position:"relative",children:[q(Pe,{as:"section",direction:"column",flex:1,ml:1,mr:1,overflow:"hidden",children:[z(Se,{children:z(La,{})}),z(js,{})]}),z(ms,{})]}),z("canvas",{style:{display:"none"}})]})}function Fs(r){var d;const{config:h,onClose:t,onUpdate:l}=r,{t:o}=oe(),[n,a]=Q.exports.useState((d=h==null?void 0:h.name)!=null?d:"");Q.exports.useEffect(()=>{var f;h&&a((f=h.name)!=null?f:"")},[h]);const e=[{type:"input",label:o("Project name"),value:n,onChange:a,debouncedDelay:0}],s=()=>{var f;h&&((f=h.name)!=null?f:"")!==n&&l({...h,name:n})};return q(je,{isOpen:!!h,onClose:t,isCentered:!0,children:[z(Be,{}),q(He,{children:[z(Fe,{children:o("Edit project info")}),z(Ve,{}),z(Me,{children:z(ye,{fields:e})}),z(qe,{children:z(ue,{colorScheme:"primary",onClick:s,children:o("Confirm")})})]})]})}const Vs={flex:"2 1 0%",overflow:"hidden",minW:{base:"unset",md:240},w:{base:"100%",md:"unset"},mr:{base:0,md:2},mb:{base:2,md:0},"& > div":{flexDirection:"column",h:200,overflowX:"hidden",overflowY:"auto",borderRadius:"md",borderWidth:2,"& .chakra-button__group":{"& button:not(:first-of-type)":{h:"100%"}}}};function Ms(r){const{paramRegistry:h,selectedParam:t,onParamSelect:l,onParamRemove:o,onParamUpdate:n}=r,{t:a}=oe(),[e,s]=Q.exports.useState(),d=f=>{n(f),s(void 0)};return q(Se,{sx:Vs,children:[z(Pe,{children:h.slice().sort((f,p)=>{var _,m;return((_=p.lastModified)!=null?_:0)-((m=f.lastModified)!=null?m:0)}).map(f=>{var p;return q(wr,{size:"sm",isAttached:!0,colorScheme:t===f.id?"primary":void 0,variant:t===f.id?"solid":"ghost",children:[z(cn,{primaryText:(p=f.name)!=null?p:a("Project")+" "+f.id,secondaryText:a("Last modified")+": "+ps(f.lastModified).map(a).join(" "),onClick:()=>l(f.id)}),z(xe,{"aria-label":a("Edit project info"),title:a("Edit project info"),icon:z(Ar,{}),onClick:()=>s(f)}),z(xe,{"aria-label":a("Remove project"),title:a("Remove project"),icon:z(vt,{}),onClick:()=>o(f.id)})]},f.id)})}),h.length>=10&&z(it,{as:"em",fontSize:"xs",children:a("You have reached the maximum number of projects.")}),z(Fs,{config:e,onClose:()=>s(void 0),onUpdate:d})]})}const An=[{id:"basic",name:{en:"Basic",zh:"\u57FA\u672C"}},{id:"mtr",name:{en:"MTR","zh-Hans":"\u6E2F\u94C1","zh-Hant":"\u6E2F\u9435"}},{id:"gzmtr",name:{en:"Guangzhou Metro","zh-Hans":"\u5E7F\u5DDE\u5730\u94C1","zh-Hant":"\u5EE3\u5DDE\u5730\u9435"}},{id:"shmetro",name:{en:"Shanghai Metro","zh-Hans":"\u4E0A\u6D77\u5730\u94C1","zh-Hant":"\u4E0A\u6D77\u5730\u9435"}},{id:"bjsubway",name:{en:"Beijing Subway","zh-Hans":"\u5317\u4EAC\u5730\u94C1","zh-Hant":"\u5317\u4EAC\u5730\u9435"}},{id:"chengdumetro",name:{en:"Chengdu Metro","zh-Hans":"\u6210\u90FD\u5730\u94C1","zh-Hant":"\u6210\u90FD\u5730\u9435"}},{id:"crt",name:{en:"Chongqing Rail Transit","zh-Hans":"\u91CD\u5E86\u8F68\u9053\u4EA4\u901A","zh-Hant":"\u91CD\u6176\u8ECC\u9053\u4EA4\u901A"}},{id:"fmetro",name:{en:"Foshan Metro","zh-Hans":"\u4F5B\u5C71\u5730\u94C1","zh-Hant":"\u4F5B\u5C71\u5730\u9435"}},{id:"hrbmetro",name:{en:"Harbin Metro","zh-Hans":"\u54C8\u5C14\u6EE8\u5730\u94C1","zh-Hant":"\u54C8\u723E\u6FF1\u5730\u9435"}},{id:"kmrailtransit",name:{en:"Kunming Rail Transit","zh-Hans":"\u6606\u660E\u5730\u94C1","zh-Hant":"\u6606\u660E\u5730\u9435"}},{id:"kvtransit",name:{en:"Klang Valley Integrated Transit System","zh-Hans":"\u5DF4\u751F\u8C37\u7EFC\u5408\u8FD0\u8F93\u7CFB\u7EDF","zh-Hant":"\u5DF4\u751F\u8C37\u7D9C\u5408\u904B\u8F38\u7CFB\u7D71"}},{id:"lahoremetro",name:{en:"Lahore Metro",ur:"\u0644\u0627\u06C1\u0648\u0631 \u0645\u06CC\u0679\u0631\u0648","zh-Hans":"\u62C9\u5408\u5C14\u5730\u94C1","zh-Hant":"\u62C9\u5408\u723E\u5730\u9435"}},{id:"mlm",name:{en:"Macao LRT",pt:"Metro Ligeiro de Macau","zh-Hans":"\u6FB3\u95E8\u8F7B\u8F68","zh-Hant":"\u6FB3\u9580\u8F15\u8ECC"}},{id:"nbrailtransit",name:{en:"Ningbo Rail Transit","zh-Hans":"\u5B81\u6CE2\u8F68\u9053\u4EA4\u901A","zh-Hant":"\u5BE7\u6CE2\u8ECC\u9053\u4EA4\u901A"}},{id:"njmetro",name:{en:"Nanjing Metro","zh-Hans":"\u5357\u4EAC\u5730\u94C1","zh-Hant":"\u5357\u4EAC\u5730\u9435"}},{id:"qdmetro",name:{en:"Qingdao Metro","zh-Hans":"\u9752\u5C9B\u5730\u94C1","zh-Hant":"\u9752\u5CF6\u5730\u9435"}},{id:"saopaulometro",name:{en:"S\xE3o Paulo Metro",pt:"Metr\xF4 de S\xE3o Paulo","zh-Hans":"\u5723\u4FDD\u7F57\u5730\u94C1","zh-Hant":"\u8056\u4FDD\u7F85\u5730\u9435"}},{id:"seoulmetro",name:{en:"Seoul Metropolitan Subway",ko:"\uC11C\uC6B8 \uC218\uB3C4\uAD8C \uC804\uCCA0","zh-Hans":"\u9996\u5C14\u9996\u90FD\u5708\u7535\u94C1","zh-Hant":"\u9996\u723E\u9996\u90FD\u5708\u96FB\u9435"}},{id:"szmetro",name:{en:"Shenzhen Metro","zh-Hans":"\u6DF1\u5733\u5730\u94C1","zh-Hant":"\u6DF1\u5733\u5730\u9435"}},{id:"torontosubway",name:{en:"Toronto Subway",fr:"M\xE9tro de Toronto","zh-Hans":"\u591A\u4F26\u591A\u5730\u94C1","zh-Hant":"\u591A\u502B\u591A\u5730\u9435"}},{id:"zzmetro",name:{en:"Zhengzhou Metro","zh-Hans":"\u90D1\u5DDE\u5730\u94C1","zh-Hant":"\u912D\u5DDE\u5730\u9435"}}],Ns=Object.freeze(Object.defineProperty({__proto__:null,default:An},Symbol.toStringTag,{value:"Module"})),Ln=[{filename:"default",name:{en:"Default","zh-Hans":"\u9ED8\u8BA4","zh-Hant":"\u9810\u8A2D"},style:"mtr"},{filename:"coline",name:{en:"Track Share","zh-Hans":"\u5171\u7EBF","zh-Hant":"\u5171\u7DAB"},style:"shmetro"},{filename:"loop",name:{en:"Loop Line","zh-Hans":"\u73AF\u7EBF","zh-Hant":"\u74B0\u7DAB"},style:"shmetro"}],On=[{filename:"twl",name:{en:"Tsuen Wan Line","zh-Hans":"\u8343\u6E7E\u7EBF","zh-Hant":"\u8343\u7063\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"ktl",name:{en:"Kwun Tong Line","zh-Hans":"\u89C2\u5858\u7EBF","zh-Hant":"\u89C0\u5858\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"isl",name:{en:"Island Line","zh-Hans":"\u6E2F\u5C9B\u7EBF","zh-Hant":"\u6E2F\u5CF6\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"tkl",name:{en:"Tseung Kwan O Line","zh-Hans":"\u5C06\u519B\u6FB3\u7EBF","zh-Hant":"\u5C07\u8ECD\u6FB3\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"tcl",name:{en:"Tung Chung Line","zh-Hans":"\u4E1C\u6D8C\u7EBF","zh-Hant":"\u6771\u6D8C\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"sile",name:{en:"South Island Line","zh-Hans":"\u5357\u6E2F\u5C9B\u7EBF","zh-Hant":"\u5357\u6E2F\u5CF6\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"drl",name:{en:"Disneyland Resort Line","zh-Hans":"\u8FEA\u58EB\u5C3C\u7EBF","zh-Hant":"\u8FEA\u58EB\u5C3C\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"ael",name:{en:"Airport Express","zh-Hans":"\u673A\u573A\u5FEB\u7EBF","zh-Hant":"\u6A5F\u5834\u5FEB\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"eal",name:{en:"East Rail Line","zh-Hans":"\u4E1C\u94C1\u7EBF","zh-Hant":"\u6771\u9435\u7DAB"},uploadBy:"wongchito",style:"mtr"},{filename:"tml",name:{en:"Tuen Ma Line","zh-Hans":"\u5C6F\u9A6C\u7EBF","zh-Hant":"\u5C6F\u99AC\u7DAB"},uploadBy:"wongchito",style:"mtr"}],Pn=[{filename:"gz1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz6",name:{en:"Line 6","zh-Hans":"6\u53F7\u7EBF","zh-Hant":"6\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz7",name:{en:"Line 7","zh-Hans":"7\u53F7\u7EBF","zh-Hant":"7\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz8",name:{en:"Line 8","zh-Hans":"8\u53F7\u7EBF","zh-Hant":"8\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz9",name:{en:"Line 9","zh-Hans":"9\u53F7\u7EBF","zh-Hant":"9\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz13",name:{en:"Line 13","zh-Hans":"13\u53F7\u7EBF","zh-Hant":"13\u865F\u7DDA"},uploadBy:"Dingdong2334",style:"gzmtr"},{filename:"gz14",name:{en:"Line 14","zh-Hans":"14\u53F7\u7EBF","zh-Hant":"14\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz18",name:{en:"Line 18","zh-Hans":"18\u53F7\u7EBF","zh-Hant":"18\u865F\u7DDA"},uploadBy:"Dingdong2334",style:"gzmtr"},{filename:"gz21",name:{en:"Line 21","zh-Hans":"21\u53F7\u7EBF","zh-Hant":"21\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gz22",name:{en:"Line 22","zh-Hans":"22\u53F7\u7EBF","zh-Hant":"22\u865F\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"gf",name:{en:"Guangfo Line","zh-Hans":"\u5E7F\u4F5B\u7EBF","zh-Hant":"\u5EE3\u4F5B\u7DDA"},uploadBy:"wongchito",style:"gzmtr"},{filename:"apm",name:{en:"APM Line","zh-Hans":"APM\u7EBF","zh-Hant":"APM\u7DDA"},uploadBy:"Dingdong2334",style:"gzmtr"},{filename:"thz1",name:{en:"Haizhu Tram Line 1","zh-Hans":"\u6D77\u73E0\u6709\u8F681\u53F7\u7EBF","zh-Hant":"\u6D77\u73E0\u6709\u8ECC1\u865F\u7DDA"},uploadBy:"clearng-kly",style:"gzmtr"},{filename:"thp1",name:{en:"Huangpu Tram Line 1","zh-Hans":"\u9EC4\u57D4\u6709\u8F681\u53F7\u7EBF","zh-Hant":"\u9EC3\u57D4\u6709\u8ECC1\u865F\u7DDA"},uploadBy:"clearng-kly",style:"gzmtr"}],kn=[{filename:"sh1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh3",name:{en:"Line 3 (External)","zh-Hans":"3\u53F7\u7EBF \uFF08\u5171\u7EBF\uFF09","zh-Hant":"3\u865F\u7DDA \uFF08\u5171\u7DDA\uFF09"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh4",name:{en:"Line 4 (Loop)","zh-Hans":"4\u53F7\u7EBF \uFF08\u73AF\u7EBF\uFF09","zh-Hant":"4\u865F\u7DDA \uFF08\u74B0\u7DDA\uFF09"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh3&4",name:{en:"Line 3 and 4 (External with Loop)","zh-Hans":"3\u4E0E4\u53F7\u7EBF \uFF08\u5171\u7EBF\u4E0E\u73AF\u7EBF\uFF09","zh-Hant":"3\u82074\u865F\u7DDA \uFF08\u5171\u7DDA\u8207\u74B0\u7DDA\uFF09"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"Tianxiu11111",style:"shmetro"},{filename:"sh6",name:{en:"Line 6","zh-Hans":"6\u53F7\u7EBF","zh-Hant":"6\u865F\u7DDA"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh7",name:{en:"Line 7","zh-Hans":"7\u53F7\u7EBF","zh-Hant":"7\u865F\u7DDA"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh8",name:{en:"Line 8","zh-Hans":"8\u53F7\u7EBF","zh-Hant":"8\u865F\u7DDA"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh9",name:{en:"Line 9","zh-Hans":"9\u53F7\u7EBF","zh-Hant":"9\u865F\u7DDA"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh10",name:{en:"Line 10 (Branch)","zh-Hans":"10\u53F7\u7EBF \uFF08\u652F\u7EBF\uFF09","zh-Hant":"10\u865F\u7DDA \uFF08\u652F\u7DDA\uFF09"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh11",name:{en:"Line 11","zh-Hans":"11\u53F7\u7EBF","zh-Hant":"11\u865F\u7DDA"},uploadBy:"Tianxiu11111",style:"shmetro"},{filename:"sh12",name:{en:"Line 12","zh-Hans":"12\u53F7\u7EBF","zh-Hant":"12\u865F\u7DDA"},uploadBy:"Andy1782010",style:"shmetro"},{filename:"sh13",name:{en:"Line 13","zh-Hans":"13\u53F7\u7EBF","zh-Hant":"13\u865F\u7DDA"},uploadBy:"Andy1782010",style:"shmetro"},{filename:"sh14",name:{en:"Line 14","zh-Hans":"14\u53F7\u7EBF","zh-Hant":"14\u865F\u7DDA"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh15",name:{en:"Line 15","zh-Hans":"15\u53F7\u7EBF","zh-Hant":"15\u865F\u7DDA"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh16",name:{en:"Line 16 (Express)","zh-Hans":"16\u53F7\u7EBF \uFF08\u5FEB\u8F66\uFF09","zh-Hant":"16\u865F\u7DDA \uFF08\u5FEB\u8ECA\uFF09"},uploadBy:"thekingofcity",style:"shmetro"},{filename:"sh17",name:{en:"Line 17","zh-Hans":"17\u53F7\u7EBF","zh-Hant":"17\u865F\u7DDA"},uploadBy:"Thomastzc",style:"shmetro"},{filename:"sh18",name:{en:"Line 18","zh-Hans":"18\u53F7\u7EBF","zh-Hant":"18\u865F\u7DDA"},uploadBy:"Tianxiu11111",style:"shmetro"}],Tn=[{filename:"bj1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"bj2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"bj4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"bj5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"gzmtr"},{filename:"bj6",name:{en:"Line 6","zh-Hans":"6\u53F7\u7EBF","zh-Hant":"6\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"mtr"},{filename:"bj7",name:{en:"Line 7","zh-Hans":"7\u53F7\u7EBF","zh-Hant":"7\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"mtr"},{filename:"bj8",name:{en:"Line 8","zh-Hans":"8\u53F7\u7EBF","zh-Hant":"8\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"bj9",name:{en:"Line 9","zh-Hans":"9\u53F7\u7EBF","zh-Hant":"9\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"gzmtr"},{filename:"bj10",name:{en:"Line 10","zh-Hans":"10\u53F7\u7EBF","zh-Hant":"10\u865F\u7DDA"},uploadBy:"52PD",style:"shmetro"},{filename:"bj11",name:{en:"Line 11","zh-Hans":"11\u53F7\u7EBF","zh-Hant":"11\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"bj13",name:{en:"Line 13","zh-Hans":"13\u53F7\u7EBF","zh-Hant":"13\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"mtr"},{filename:"bj14",name:{en:"Line 14","zh-Hans":"14\u53F7\u7EBF","zh-Hant":"14\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"bj16",name:{en:"Line 16","zh-Hans":"16\u53F7\u7EBF","zh-Hant":"16\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"bj17",name:{en:"Line 17","zh-Hans":"17\u53F7\u7EBF","zh-Hant":"17\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"bj19",name:{en:"Line 19","zh-Hans":"19\u53F7\u7EBF","zh-Hant":"19\u865F\u7DDA"},uploadBy:"bj6872",style:"shmetro"},{filename:"dae",name:{en:"Daxing Airport Express","zh-Hans":"\u5927\u5174\u673A\u573A\u7EBF","zh-Hant":"\u5927\u8208\u6A5F\u5834\u7DDA"},style:"shmetro"},{filename:"s1l",name:{en:"Line S1","zh-Hans":"S1\u7EBF","zh-Hant":"S1\u7DDA"}},{filename:"t1l",name:{en:"Yizhuang T1 Line","zh-Hans":"\u4EA6\u5E84T1\u7EBF","zh-Hant":"\u4EA6\u838AT1\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"gzmtr"},{filename:"xjl",name:{en:"Xijiao Line","zh-Hans":"\u897F\u90CA\u7EBF","zh-Hant":"\u897F\u90CA\u7DDA"}},{filename:"yzl",name:{en:"Yizhuang Line","zh-Hans":"\u4EA6\u5E84\u7EBF","zh-Hant":"\u4EA6\u838A\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"mtr"}],Rn=[{filename:"cd1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"cd2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"cd5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"},{filename:"cd6",name:{en:"Line 6","zh-Hans":"6\u53F7\u7EBF","zh-Hant":"6\u865F\u7DDA"},uploadBy:"Jay20081229",style:"shmetro"}],Dn=[{filename:"cq0",name:{en:"Loop Line","zh-Hans":"\u73AF\u7EBF","zh-Hant":"\u74B0\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cqe",name:{en:"Express Train","zh-Hans":"\u76F4\u5FEB\u5217\u8F66","zh-Hant":"\u76F4\u5FEB\u5217\u8ECA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq6",name:{en:"Line 6","zh-Hans":"6\u53F7\u7EBF","zh-Hant":"6\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq9",name:{en:"Line 9","zh-Hans":"9\u53F7\u7EBF","zh-Hant":"9\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cq10",name:{en:"Line 10","zh-Hans":"10\u53F7\u7EBF","zh-Hant":"10\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"shmetro"},{filename:"cjt",name:{en:"Jiangtiao Line","zh-Hans":"\u6C5F\u8DF3\u7EBF","zh-Hant":"\u6C5F\u8DF3\u7DDA"},uploadBy:"AnDanJuneUnderline",style:"gzmtr"}],In=[{filename:"fs2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"Dingdong2334",style:"gzmtr"},{filename:"tnh1",name:{en:"Nanhai Tram Line 1","zh-Hans":"\u5357\u6D77\u6709\u8F681\u53F7\u7EBF","zh-Hant":"\u5357\u6D77\u6709\u8ECC1\u865F\u7DDA"},uploadBy:"clearng-kly",style:"gzmtr"},{filename:"tgm1",name:{en:"Gaoming Tram","zh-Hans":"\u9AD8\u660E\u6709\u8F68\u7535\u8F66","zh-Hant":"\u9AD8\u660E\u6709\u8ECC\u96FB\u8ECA"},uploadBy:"clearng-kly",style:"gzmtr"}],xn=[{filename:"hrb1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline"},{filename:"hrb2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline"},{filename:"hrb3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"AnDanJuneUnderline"}],Cn=[{filename:"km1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"52PD",style:"gzmtr"},{filename:"km2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"52PD",style:"gzmtr"},{filename:"km3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"52PD",style:"gzmtr"},{filename:"km4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"52PD",style:"gzmtr"},{filename:"km5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"52PD",style:"gzmtr"},{filename:"km6",name:{en:"Line 6","zh-Hans":"6\u53F7\u7EBF","zh-Hant":"6\u865F\u7DDA"},uploadBy:"52PD",style:"gzmtr"}],jn=[{filename:"klMonorail",name:{en:"KL Monorail",ms:"KL Monorail","zh-Hans":"\u5409\u9686\u5761\u5355\u8F68","zh-Hant":"\u5409\u9686\u5761\u55AE\u8ECC"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"lrtAmpang",name:{en:"Ampang Line",ms:"Laluan Ampang","zh-Hans":"\u5B89\u90A6\u7EBF","zh-Hant":"\u5B89\u90A6\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"lrtKelanaJaya",name:{en:"Kelana Jaya Line",ms:"Laluan Kelana Jaya","zh-Hans":"\u683C\u62C9\u90A3\u518D\u4E5F\u7EBF","zh-Hant":"\u683C\u62C9\u90A3\u518D\u4E5F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"lrtSriPataling",name:{en:"Sri Pataling Line",ms:"Laluan Sri Pataling","zh-Hans":"\u5927\u57CE\u5821\u7EBF","zh-Hant":"\u5927\u57CE\u5821\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"mrtKajang",name:{en:"Kajang Line",ms:"Laluan Kajang","zh-Hans":"\u52A0\u5F71\u7EBF","zh-Hant":"\u52A0\u5F71\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"}],Bn=[{filename:"orange",name:{en:"Orange Line",ur:"\u0627\u0648\u0631\u0646\u062C \u0644\u0627\u0626\u0646","zh-Hans":"\u6A59\u7EBF","zh-Hant":"\u6A59\u7DDA"},uploadBy:"Dingdong2334",style:"gzmtr"}],Hn=[{filename:"taipa",name:{en:"Taipa Line",pt:"Linha Taipa","zh-Hans":"\u6C39\u4ED4\u7EBF","zh-Hant":"\u6C39\u4ED4\u7DDA"},uploadBy:"wongchito",style:"mtr"}],Fn=[{filename:"nb1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"feitongxiaok",style:"shmetro"},{filename:"nb2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"feitongxiaok",style:"shmetro"},{filename:"nb3",name:{en:"Line 3/Ningbo-Fenghua Intercity Railway","zh-Hans":"3\u53F7\u7EBF/\u5B81\u5949\u57CE\u9645","zh-Hant":"3\u865F\u7DDA/\u5BE7\u5949\u57CE\u969B"},uploadBy:"feitongxiaok",style:"shmetro"},{filename:"nb4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"feitongxiaok",style:"shmetro"},{filename:"nb5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"feitongxiaok",style:"shmetro"}],Vn=[{filename:"nj1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"linchen1965",style:"mtr"},{filename:"nj2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"linchen1965",style:"mtr"},{filename:"nj3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"linchen1965",style:"mtr"},{filename:"nj4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"linchen1965",style:"mtr"},{filename:"nj10",name:{en:"Line 10","zh-Hans":"10\u53F7\u7EBF","zh-Hant":"10\u865F\u7DDA"},uploadBy:"linchen1965",style:"mtr"}],Mn=[{filename:"qd2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"qd3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"qd8",name:{en:"Line 8","zh-Hans":"8\u53F7\u7EBF","zh-Hant":"8\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"qd11",name:{en:"Line 11","zh-Hans":"11\u53F7\u7EBF","zh-Hant":"11\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"qd13",name:{en:"Line 13","zh-Hans":"13\u53F7\u7EBF","zh-Hant":"13\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"}],Nn=[{filename:"sp1",name:{en:"Line 1",pt:"Linha 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp2",name:{en:"Line 2",pt:"Linha 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp3",name:{en:"Line 3",pt:"Linha 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp4",name:{en:"Line 4",pt:"Linha 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp5",name:{en:"Line 5",pt:"Linha 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp7",name:{en:"Line 7",pt:"Linha 7","zh-Hans":"7\u53F7\u7EBF","zh-Hant":"7\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp8",name:{en:"Line 8",pt:"Linha 8","zh-Hans":"8\u53F7\u7EBF","zh-Hant":"8\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp9",name:{en:"Line 9",pt:"Linha 9","zh-Hans":"9\u53F7\u7EBF","zh-Hant":"9\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp10",name:{en:"Line 10",pt:"Linha 10","zh-Hans":"10\u53F7\u7EBF","zh-Hant":"10\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp11",name:{en:"Line 11",pt:"Linha 11","zh-Hans":"11\u53F7\u7EBF","zh-Hant":"11\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp12",name:{en:"Line 12",pt:"Linha 12","zh-Hans":"12\u53F7\u7EBF","zh-Hant":"12\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp13",name:{en:"Line 13",pt:"Linha 13","zh-Hans":"13\u53F7\u7EBF","zh-Hant":"13\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sp15",name:{en:"Line 15",pt:"Linha 15","zh-Hans":"15\u53F7\u7EBF","zh-Hant":"15\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"}],Un=[{filename:"l3",name:{en:"Line 3",ko:"3\uD638\uC120","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"l7",name:{en:"Line 7",ko:"7\uD638\uC120","zh-Hans":"7\u53F7\u7EBF","zh-Hant":"7\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"l8",name:{en:"Line 8",ko:"8\uD638\uC120","zh-Hans":"8\u53F7\u7EBF","zh-Hant":"8\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"l9",name:{en:"Line 9",ko:"9\uD638\uC120","zh-Hans":"9\u53F7\u7EBF","zh-Hant":"9\u865F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"gyeonggang",name:{en:"Gyeonggang Line",ko:"\uACBD\uAC15\uC120","zh-Hans":"\u4EAC\u6C5F\u7EBF","zh-Hant":"\u4EAC\u6C5F\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"suinbundang",name:{en:"Suin-Bundang Line",ko:"\uC218\uC778\xB7\uBD84\uB2F9\uC120","zh-Hans":"\u6C34\u4EC1\xB7\u76C6\u5510\u7EBF","zh-Hant":"\u6C34\u4EC1\xB7\u76C6\u5510\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"sillim",name:{en:"Sillim Line",ko:"\uC2E0\uB9BC\uC120","zh-Hans":"\u65B0\u6797\u7EBF","zh-Hant":"\u65B0\u6797\u7DDA"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"everline",name:{en:"EverLine",ko:"\uC5D0\uBC84\uB77C\uC778","zh-Hans":"\u9F99\u4EC1\u8F7B\u7535\u94C1","zh-Hant":"\u9F8D\u4EC1\u8F15\u96FB\u9435"},uploadBy:"linchen1965",style:"gzmtr"},{filename:"gimpogoldline",name:{en:"Gimpo Goldline",ko:"\uAE40\uD3EC\uACE8\uB4DC\uB77C\uC778","zh-Hans":"\u91D1\u6D66\u90FD\u5E02\u94C1\u9053","zh-Hant":"\u91D1\u6D66\u90FD\u5E02\u9435\u9053"},uploadBy:"linchen1965",style:"gzmtr"}],Wn=[{filename:"sz1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},style:"mtr"},{filename:"sz2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"Dingdong2334",style:"mtr"},{filename:"sz3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},style:"mtr"},{filename:"sz4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},style:"mtr"},{filename:"sz8",name:{en:"Line 8","zh-Hans":"8\u53F7\u7EBF","zh-Hant":"8\u865F\u7DDA"},uploadBy:"Dingdong2334",style:"mtr"}],Zn=[{filename:"ttc1",name:{en:"Line 1 Yonge-University",fr:"Ligne 1 Yonge-University","zh-Hans":"1 \u592E\u8857\uFF0D\u5927\u5B66\u7EBF","zh-Hant":"1 \u592E\u8857\uFF0D\u5927\u5B78\u7DDA"},uploadBy:"52PD",style:"mtr"},{filename:"ttc2",name:{en:"Line 2 Bloor-Danforth",fr:"Ligne 2 Bloor-Danforth","zh-Hans":"2 \u5E03\u9C81\u4E9A\uFF0D\u4E39\u4F5B\u7EBF","zh-Hant":"2 \u5E03\u9B6F\u4E9E\uFF0D\u4E39\u4F5B\u7DDA"},uploadBy:"52PD",style:"mtr"},{filename:"ttc3",name:{en:"Line 3 Scarborough",fr:"Ligne 3 Scarborough","zh-Hans":"3 \u58EB\u5609\u5821\u8F7B\u94C1","zh-Hant":"3 \u58EB\u5609\u5821\u8F15\u9435"},uploadBy:"52PD",style:"mtr"},{filename:"ttc4",name:{en:"Line 4 Sheppard",fr:"Ligne 4 Sheppard","zh-Hans":"4 \u96EA\u67CF\u7EBF","zh-Hant":"4 \u96EA\u67CF\u7DDA"},uploadBy:"52PD",style:"mtr"}],Gn=[{filename:"zz1",name:{en:"Line 1","zh-Hans":"1\u53F7\u7EBF","zh-Hant":"1\u865F\u7DDA"},uploadBy:"C1P918R",style:"gzmtr"},{filename:"zz2",name:{en:"Line 2","zh-Hans":"2\u53F7\u7EBF","zh-Hant":"2\u865F\u7DDA"},uploadBy:"C1P918R",style:"gzmtr"},{filename:"zz3",name:{en:"Line 3","zh-Hans":"3\u53F7\u7EBF","zh-Hant":"3\u865F\u7DDA"},uploadBy:"C1P918R",style:"gzmtr"},{filename:"zz4",name:{en:"Line 4","zh-Hans":"4\u53F7\u7EBF","zh-Hant":"4\u865F\u7DDA"},uploadBy:"C1P918R",style:"gzmtr"},{filename:"zz5",name:{en:"Line 5","zh-Hans":"5\u53F7\u7EBF","zh-Hant":"5\u865F\u7DDA"},uploadBy:"C1P918R",style:"shmetro"},{filename:"zz6",name:{en:"Line 6","zh-Hans":"6\u53F7\u7EBF","zh-Hant":"6\u865F\u7DDA"},uploadBy:"C1P918R",style:"gzmtr"},{filename:"zz9",name:{en:"Line 9","zh-Hans":"9\u53F7\u7EBF","zh-Hant":"9\u865F\u7DDA"},uploadBy:"C1P918R",style:"gzmtr"},{filename:"zz14",name:{en:"Line 14","zh-Hans":"14\u53F7\u7EBF","zh-Hant":"14\u865F\u7DDA"},uploadBy:"C1P918R",style:"gzmtr"}],qn={basic:Ln,mtr:On,gzmtr:Pn,shmetro:kn,bjsubway:Tn,chengdumetro:Rn,crt:Dn,fmetro:In,hrbmetro:xn,kmrailtransit:Cn,kvtransit:jn,lahoremetro:Bn,mlm:Hn,nbrailtransit:Fn,njmetro:Vn,qdmetro:Mn,saopaulometro:Nn,seoulmetro:Un,szmetro:Wn,torontosubway:Zn,zzmetro:Gn},Us=Object.freeze(Object.defineProperty({__proto__:null,basic:Ln,mtr:On,gzmtr:Pn,shmetro:kn,bjsubway:Tn,chengdumetro:Rn,crt:Dn,fmetro:In,hrbmetro:xn,kmrailtransit:Cn,kvtransit:jn,lahoremetro:Bn,mlm:Hn,nbrailtransit:Fn,njmetro:Vn,qdmetro:Mn,saopaulometro:Nn,seoulmetro:Un,szmetro:Wn,torontosubway:Zn,zzmetro:Gn,default:qn},Symbol.toStringTag,{value:"Module"}));var rn;(function(r){r.MTR="mtr",r.GZMTR="gzmtr",r.SHMetro="shmetro"})(rn||(rn={}));var an;(function(r){r.Azerbaijani="az",r.Arabic="ar",r.Catalan="ca",r.Chinese="zh",r.ChineseCN="zh-CN",r.ChineseSimp="zh-Hans",r.ChineseTrad="zh-Hant",r.ChineseHK="zh-HK",r.ChineseTW="zh-TW",r.English="en",r.French="fr",r.Gaelic="ga",r.German="de",r.Hindi="hi",r.Japanese="ja",r.Korean="ko",r.Malay="ms",r.Norwegian="no",r.Spanish="es",r.Persian="fa",r.Portuguese="pt",r.Russian="ru",r.Swedish="sv",r.Turkish="tr"})(an||(an={}));const At=An,Ws=qn,Zs=Object.assign({"/node_modules/@railmapgen/rmg-templates-resources/templates/basic/coline.json":()=>v(()=>import("./coline.fd00c425.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/basic/default.json":()=>v(()=>import("./default.78213e74.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/basic/loop.json":()=>v(()=>import("./loop.51db2cfb.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj1.json":()=>v(()=>import("./bj1.2466a7db.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj10.json":()=>v(()=>import("./bj10.6678cda8.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj11.json":()=>v(()=>import("./bj11.6b45c571.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj13.json":()=>v(()=>import("./bj13.c463d0a9.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj14.json":()=>v(()=>import("./bj14.6e5f343f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj16.json":()=>v(()=>import("./bj16.87954626.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj17.json":()=>v(()=>import("./bj17.2805ae2b.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj19.json":()=>v(()=>import("./bj19.90c0cdbf.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj2.json":()=>v(()=>import("./bj2.32e28eb2.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj4.json":()=>v(()=>import("./bj4.bd03b598.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj5.json":()=>v(()=>import("./bj5.9b01017e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj6.json":()=>v(()=>import("./bj6.638aab97.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj7.json":()=>v(()=>import("./bj7.f5d3f455.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj8.json":()=>v(()=>import("./bj8.c95ff4d9.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/bj9.json":()=>v(()=>import("./bj9.e61b0953.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/dae.json":()=>v(()=>import("./dae.9d85e572.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/s1l.json":()=>v(()=>import("./s1l.53cf256e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/t1l.json":()=>v(()=>import("./t1l.b8b00dbf.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/xjl.json":()=>v(()=>import("./xjl.97353a8c.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/bjsubway/yzl.json":()=>v(()=>import("./yzl.ea54b912.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/chengdumetro/cd1.json":()=>v(()=>import("./cd1.c326da14.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/chengdumetro/cd2.json":()=>v(()=>import("./cd2.3cdbcf13.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/chengdumetro/cd5.json":()=>v(()=>import("./cd5.ba4e62fc.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/chengdumetro/cd6.json":()=>v(()=>import("./cd6.d3b08971.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/company-config.json":()=>v(()=>Promise.resolve().then(()=>Ns),void 0),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cjt.json":()=>v(()=>import("./cjt.dfb6cd1e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq0.json":()=>v(()=>import("./cq0.fcb32406.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq1.json":()=>v(()=>import("./cq1.43731e89.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq10.json":()=>v(()=>import("./cq10.74089a44.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq2.json":()=>v(()=>import("./cq2.ea0ea4ba.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq3.json":()=>v(()=>import("./cq3.fc2a5152.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq4.json":()=>v(()=>import("./cq4.53da1fdb.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq5.json":()=>v(()=>import("./cq5.f45ed78d.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq6.json":()=>v(()=>import("./cq6.af1ba3e7.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cq9.json":()=>v(()=>import("./cq9.24a420b9.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/crt/cqe.json":()=>v(()=>import("./cqe.7b3a9c6a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/fmetro/fs2.json":()=>v(()=>import("./fs2.750a5500.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/fmetro/tgm1.json":()=>v(()=>import("./tgm1.70f75471.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/fmetro/tnh1.json":()=>v(()=>import("./tnh1.b6cc00ae.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/apm.json":()=>v(()=>import("./apm.3809a4af.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gf.json":()=>v(()=>import("./gf.1625dc86.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz1.json":()=>v(()=>import("./gz1.0f016e67.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz13.json":()=>v(()=>import("./gz13.d577006e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz14.json":()=>v(()=>import("./gz14.e5fedab8.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz18.json":()=>v(()=>import("./gz18.f48ff612.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz2.json":()=>v(()=>import("./gz2.17e68c49.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz21.json":()=>v(()=>import("./gz21.8bd4f1e6.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz22.json":()=>v(()=>import("./gz22.3b80e2a1.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz3.json":()=>v(()=>import("./gz3.999d61e9.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz4.json":()=>v(()=>import("./gz4.d3236e8a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz5.json":()=>v(()=>import("./gz5.ef6c8772.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz6.json":()=>v(()=>import("./gz6.fc9b1167.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz7.json":()=>v(()=>import("./gz7.45759b5f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz8.json":()=>v(()=>import("./gz8.cae32a78.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/gz9.json":()=>v(()=>import("./gz9.9ec45e1f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/thp1.json":()=>v(()=>import("./thp1.e12a2a7f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/gzmtr/thz1.json":()=>v(()=>import("./thz1.7a618f60.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/hrbmetro/hrb1.json":()=>v(()=>import("./hrb1.2662903b.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/hrbmetro/hrb2.json":()=>v(()=>import("./hrb2.6506717a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/hrbmetro/hrb3.json":()=>v(()=>import("./hrb3.e4475b3f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kmrailtransit/km1.json":()=>v(()=>import("./km1.8a1abd9a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kmrailtransit/km2.json":()=>v(()=>import("./km2.ecd55c39.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kmrailtransit/km3.json":()=>v(()=>import("./km3.cad71e01.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kmrailtransit/km4.json":()=>v(()=>import("./km4.b0d1d937.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kmrailtransit/km5.json":()=>v(()=>import("./km5.945729bb.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kmrailtransit/km6.json":()=>v(()=>import("./km6.e7a8ee77.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kvtransit/klMonorail.json":()=>v(()=>import("./klMonorail.4e2a011e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kvtransit/lrtAmpang.json":()=>v(()=>import("./lrtAmpang.3ebc3aea.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kvtransit/lrtKelanaJaya.json":()=>v(()=>import("./lrtKelanaJaya.6a8e6b0c.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kvtransit/lrtSriPataling.json":()=>v(()=>import("./lrtSriPataling.7381826c.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/kvtransit/mrtKajang.json":()=>v(()=>import("./mrtKajang.722eb73b.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/lahoremetro/orange.json":()=>v(()=>import("./orange.afd5ddb1.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mlm/taipa.json":()=>v(()=>import("./taipa.6279a2d1.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/ael.json":()=>v(()=>import("./ael.2aaab763.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/drl.json":()=>v(()=>import("./drl.5a897f32.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/eal.json":()=>v(()=>import("./eal.6d7847dc.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/isl.json":()=>v(()=>import("./isl.d8f8c426.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/ktl.json":()=>v(()=>import("./ktl.0d16e781.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/sile.json":()=>v(()=>import("./sile.68f53455.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/tcl.json":()=>v(()=>import("./tcl.e7e3a3e4.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/tkl.json":()=>v(()=>import("./tkl.29b12185.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/tml.json":()=>v(()=>import("./tml.5a8f7c1c.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/mtr/twl.json":()=>v(()=>import("./twl.441e9037.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/nbrailtransit/nb1.json":()=>v(()=>import("./nb1.a15b5733.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/nbrailtransit/nb2.json":()=>v(()=>import("./nb2.42f8a197.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/nbrailtransit/nb3.json":()=>v(()=>import("./nb3.f214dcdb.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/nbrailtransit/nb4.json":()=>v(()=>import("./nb4.46ddeb36.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/nbrailtransit/nb5.json":()=>v(()=>import("./nb5.7de77a54.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/njmetro/nj1.json":()=>v(()=>import("./nj1.10c0f1cc.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/njmetro/nj10.json":()=>v(()=>import("./nj10.6099b621.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/njmetro/nj2.json":()=>v(()=>import("./nj2.eabf0f6a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/njmetro/nj3.json":()=>v(()=>import("./nj3.eebc0c94.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/njmetro/nj4.json":()=>v(()=>import("./nj4.11a5a928.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/qdmetro/qd11.json":()=>v(()=>import("./qd11.9b204ebb.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/qdmetro/qd13.json":()=>v(()=>import("./qd13.890044ba.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/qdmetro/qd2.json":()=>v(()=>import("./qd2.573f1363.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/qdmetro/qd3.json":()=>v(()=>import("./qd3.c1c8404d.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/qdmetro/qd8.json":()=>v(()=>import("./qd8.b254cb2b.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp1.json":()=>v(()=>import("./sp1.d0e189e8.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp10.json":()=>v(()=>import("./sp10.6c5bd197.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp11.json":()=>v(()=>import("./sp11.29398327.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp12.json":()=>v(()=>import("./sp12.a9109147.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp13.json":()=>v(()=>import("./sp13.ed71d454.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp15.json":()=>v(()=>import("./sp15.53e15633.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp2.json":()=>v(()=>import("./sp2.e7a71bd1.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp3.json":()=>v(()=>import("./sp3.4b439fd0.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp4.json":()=>v(()=>import("./sp4.d28c9e3a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp5.json":()=>v(()=>import("./sp5.4c23bfea.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp7.json":()=>v(()=>import("./sp7.fdad65e5.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp8.json":()=>v(()=>import("./sp8.e64c74b8.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/saopaulometro/sp9.json":()=>v(()=>import("./sp9.b44f79a0.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/everline.json":()=>v(()=>import("./everline.50c09190.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/gimpogoldline.json":()=>v(()=>import("./gimpogoldline.e33e1c01.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/gyeonggang.json":()=>v(()=>import("./gyeonggang.a9d3ee1b.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/l3.json":()=>v(()=>import("./l3.071d2068.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/l7.json":()=>v(()=>import("./l7.84d016b7.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/l8.json":()=>v(()=>import("./l8.e679960b.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/l9.json":()=>v(()=>import("./l9.0019bf8e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/sillim.json":()=>v(()=>import("./sillim.06ff5ffb.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/seoulmetro/suinbundang.json":()=>v(()=>import("./suinbundang.42a36784.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh1.json":()=>v(()=>import("./sh1.43931b14.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh10.json":()=>v(()=>import("./sh10.04b48210.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh11.json":()=>v(()=>import("./sh11.1b81d1df.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh12.json":()=>v(()=>import("./sh12.af328ae0.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh13.json":()=>v(()=>import("./sh13.61eec474.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh14.json":()=>v(()=>import("./sh14.84240c00.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh15.json":()=>v(()=>import("./sh15.0a805a1f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh16.json":()=>v(()=>import("./sh16.7bd13cd5.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh17.json":()=>v(()=>import("./sh17.63c41cda.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh18.json":()=>v(()=>import("./sh18.667e6352.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh2.json":()=>v(()=>import("./sh2.e80badd2.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh3&4.json":()=>v(()=>import("./sh3_4.0ad37965.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh3.json":()=>v(()=>import("./sh3.bc887bd5.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh4.json":()=>v(()=>import("./sh4.df0d9f68.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh5.json":()=>v(()=>import("./sh5.b9240c01.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh6.json":()=>v(()=>import("./sh6.cd30c916.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh7.json":()=>v(()=>import("./sh7.e930f5a6.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh8.json":()=>v(()=>import("./sh8.00db7853.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/shmetro/sh9.json":()=>v(()=>import("./sh9.2f918e42.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/szmetro/sz1.json":()=>v(()=>import("./sz1.02987d87.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/szmetro/sz2.json":()=>v(()=>import("./sz2.8d0d6b4a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/szmetro/sz3.json":()=>v(()=>import("./sz3.2f8fe9c3.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/szmetro/sz4.json":()=>v(()=>import("./sz4.c4f78885.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/szmetro/sz8.json":()=>v(()=>import("./sz8.e0cb8bf6.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/template-configs.json":()=>v(()=>Promise.resolve().then(()=>Us),void 0),"/node_modules/@railmapgen/rmg-templates-resources/templates/torontosubway/ttc1.json":()=>v(()=>import("./ttc1.f188508f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/torontosubway/ttc2.json":()=>v(()=>import("./ttc2.e788a2de.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/torontosubway/ttc3.json":()=>v(()=>import("./ttc3.dc8017db.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/torontosubway/ttc4.json":()=>v(()=>import("./ttc4.d879381a.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz1.json":()=>v(()=>import("./zz1.a042b7d4.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz14.json":()=>v(()=>import("./zz14.c7580703.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz2.json":()=>v(()=>import("./zz2.5b302e16.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz3.json":()=>v(()=>import("./zz3.d9c35c2e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz4.json":()=>v(()=>import("./zz4.8ce6d977.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz5.json":()=>v(()=>import("./zz5.6991d94e.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz6.json":()=>v(()=>import("./zz6.55fd0c1f.js"),[]),"/node_modules/@railmapgen/rmg-templates-resources/templates/zzmetro/zz9.json":()=>v(()=>import("./zz9.e9a66a36.js"),[])});function Gs(r){const{isOpen:h,onClose:t,onOpenParam:l}=r,{t:o}=oe(),n=pe(),a=async(e,s,d)=>{n(Ea());const f=await Zs[`/node_modules/@railmapgen/rmg-templates-resources/templates/${e}/${s}.json`]();l(f.default,d),he.event(be.OPEN_TEMPLATE,{company:e,filename:s}),n(_n())};return q(je,{isOpen:h,onClose:t,children:[z(Be,{}),q(He,{children:[z(Fe,{children:o("TemplateModal.title")}),z(Ve,{}),z(Me,{children:q(Rt,{isLazy:!0,size:"sm",orientation:"vertical",colorScheme:"primary",children:[z(Dt,{maxW:150,children:At.map(e=>z(Je,{children:en(e.name)},e.id))}),z(It,{maxW:250,children:Object.entries(Ws).sort((e,s)=>At.findIndex(d=>d.id===e[0])-At.findIndex(d=>d.id===s[0])).map(([e,s])=>z(pt,{as:Pe,flexDirection:"column",py:0,px:1,children:s.map(d=>{var p;const f=en(d.name);return z(cn,{variant:"ghost",size:"sm",primaryText:f,secondaryText:o("by")+": "+((p=d.uploadBy)!=null?p:"Unknown"),onClick:()=>a(e,d.filename,f)},d.filename)})},e))})]})})]})]})}const qs={flexWrap:"wrap",flex:"1 1 0%",minW:120,"& button":{w:"100%",m:1}};function Js(r){const{selectedParam:h,disableNew:t,onError:l}=r,{t:o}=oe(),[,n]=bt(),[a,e]=Q.exports.useState(!1),s=Q.exports.useRef(null),d=Q.exports.useRef(null);Q.exports.useEffect(()=>{var g;h&&((g=d.current)==null||g.focus())},[h]);const f=()=>{const g=Ts(ee.MTR,he.getLanguage()),u=St(JSON.stringify(g));n({project:u}),he.event(be.NEW_PARAM,{})},p=(g,u)=>{const b=St(JSON.stringify(g),u);n({project:b})},_=async g=>{var b;const u=(b=g.target.files)==null?void 0:b[0];console.log("handleImportProject():: received file",u);try{if(!u)l(o("OpenActions.unknownError"));else if(u.type!=="application/json")l(o("OpenActions.invalidType"));else{const y=await hs(u),S=St(y);n({project:S}),he.event(be.UPLOAD_PARAM,{})}}catch(y){l(o("OpenActions.unknownError")),console.error("handleImportProject():: Unknown error occurred while parsing the uploaded file",y)}g.target.value=""},m=()=>{h&&(n({project:h}),he.event(be.OPEN_PARAM,{}))};return q(Pe,{sx:qs,children:[z(ue,{leftIcon:z(Ze,{}),onClick:f,isDisabled:t,children:o("Blank project")}),z(ue,{leftIcon:z(Lr,{}),onClick:()=>e(!0),isDisabled:t,children:o("Open template")}),z(ue,{leftIcon:z(Or,{}),onClick:()=>{var g;return(g=s.current)==null?void 0:g.click()},isDisabled:t,children:o("Import project")}),z(ue,{ref:d,colorScheme:"primary",leftIcon:z(Pr,{}),onClick:m,isDisabled:h===void 0,children:o("Open selected")}),z("input",{ref:s,type:"file",accept:".json",hidden:!0,onChange:_,"data-testid":"file-upload"}),z(Gs,{isOpen:a,onClose:()=>e(!1),onOpenParam:p})]})}const $s={flexDirection:"column",p:2,h3:{m:2},"& > div":{m:2,flexWrap:"wrap",flexDirection:{base:"column",md:"row"}}};function Ys(){const{t:r}=oe(),[h]=bt(),t=h.get("project"),[l,o]=Q.exports.useState([]),[n,a]=Q.exports.useState(),e=Q.exports.useRef(null),s=un();Q.exports.useEffect(()=>{o(wt())},[]),kr({ref:e,handler:()=>a(void 0)});const d=_=>{const{id:m,name:g,lastModified:u}=_;m&&(window.localStorage.setItem(at.PARAM_CONFIG_BY_ID+m,JSON.stringify({name:g,lastModified:u})),a(void 0),o(wt()),he.event(be.UPDATE_PARAM_CONFIG,{}))},f=_=>{window.localStorage.removeItem(at.PARAM_BY_ID+_),window.localStorage.removeItem(at.PARAM_CONFIG_BY_ID+_),a(void 0),o(wt()),he.event(be.REMOVE_PARAM,{})},p=_=>{s({description:_,status:"error",duration:1e4,isClosable:!0})};return q(dn,{justifyContent:"center",children:[t&&z(gt,{isIndeterminate:!0}),z(Tr,{children:q(We,{sx:$s,children:[z(ze,{as:"h3",size:"lg",children:r("Saved projects")}),q(Pe,{ref:e,children:[z(Ms,{paramRegistry:l,selectedParam:n,onParamSelect:a,onParamRemove:f,onParamUpdate:d}),z(Js,{selectedParam:n,disableNew:l.length>=10,onError:p})]})]})})]})}const Ks=r=>h=>{let t={id:r};const l=window.localStorage.getItem(at.PARAM_CONFIG_BY_ID+r);l===null?console.warn(`Config for paramID=${r} does not exist in localStorage`):t={...t,...JSON.parse(l)};try{const o=window.localStorage.getItem(at.PARAM_BY_ID+r);if(o===null)return console.warn(`Param ID=${r} does not exist in localStorage`),!1;{const n=zs(JSON.parse(o));return h(fn(t)),h(za(n)),!0}}catch(o){return console.warn("Failed to parse param.",o),!1}};function Xs(){const{t:r}=oe(),h=pe(),{paramConfig:t}=ne(d=>d.app),[l,o]=bt(),n=l.get("project"),[a,e]=Q.exports.useState(!1),s=un();return Q.exports.useEffect(()=>{console.log("searchParam: project="+n),n?(s.closeAll(),n===(t==null?void 0:t.id)?(console.log("AppRouter:: Store param ID matches URL param ID. Rendering app view..."),e(!0)):(console.log(`AppRouter:: Loading app view for param (ID=${n})...`),h(Ks(n))?e(!0):(console.log(`AppRouter:: Failed to read param (ID=${n}). Rendering param selector view...`),s({description:r("Project selected is invalid or corrupted."),status:"error",duration:1e4,isClosable:!0}),o({})))):(console.log("AppRouter:: No URL param ID provided. Rendering param selector view..."),e(!1))},[n]),a?z(Hs,{}):z(Ys,{})}const ni=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"}));export{ni as a,ti as g,Qe as i,Ss as w};
