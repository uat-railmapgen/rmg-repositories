import{u as h,aJ as E,o as s,r as o,j as t,aR as R,ai as S,q as x,B as p}from"./vendor-66bce30e.js";import{P as _}from"./param-selector-25d3c504.js";import{E as c,am as f,an as j}from"./index-63df07eb.js";const A="rmg-bridge--",L={flexDirection:"column",h:"100%","& .param-selector--inner":{h:"100%"},"& .app-clip-actions button":{flex:1}};function N(){const{t:l}=h(),[m]=E(),P=m.get("parentId"),r=m.get("parentComponent"),[u,d]=s.useState([]),[n,g]=s.useState(),a=s.useRef();s.useEffect(()=>(a.current=new BroadcastChannel(A+P),o.event(c.APP_CLIP_VIEW_OPENED,{parentComponent:r}),d(f()),()=>{var e;(e=a.current)==null||e.close()}),[]);const C=()=>{var i;const e=window.localStorage.getItem(j.PARAM_CONFIG_BY_ID+n);(i=a.current)==null||i.postMessage({event:"IMPORT",data:e?JSON.parse(e):null}),o.event(c.APP_CLIP_VIEW_IMPORT,{parentComponent:r})},I=()=>{var e;(e=a.current)==null||e.postMessage({event:"CLOSE"}),o.event(c.APP_CLIP_VIEW_CLOSED,{parentComponent:r})};return t.jsx(R,{children:t.jsxs(S,{sx:L,children:[t.jsx(_,{paramRegistry:u,selectedParam:n,onParamSelect:g}),t.jsxs(x,{className:"app-clip-actions",children:[t.jsx(p,{onClick:I,children:l("Close")}),t.jsx(p,{colorScheme:"primary",isDisabled:!n,onClick:C,children:l("Import")})]})]})})}export{N as default};
