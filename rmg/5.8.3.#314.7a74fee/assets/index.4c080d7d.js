import{R as Ge,i as v,a as xe,r as _,L as f,c as He,C as We,M as $e,b as Ue,d as Ve,e as je,u as Ye,f as Je,g as q,h as K,j as c,k as Xe,l as i,m as qe,n as Ke,o as Ze,p as Qe,q as et,H as b,O as tt,s as w,t as m,I as g,v as S,V as nt,T as R,A as D,w as C,x as y,F as ot,y as at,B as rt,z as F,D as it,E as st,G as x,J as lt,K as ct,N as ut,P as H,Q as dt,S as ht,U as I,W as pt,X as W,Y as mt,Z as gt,_ as St,$ as ft,a0 as Et,a1 as At,a2 as $,a3 as _t,a4 as yt,a5 as Tt,a6 as Z,a7 as wt}from"./vendor.f6e5a06d.js";function Mo(){import("data:text/javascript,")}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();const Ct={editStyle:"Edit style"},bt={downloads:"Downloads",configFile:"Configuration file",images:"Images"},Nt={invalidType:"Invalid file type! Only file in JSON format is accepted.",unknownError:"Unknown error occurred while parsing the uploaded file! Please try again."},vt={title:"Download images",canvas:"Canvas",transparent:"Transparent background",showBorder:"Display border",scale:"Scale",format:"Format",pleaseSelect:"Please select...",png:"PNG",svg:"SVG (Web use)",downloadOne:"Download current station",downloadAll:"Download all stations"},Pt={title:"Select a template"},Rt={main:"Main line",branch:"Branch",external:"External line",addStation:"Add station",editLine:"Edit line section"},Dt={num:"Station code",zhName:"Chinese name",enName:"English name",interchange:"Interchanges",coline:"Tracks sharing"},Bt={header:"Edit style",layout:{title:"Layout",canvasHeight:"Canvas height",destinationWidth:"Destination width",runinWidth:"Running-in width",railmapWidth:"Rail map width",indoorWidth:"Indoor width",verticalPosition:"Vertical position",branchSpacing:"Branch spacing",branchSpacingLoop:"Vertical padding",padding:"Rail map padding",directionGzX:"Direction horizontal position",directionGzY:"Direction vertical position"},design:{title:"Design",zhLineName:"Chinese line name",enLineName:"English line name",lineNum:"Line code",direction:"Train direction",left:"Left",right:"Right",platformNum:"Platform number",psdNum:"Platform door number",panelType:"Panel type",gz1:"Line 1",gz28:"Line 2/8 (Panasonic)",gz2otis:"Line 2/8 (Otis)",gz3:"Line 3",gz1421:"2017 style",gz6:"2010 style",gzgf:"2016 style",gz4:"Line 4",gz5:"Line 5",sh:"Default",sh2020:"2020 (Beta)",nameDisplay:"Display station names",alternatively:"Alternatively",onOneSide:"On on side",flip:"Flip position",legacyDestination:"Display line name on direction sign",overrideTerminal:"Override terminal",terminalZhName:"Terminal Chinese name",terminalEnName:"Terminal English name"},note:{title:"Notes",add:"Add note",zhNote:"Chinese note",enNote:"English note",positionX:"Horizontal position",positionY:"Vertical position",border:"Display border",remove:"Remove note"},loop:{title:"Loop",isLoop:"Treat as loop line",isBank:"Display loop as a parallelogram in Rail map",leftRightFactor:"Left and right factor",bottomFactor:"Bottom factor"}},Ot={header:"Edit line section",branch:{title:"Branch"},coline:{title:"Tracks sharing",add:"Add sharing track"},action:{title:"Actions",autoNum:"Auto numbering stations",reverse:"Rotate entire line",flip:"Flip entire line"}},It={info:{title:"Station info",num:"Station code",zhName:"Chinese name",enName:"English name",zhSecondary:"Chinese secondary",enSecondary:"English secondary"},interchange:{title:"Interchanges",within:"Within-station interchange",outStation:"Out-of-station interchange",outSystem:"Out-of-system interchange",addGroup:"Add interchange group",noInterchanges:"No interchanges",zhName:"Chinese name",enName:"English name",add:"Add interchange",copy:"Copy interchange",remove:"Remove interchange"},branch:{type:"Type",through:"Through",nonThrough:"Non-through",firstStation:"First station",position:"Position",upper:"Upper",lower:"Lower"},more:{title:"More settings",service:"Train services",local:"Local",express:"Express",direct:"Direct",facility:"Nearby facility",none:"None",airport:"Airport",hsr:"High speed rail",railway:"National rail",disney:"Disneyland resort",pivot:"Pivot station on loop line",oneLine:"Display Chinese and English in one line",intPadding:"Padding between station name and interchange box",intPaddingApplyGlobal:"Apply current padding to all stations",apply:"Apply"},footer:{current:"Set as current",remove:"Remove"}},Mt={title:"Select a colour",example:"Example",palette:"From palette",custom:"Customise",city:"City theme",line:"Line theme",bg:"Background colour",fg:"Foreground colour",white:"White",black:"Black",seeAll:"See full library in "},Ft={title:"Add station",where:"Target location",main:"Main line",branch:"Branch",external:"External line",preposition:"Preposition",before:"Before",after:"After",pivot:"Pivot station",pleaseSelect:"Please select...",error:"Failed to add station. Please check your selections and try again."},Lt={title:"Create a new branch or external line",where:"Target location",new:"Create a new branch",ext:"Create an external line",from:"Between",to:"and",pleaseSelect:"Please select...",position:"Position",upper:"Upper",lower:"Lower"},zt={title:"Station auto numbering",where:"Target location",main:"Main line",branch:"Branch",external:"External line",from:"Starting index",maxLength:"Number of digits",sort:"Sorting",asc:"Ascending",desc:"Descending"},kt={all:"All",destination:"Destination",runin:"Running-in",railmap:"Rail map",indoor:"Indoor"},Gt={mtr:"MTR",gzmtr:"Guangzhou Metro",shmetro:"Shanghai Metro"},xt="Want to freely drag stations? Try our latest Rail Map Painter and design your own rail map now!",Ht={HeaderActions:Ct,DownloadActions:bt,OpenActions:Nt,DownloadModal:vt,TemplateModal:Pt,GridTabs:Rt,StationAgGrid:Dt,StyleSidePanel:Bt,BranchSidePanel:Ot,StationSidePanel:It,ColourModal:Mt,AddStationModal:Ft,NewBranchModal:Lt,AutoNumModal:zt,CanvasType:kt,RmgStyle:Gt,rmpPromotion:xt},Wt={popoverHeader:"\u4F60\u6B63\u5728\u6D4F\u89C8<1>{{environment}}</1>\u73AF\u5883\uFF01",popoverBody:"\u8FD9\u662F\u4E00\u4E2A\u6D4B\u8BD5\u73AF\u5883\uFF0C\u6211\u4EEC\u65E0\u6CD5\u4FDD\u8BC1\u5176\u7A33\u5B9A\u6027\u548C\u517C\u5BB9\u6027\u3002\u8BF7\u8FD4\u56DE<2>\u751F\u4EA7\u73AF\u5883</2>\u3002"},$t={editStyle:"\u98CE\u683C\u5316\u8BBE\u7F6E"},Ut={downloads:"\u4E0B\u8F7D",configFile:"\u914D\u7F6E\u6587\u4EF6",images:"\u56FE\u50CF"},Vt={invalidType:"\u65E0\u6548\u7684\u6587\u4EF6\u79CD\u7C7B\uFF01\u53EA\u63A5\u53D7JSON\u79CD\u7C7B\u7684\u6587\u4EF6\u3002",unknownError:"\u5BFC\u5165\u4E0A\u4F20\u7684\u6587\u4EF6\u65F6\u53D1\u751F\u9519\u8BEF\uFF01\u8BF7\u91CD\u8BD5\u3002"},jt={title:"\u4E0B\u8F7D\u56FE\u50CF",canvas:"\u753B\u9762",transparent:"\u900F\u660E\u80CC\u666F",showBorder:"\u663E\u793A\u8FB9\u6846",scale:"\u7F29\u653E\u7EA7\u522B",format:"\u6587\u4EF6\u79CD\u7C7B",pleaseSelect:"\u8BF7\u9009\u62E9...",png:"PNG\u56FE\u50CF",svg:"SVG\u56FE\u50CF\uFF08\u7F51\u9875\u7528\uFF09",downloadOne:"\u4E0B\u8F7D\u5F53\u524D\u8F66\u7AD9",downloadAll:"\u4E0B\u8F7D\u6240\u6709\u8F66\u7AD9"},Yt={title:"\u9009\u62E9\u6A21\u677F"},Jt={main:"\u4E3B\u7EBF",branch:"\u652F\u7EBF",external:"\u5916\u90E8\u8DEF\u7EBF",addStation:"\u6DFB\u52A0\u8F66\u7AD9",editLine:"\u8DEF\u7EBF\u6BB5\u8BBE\u7F6E"},Xt={num:"\u8F66\u7AD9\u7F16\u53F7",interchange:"\u6362\u4E58",coline:"\u5171\u7EBF"},qt={header:"\u98CE\u683C\u5316\u8BBE\u7F6E",layout:{title:"\u5E03\u5C40",canvasHeight:"\u753B\u9762\u9AD8\u5EA6",destinationWidth:"\u7EC8\u70B9\u7AD9\u724C\u5BBD\u5EA6",runinWidth:"\u5F53\u524D\u7AD9\u540D\u724C\u5BBD\u5EA6",railmapWidth:"\u7AD9\u53F0\u95E8\u8DEF\u7EBF\u56FE\u5BBD\u5EA6",indoorWidth:"\u8F66\u5167\u8DEF\u7EBF\u56FE\u5BBD\u5EA6",verticalPosition:"\u5782\u76F4\u65B9\u5411\u4F4D\u7F6E",branchSpacing:"\u652F\u7EBF\u95F4\u8DDD",branchSpacingLoop:"\u5782\u76F4\u8FB9\u8DDD",padding:"\u8DEF\u7EBF\u56FE\u8FB9\u8DDD",directionGzX:"\u7EC8\u70B9\u7AD9\u6C34\u5E73\u65B9\u5411\u4F4D\u7F6E",directionGzY:"\u7EC8\u70B9\u7AD9\u5782\u76F4\u65B9\u5411\u4F4D\u7F6E"},design:{title:"\u8BBE\u8BA1",zhLineName:"\u8DEF\u7EBF\u4E2D\u6587\u540D\u79F0",enLineName:"\u8DEF\u7EBF\u82F1\u6587\u540D\u79F0",lineNum:"\u8DEF\u7EBF\u7F16\u53F7",direction:"\u884C\u8F66\u65B9\u5411",left:"\u5411\u5DE6",right:"\u5411\u53F3",platformNum:"\u7AD9\u53F0\u7F16\u53F7",psdNum:"\u7AD9\u53F0\u95E8\u7F16\u53F7",panelType:"\u7AD9\u53F0\u95E8\u76D6\u677F\u6837\u5F0F",gz1:"1\u53F7\u7EBF",gz28:"2/8\u53F7\u7EBF\uFF08\u677E\u4E0B\uFF09",gz2otis:"2/8\u53F7\u7EBF\uFF08\u5965\u7684\u65AF\uFF09",gz3:"3\u53F7\u7EBF",gz1421:"2017\u6837\u5F0F",gz6:"2010\u6837\u5F0F",gzgf:"2016\u6837\u5F0F",gz4:"4\u53F7\u7EBF",gz5:"5\u53F7\u7EBF",sh:"\u9ED8\u8BA4",sh2020:"2020\u6837\u5F0F\uFF08\u9884\u89C8\u7248\uFF09",nameDisplay:"\u663E\u793A\u8F66\u7AD9\u540D\u79F0",alternatively:"\u4EA4\u9519\u663E\u793A",onOneSide:"\u540C\u4E00\u4FA7",flip:"\u7FFB\u8F6C\u4F4D\u7F6E",legacyDestination:"\u5728\u7EC8\u70B9\u7AD9\u724C\u663E\u793A\u8DEF\u7EBF\u540D\u79F0",overrideTerminal:"\u91CD\u5199\u7EC8\u70B9\u7AD9",terminalZhName:"\u7EC8\u70B9\u7AD9\u4E2D\u6587\u540D\u79F0",terminalEnName:"\u7EC8\u70B9\u7AD9\u82F1\u6587\u540D\u79F0"},note:{title:"\u5907\u6CE8",add:"\u6DFB\u52A0\u5907\u6CE8",zhNote:"\u4E2D\u6587\u5907\u6CE8",enNote:"\u82F1\u6587\u5907\u6CE8",positionX:"\u6C34\u5E73\u65B9\u5411\u4F4D\u7F6E",positionY:"\u5782\u76F4\u65B9\u5411\u4F4D\u7F6E",border:"\u663E\u793A\u8FB9\u6846",remove:"\u5220\u9664\u5907\u6CE8"},loop:{title:"\u73AF\u7EBF",isLoop:"\u89C6\u4E3A\u73AF\u7EBF",isBank:"\u5728\u7AD9\u53F0\u95E8\u8DEF\u7EBF\u56FE\u4E2D\u4EE5\u5E73\u884C\u56DB\u8FB9\u5F62\u663E\u793A\u73AF\u7EBF",leftRightFactor:"\u5DE6\u53F3\u53C2\u6570",bottomFactor:"\u5E95\u90E8\u53C2\u6570"}},Kt={header:"\u8DEF\u7EBF\u6BB5\u8BBE\u7F6E",branch:{title:"\u652F\u7EBF"},coline:{title:"\u5171\u7EBF",add:"\u6DFB\u52A0\u5171\u7EBF"},action:{title:"\u64CD\u4F5C",autoNum:"\u8F66\u7AD9\u81EA\u52A8\u7F16\u53F7",reverse:"\u65CB\u8F6C\u6574\u6761\u8DEF\u7EBF",flip:"\u7FFB\u8F6C\u6574\u6761\u8DEF\u7EBF"}},Zt={info:{title:"\u8F66\u7AD9\u8D44\u8BAF",num:"\u8F66\u7AD9\u7F16\u53F7",zhSecondary:"\u4E2D\u6587\u7B2C\u4E8C\u540D\u79F0",enSecondary:"\u82F1\u6587\u7B2C\u4E8C\u540D\u79F0"},interchange:{title:"\u6362\u4E58",within:"\u540C\u7AD9\u6362\u4E58",outStation:"\u51FA\u7AD9\u6362\u4E58",outSystem:"\u7CFB\u7EDF\u5916\u6362\u4E58",addGroup:"\u6DFB\u52A0\u6362\u4E58\u7EC4\u5408",noInterchanges:"\u975E\u6362\u4E58\u7AD9",add:"\u6DFB\u52A0\u6362\u4E58",copy:"\u590D\u5236\u6362\u4E58",remove:"\u5220\u9664\u6362\u4E58"},branch:{type:"\u7C7B\u578B",through:"\u8D2F\u901A\uFF08\u65E0\u9700\u6362\u4E58\uFF09",nonThrough:"\u975E\u8D2F\u901A\uFF08\u9700\u6362\u4E58\uFF09",firstStation:"\u9996\u7AD9",position:"\u4F4D\u7F6E",upper:"\u4E0A\u65B9",lower:"\u4E0B\u65B9"},more:{title:"\u66F4\u591A\u8BBE\u7F6E",service:"\u5217\u8F66\u7C7B\u522B",local:"\u666E\u901A\u8F66",express:"\u5FEB\u8F66",direct:"\u76F4\u8FBE\u8F66",facility:"\u9644\u8FD1\u8BBE\u65BD",none:"\u65E0",airport:"\u673A\u573A",hsr:"\u9AD8\u901F\u94C1\u8DEF",railway:"\u56FD\u5BB6\u94C1\u8DEF",disney:"\u8FEA\u58EB\u5C3C",pivot:"\u73AF\u7EBF\u4E0A\u7684\u67A2\u7EBD\u8F66\u7AD9",oneLine:"\u5728\u4E00\u884C\u5185\u5C55\u793A\u4E2D\u82F1\u6587\u7AD9\u540D",intPadding:"\u8F66\u7AD9\u540D\u4E0E\u6362\u4E58\u7EBF\u8DEF\u95F4\u7684\u95F4\u8DDD",intPaddingApplyGlobal:"\u5C06\u5F53\u524D\u7684\u95F4\u8DDD\u5E94\u7528\u5230\u6240\u6709\u8F66\u7AD9\u4E0A",apply:"\u5E94\u7528"},footer:{current:"\u8BBE\u7F6E\u4E3A\u5F53\u524D\u8F66\u7AD9",remove:"\u5220\u9664"}},Qt={title:"\u9009\u62E9\u989C\u8272",example:"\u4F8B\u5B50",palette:"\u989C\u8272\u5E93",custom:"\u81EA\u5B9A\u4E49",city:"\u57CE\u5E02\u4E3B\u9898",line:"\u8DEF\u7EBF\u4E3B\u9898",bg:"\u80CC\u666F\u8272",fg:"\u524D\u666F\u8272",white:"\u767D",black:"\u9ED1",seeAll:"\u67E5\u770B\u5B8C\u6574"},en={title:"\u6DFB\u52A0\u8F66\u7AD9",where:"\u76EE\u6807\u4F4D\u7F6E",main:"\u4E3B\u7EBF",branch:"\u652F\u7EBF",external:"\u5916\u90E8\u8DEF\u7EBF",preposition:"\u76F8\u5BF9\u4F4D\u7F6E",before:"\u5148\u4E8E",after:"\u540E\u4E8E",pivot:"\u5B9A\u4F4D\u8F66\u7AD9",pleaseSelect:"\u8BF7\u9009\u62E9...",error:"\u6DFB\u52A0\u8F66\u7AD9\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u60A8\u7684\u9009\u9879\u540E\u91CD\u8BD5\u3002"},tn={title:"\u6DFB\u52A0\u652F\u7EBF\u6216\u5916\u90E8\u8DEF\u7EBF",where:"\u76EE\u6807\u4F4D\u7F6E",new:"\u6DFB\u52A0\u4E00\u6761\u652F\u7EBF",ext:"\u6DFB\u52A0\u4E00\u6761\u5916\u90E8\u8DEF\u7EBF",from:"\u4ECB\u4E8E",to:"\u548C",pleaseSelect:"\u8BF7\u9009\u62E9...",position:"\u4F4D\u7F6E",upper:"\u4E0A\u65B9",lower:"\u4E0B\u65B9"},nn={title:"\u8F66\u7AD9\u81EA\u52A8\u7F16\u53F7",where:"\u76EE\u6807\u4F4D\u7F6E",main:"\u4E3B\u7EBF",branch:"\u652F\u7EBF",external:"\u5916\u90E8\u8DEF\u7EBF",from:"\u8D77\u59CB\u7F16\u53F7",maxLength:"\u7F16\u53F7\u4F4D\u6570",sort:"\u6392\u5E8F\u65B9\u5F0F",asc:"\u5347\u5E8F",desc:"\u964D\u5E8F"},on="\u652F\u7EBF",an="\u6765\u81EA",rn="\u989C\u8272",sn="\u8D21\u732E\u8005",ln="\u9879\u76EE",cn="\u98CE\u683C",un="\u672A\u77E5",dn="\u67E5\u770B",hn="\u8BBF\u95EE",pn={all:"\u5168\u90E8",destination:"\u7EC8\u70B9\u7AD9\u7AD9\u724C",runin:"\u5F53\u524D\u7AD9\u540D\u724C",railmap:"\u7AD9\u53F0\u95E8\u8DEF\u7EBF\u56FE",indoor:"\u8F66\u5185\u8DEF\u7EBF\u56FE"},mn={mtr:"\u6E2F\u94C1",gzmtr:"\u5E7F\u5DDE\u5730\u94C1",shmetro:"\u4E0A\u6D77\u5730\u94C1"},gn="\u60F3\u8981\u81EA\u7531\u5730\u62D6\u52A8\u8F66\u7AD9\uFF1F\u6765\u4F53\u9A8C\u6211\u4EEC\u6700\u65B0\u7684\u5730\u94C1\u7EBF\u8DEF\u56FE\u7ED8\u5236\u5668\uFF0C\u8BBE\u8BA1\u5C5E\u4E8E\u4F60\u7684\u7EBF\u8DEF\u56FE\u5427\uFF01",Sn={WindowHeader:Wt,HeaderActions:$t,DownloadActions:Ut,OpenActions:Vt,DownloadModal:jt,TemplateModal:Yt,GridTabs:Jt,StationAgGrid:Xt,StyleSidePanel:qt,BranchSidePanel:Kt,StationSidePanel:Zt,ColourModal:Qt,AddStationModal:en,NewBranchModal:tn,AutoNumModal:nn,"All projects":"\u6240\u6709\u9879\u76EE","Are you sure to remove station? You cannot undo this action.":"\u60A8\u786E\u5B9A\u522A\u9664\u6B64\u8F66\u7AD9\u5417\uFF1F\u60A8\u4E0D\u80FD\u64A4\u9500\u6B64\u64CD\u4F5C\u3002","Blank project":"\u7A7A\u767D\u9879\u76EE","Branch left end":"\u652F\u7EBF\u5DE6\u7AEF","Branch on the left":"\u5DE6\u4FA7\u652F\u7EBF","Branch on the right":"\u53F3\u4FA7\u652F\u7EBF","Branch right end":"\u652F\u7EBF\u53F3\u7AEF","Branch spacing":"\u652F\u7EBF\u95F4\u8DDD",Branches:on,by:an,"Canvas scale":"\u753B\u9762\u7F29\u653E\u7EA7\u522B","Chinese name":"\u4E2D\u6587\u540D\u79F0",Colour:rn,"Connect to main line":"\u8FDE\u63A5\u81F3\u4E3B\u7EBF","Contribution Wiki":"\u8D21\u732E\u8005\u6307\u5357",Contributors:sn,"Core contributors":"\u6838\u5FC3\u8D21\u732E\u8005","day ago":"\u5929\u524D","days ago":"\u5929\u524D","Disconnect from main line":"\u4ECE\u4E3B\u7EBF\u65AD\u5F00","Edit project info":"\u7F16\u8F91\u9879\u76EE\u4FE1\u606F","Empty template":"\u7A7A\u767D\u6A21\u677F","English name":"\u82F1\u6587\u540D\u79F0","Help and support":"\u5E2E\u52A9\u548C\u652F\u6301","hour ago":"\u5C0F\u6642\u524D","hours ago":"\u5C0F\u6642\u524D","Import project":"\u5BFC\u5165\u9879\u76EE","Just now":"\u521A\u521A","Last modified":"\u4E0A\u6B21\u7F16\u8F91","minute ago":"\u5206\u949F\u524D","minutes ago":"\u5206\u949F\u524D","No branches found":"\u672A\u627E\u5230\u652F\u7EBF","Open selected":"\u6253\u5F00\u9009\u4E2D\u9879\u76EE","Open template":"\u6253\u5F00\u6A21\u677F","Paid area":"\u4ED8\u8D39\u533A\u6362\u4E58","Please select...":"\u8BF7\u9009\u62E9...",Project:ln,"Project selected is invalid or corrupted.":"\u9009\u4E2D\u7684\u9879\u76EE\u65E0\u6548\u6216\u5DF2\u635F\u574F\u3002","Project name":"\u9879\u76EE\u540D\u79F0","Remove project":"\u5220\u9664\u9879\u76EE","Remove station":"\u5220\u9664\u8F66\u7AD9","Resource contributors":"\u8D44\u6E90\u8D21\u732E\u8005","Resource Administrator":"\u8D44\u6E90\u7BA1\u7406\u8005","Saved projects":"\u4FDD\u5B58\u7684\u9879\u76EE","Select canvas":"\u9009\u62E9\u753B\u9762",Style:cn,"Station Chinese name":"\u8F66\u7AD9\u4E2D\u6587\u540D\u79F0","Station English name":"\u8F66\u7AD9\u82F1\u6587\u540D\u79F0","Station name":"\u8F66\u7AD9\u540D\u79F0","Target station":"\u76EE\u6807\u8F66\u7AD9","Terms and conditions":"\u6761\u6B3E\u53CA\u7EC6\u5219","Text on the left":"\u6362\u4E58\u6587\u5B57\u9760\u5DE6","Text on the right":"\u6362\u4E58\u6587\u5B57\u9760\u53F3","Unable to connect to main line.":"\u65E0\u6CD5\u8FDE\u63A5\u81F3\u4E3B\u7EBF\u3002","Unable to disconnect from main line.":"\u65E0\u6CD5\u4ECE\u4E3B\u7EBF\u65AD\u5F00\u3002","Unable to remove this station.":"\u65E0\u6CD5\u5220\u9664\u6B64\u8F66\u7AD9\u3002",Unknown:un,View:dn,Visit:hn,"Visit GitHub":"\u8BBF\u95EEGitHub","You have reached the maximum number of projects.":"\u60A8\u5DF2\u5230\u8FBE\u9879\u76EE\u6570\u91CF\u4E0A\u9650\u3002",", open an issue and join us today!":"\uFF0C\u521B\u5EFA\u4E00\u4E2AIssue\u548C\u52A0\u5165\u6211\u4EEC\uFF01",CanvasType:pn,RmgStyle:mn,rmpPromotion:gn},fn={popoverHeader:"\u4F60\u6B63\u5728\u700F\u89BD<1>{{environment}}</1>\u74B0\u5883\uFF01",popoverBody:"\u9019\u662F\u4E00\u500B\u6E2C\u8A66\u74B0\u5883\uFF0C\u6211\u5011\u7121\u6CD5\u78BA\u4FDD\u5176\u7A69\u5B9A\u6027\u53CA\u76F8\u5BB9\u6027\u3002\u8ACB\u8FD4\u56DE<2>\u751F\u7522\u74B0\u5883</2>\u3002"},En={editStyle:"\u98A8\u683C\u5316\u8A2D\u5B9A"},An={downloads:"\u4E0B\u8F09",configFile:"\u8A2D\u5B9A\u6A94",images:"\u5716\u50CF"},_n={invalidType:"\u7121\u6548\u7684\u6A94\u6848\u7A2E\u985E\uFF01\u53EA\u63A5\u53D7JSON\u7A2E\u985E\u7684\u6A94\u6848\u3002",unknownError:"\u8B80\u53D6\u4E0A\u8F09\u7684\u6A94\u6848\u6642\u767C\u751F\u932F\u8AA4\uFF01\u8ACB\u91CD\u8A66\u3002"},yn={title:"\u4E0B\u8F09\u5716\u50CF",canvas:"\u756B\u9762",transparent:"\u900F\u660E\u80CC\u666F",showBorder:"\u986F\u793A\u908A\u7DAB",scale:"\u7E2E\u653E\u6BD4\u4F8B",format:"\u6A94\u6848\u7A2E\u985E",pleaseSelect:"\u8ACB\u9078\u64C7...",png:"PNG\u5F71\u50CF",svg:"SVG\u5F71\u50CF\uFF08\u7DB2\u9801\u7528\uFF09",downloadOne:"\u4E0B\u8F09\u7576\u524D\u8ECA\u7AD9",downloadAll:"\u4E0B\u8F09\u6240\u6709\u8ECA\u7AD9"},Tn={title:"\u9078\u64C7\u7BC4\u672C"},wn={main:"\u4E3B\u7DAB",branch:"\u652F\u7DAB",external:"\u5916\u90E8\u8DEF\u7DAB",addStation:"\u65B0\u589E\u8ECA\u7AD9",editLine:"\u8DEF\u7DAB\u6BB5\u8A2D\u5B9A"},Cn={num:"\u8ECA\u7AD9\u7DE8\u78BC",interchange:"\u8F49\u8ECA",coline:"\u5171\u7DAB"},bn={header:"\u98A8\u683C\u5316\u8A2D\u5B9A",layout:{title:"\u4F48\u5C40",canvasHeight:"\u756B\u9762\u9AD8\u5EA6",destinationWidth:"\u7D42\u9EDE\u7AD9\u724C\u95CA\u5EA6",runinWidth:"\u7576\u524D\u7AD9\u540D\u724C\u95CA\u5EA6",railmapWidth:"\u5E55\u9580\u8DEF\u7DAB\u5716\u95CA\u5EA6",indoorWidth:"\u8ECA\u5167\u8DEF\u7DAB\u5716\u95CA\u5EA6",verticalPosition:"\u5782\u76F4\u65B9\u5411\u4F4D\u7F6E",branchSpacing:"\u652F\u7DAB\u9593\u8DDD",branchSpacingLoop:"\u5782\u76F4\u908A\u8DDD",padding:"\u8DEF\u7DAB\u5716\u908A\u8DDD",directionGzX:"\u7D42\u9EDE\u7AD9\u6C34\u5E73\u65B9\u5411\u4F4D\u7F6E",directionGzY:"\u7D42\u9EDE\u7AD9\u5782\u76F4\u65B9\u5411\u4F4D\u7F6E"},design:{title:"\u8A2D\u8A08",zhLineName:"\u8DEF\u7DAB\u4E2D\u6587\u540D\u7A31",enLineName:"\u8DEF\u7DAB\u82F1\u6587\u540D\u7A31",lineNum:"\u8DEF\u7DAB\u7DE8\u78BC",direction:"\u884C\u8ECA\u65B9\u5411",left:"\u5411\u5DE6",right:"\u5411\u53F3",platformNum:"\u6708\u53F0\u7DE8\u865F",psdNum:"\u5E55\u9580\u7DE8\u865F",panelType:"\u8CC7\u8A0A\u677F\u6A23\u5F0F",gz1:"1\u865F\u7DDA",gz28:"2/8\u865F\u7DDA\uFF08\u677E\u4E0B\uFF09",gz2otis:"2/8\u865F\u7DDA\uFF08\u5967\u7684\u65AF\uFF09",gz3:"3\u865F\u7DDA",gz1421:"2017\u6A23\u5F0F",gz6:"2010\u6A23\u5F0F",gzgf:"2016\u6A23\u5F0F",gz4:"4\u865F\u7DDA",gz5:"5\u865F\u7DDA",sh:"\u9810\u8A2D",sh2020:"2020\u6A23\u5F0F\uFF08\u9810\u89BD\u7248\uFF09",nameDisplay:"\u986F\u793A\u8ECA\u7AD9\u540D\u7A31",alternatively:"\u4EA4\u932F\u986F\u793A",onOneSide:"\u540C\u4E00\u5074",flip:"\u53CD\u8F49\u4F4D\u7F6E",legacyDestination:"\u65BC\u7D42\u9EDE\u7AD9\u724C\u986F\u793A\u8DEF\u7DAB\u540D\u7A31",overrideTerminal:"\u8986\u5BEB\u7D42\u9EDE\u7AD9",terminalZhName:"\u7D42\u9EDE\u7AD9\u4E2D\u6587\u540D\u7A31",terminalEnName:"\u7D42\u9EDE\u7AD9\u82F1\u6587\u540D\u7A31"},note:{title:"\u5099\u8A3B",add:"\u65B0\u589E\u5099\u8A3B",zhNote:"\u4E2D\u6587\u5099\u8A3B",enNote:"\u82F1\u6587\u5099\u8A3B",positionX:"\u6C34\u5E73\u65B9\u5411\u4F4D\u7F6E",positionY:"\u5782\u76F4\u65B9\u5411\u4F4D\u7F6E",border:"\u986F\u793A\u908A\u7DDA",remove:"\u79FB\u9664\u5099\u8A3B"},loop:{title:"\u74B0\u7DAB",isLoop:"\u8996\u4F5C\u74B0\u7DAB",isBank:"\u5728\u5E55\u9580\u8DEF\u7DAB\u5716\u4E2D\u4EE5\u5E73\u884C\u56DB\u908A\u5F62\u986F\u793A\u74B0\u7DAB",leftRightFactor:"\u5DE6\u53F3\u53C3\u6578",bottomFactor:"\u5E95\u90E8\u53C3\u6578"}},Nn={header:"\u8DEF\u7DAB\u6BB5\u8A2D\u5B9A",branch:{title:"\u652F\u7DAB"},coline:{title:"\u5171\u7DAB",add:"\u65B0\u589E\u5171\u7DAB"},action:{title:"\u52D5\u4F5C",autoNum:"\u8ECA\u7AD9\u81EA\u52D5\u7DE8\u78BC",reverse:"\u65CB\u8F49\u6574\u689D\u8DEF\u7DAB",flip:"\u53CD\u8F49\u6574\u689D\u8DEF\u7DAB"}},vn={info:{title:"\u8ECA\u7AD9\u8CC7\u8A0A",num:"\u8ECA\u7AD9\u7DE8\u78BC",zhSecondary:"\u4E2D\u6587\u7B2C\u4E8C\u540D\u7A31",enSecondary:"\u82F1\u6587\u7B2C\u4E8C\u540D\u7A31"},interchange:{title:"\u8F49\u8ECA",within:"\u540C\u7AD9\u8F49\u8ECA",outStation:"\u51FA\u7AD9\u8F49\u8ECA",outSystem:"\u7CFB\u7D71\u5916\u8F49\u8ECA",addGroup:"\u65B0\u589E\u8F49\u8ECA\u7D44\u5408",noInterchanges:"\u975E\u8F49\u8ECA\u7AD9",add:"\u65B0\u589E\u8F49\u7DAB",copy:"\u88FD\u4F5C\u8F49\u7DAB\u526F\u672C",remove:"\u79FB\u9664\u8F49\u7DAB"},branch:{type:"\u7A2E\u985E",through:"\u76F4\u901A\uFF08\u7121\u9700\u8F49\u8ECA\uFF09",nonThrough:"\u975E\u76F4\u901A\uFF08\u9700\u8F49\u8ECA\uFF09",firstStation:"\u9996\u7AD9",position:"\u4F4D\u7F6E",upper:"\u4E0A\u65B9",lower:"\u4E0B\u65B9"},more:{title:"\u66F4\u591A\u8A2D\u5B9A",service:"\u5217\u8ECA\u985E\u5225",local:"\u666E\u901A",express:"\u5FEB\u901F",direct:"\u76F4\u9054",facility:"\u5468\u908A\u8A2D\u65BD",none:"\u7121",airport:"\u6A5F\u5834",hsr:"\u9AD8\u901F\u9435\u8DEF",railway:"\u570B\u5BB6\u9435\u8DEF",disney:"\u8FEA\u58EB\u5C3C",pivot:"\u74B0\u7DAB\u4E0A\u7684\u6A1E\u7D10\u8ECA\u7AD9",oneLine:"\u5728\u4E00\u884C\u5167\u5C55\u793A\u4E2D\u82F1\u6587\u7AD9\u540D",intPadding:"\u8ECA\u7AD9\u540D\u8207\u63DB\u4E58\u7DDA\u8DEF\u9593\u7684\u9593\u8DDD",intPaddingApplyGlobal:"\u5C07\u7576\u524D\u7684\u9593\u8DDD\u61C9\u7528\u5230\u6240\u6709\u8ECA\u7AD9\u4E0A",apply:"\u61C9\u7528"},footer:{current:"\u8A2D\u5B9A\u70BA\u7576\u524D\u8ECA\u7AD9",remove:"\u79FB\u9664"}},Pn={title:"\u9078\u64C7\u984F\u8272",example:"\u7BC4\u4F8B",palette:"\u984F\u8272\u5EAB",custom:"\u81EA\u8A02",city:"\u57CE\u5E02\u4E3B\u984C",line:"\u8DEF\u7DAB\u4E3B\u984C",bg:"\u80CC\u666F\u8272",fg:"\u524D\u666F\u8272",white:"\u767D",black:"\u9ED1",seeAll:"\u6AA2\u8996\u5B8C\u6574"},Rn={title:"\u65B0\u589E\u8ECA\u7AD9",where:"\u76EE\u6A19\u4F4D\u7F6E",main:"\u4E3B\u7DAB",branch:"\u652F\u7DAB",external:"\u5916\u90E8\u8DEF\u7DAB",preposition:"\u76F8\u5C0D\u4F4D\u7F6E",before:"\u5148\u65BC",after:"\u5F8C\u65BC",pivot:"\u5B9A\u4F4D\u8ECA\u7AD9",pleaseSelect:"\u8ACB\u9078\u64C7...",error:"\u65B0\u589E\u8ECA\u7AD9\u5931\u6557\uFF0C\u8ACB\u6AA2\u67E5\u4F60\u7684\u9078\u64C7\u5F8C\u91CD\u8A66\u3002"},Dn={title:"\u65B0\u589E\u652F\u7DAB\u6216\u5916\u90E8\u8DEF\u7DAB",where:"\u76EE\u6A19\u4F4D\u7F6E",new:"\u65B0\u589E\u4E00\u689D\u652F\u7DAB",ext:"\u65B0\u589E\u4E00\u689D\u5916\u90E8\u8DEF\u7DAB",from:"\u4ECB\u4E4E\u65BC",to:"\u8207",pleaseSelect:"\u8ACB\u9078\u64C7...",position:"\u4F4D\u7F6E",upper:"\u4E0A\u65B9",lower:"\u4E0B\u65B9"},Bn={title:"\u8ECA\u7AD9\u81EA\u52D5\u7DE8\u78BC",where:"\u76EE\u6A19\u4F4D\u7F6E",main:"\u4E3B\u7DAB",branch:"\u652F\u7DAB",external:"\u5916\u90E8\u8DEF\u7DAB",from:"\u8D77\u59CB\u7DE8\u78BC",maxLength:"\u7DE8\u78BC\u4F4D\u6578",sort:"\u6392\u5E8F\u65B9\u5F0F",asc:"\u5347\u5E8F",desc:"\u964D\u5E8F"},On="\u652F\u7DAB",In="\u4F86\u81EA",Mn="\u984F\u8272",Fn="\u8CA2\u737B\u8005",Ln="\u5C08\u6848",zn="\u98A8\u683C",kn="\u672A\u77E5",Gn="\u6AA2\u8996",xn="\u9020\u8A2A",Hn={all:"\u5168\u90E8",destination:"\u7D42\u9EDE\u7AD9\u724C",runin:"\u7576\u524D\u7AD9\u540D\u724C",railmap:"\u5E55\u9580\u8DEF\u7DAB\u5716",indoor:"\u8ECA\u5167\u8DEF\u7DAB\u5716"},Wn={mtr:"\u6E2F\u9435",gzmtr:"\u5EE3\u5DDE\u5730\u9435",shmetro:"\u4E0A\u6D77\u5730\u9435"},$n="\u60F3\u81EA\u7531\u5730\u62D6\u52D5\u8ECA\u7AD9\uFF1F\u5373\u523B\u8A66\u7528\u6211\u5011\u6700\u65B0\u7684\u5730\u9435\u8DEF\u7DAB\u5716\u7E6A\u88FD\u5668\uFF0C\u8A2D\u8A08\u4F60\u7684\u5C08\u5C6C\u8DEF\u7DAB\u5716\u5427\uFF01",Un={WindowHeader:fn,HeaderActions:En,DownloadActions:An,OpenActions:_n,DownloadModal:yn,TemplateModal:Tn,GridTabs:wn,StationAgGrid:Cn,StyleSidePanel:bn,BranchSidePanel:Nn,StationSidePanel:vn,ColourModal:Pn,AddStationModal:Rn,NewBranchModal:Dn,AutoNumModal:Bn,"All projects":"\u6240\u6709\u5C08\u6848","Are you sure to remove station? You cannot undo this action.":"\u78BA\u5B9A\u79FB\u9664\u8A72\u8ECA\u7AD9\u55CE\uFF1F\u6B64\u52D5\u4F5C\u7121\u6CD5\u9084\u539F\u3002","Blank project":"\u7A7A\u767D\u5C08\u6848","Branch left end":"\u652F\u7DAB\u5DE6\u7AEF","Branch on the left":"\u5DE6\u5074\u652F\u7DAB","Branch on the right":"\u53F3\u5074\u652F\u7DAB","Branch right end":"\u652F\u7DAB\u53F3\u7AEF","Branch spacing":"\u652F\u7DAB\u9593\u8DDD",Branches:On,by:In,"Canvas scale":"\u756B\u9762\u7E2E\u653E\u6BD4\u4F8B","Chinese name":"\u4E2D\u6587\u540D\u7A31",Colour:Mn,"Contribution Wiki":"\u8CA2\u737B\u8005\u6307\u5357","Connect to main line":"\u9023\u63A5\u81F3\u4E3B\u7DAB",Contributors:Fn,"Core contributors":"\u6838\u5FC3\u8CA2\u737B\u8005","day ago":"\u65E5\u524D","days ago":"\u65E5\u524D","Disconnect from main line":"\u4ECE\u4E3B\u7DAB\u65B7\u958B","Edit project info":"\u4FEE\u6539\u5C08\u6848\u8CC7\u8A0A","Empty template":"\u7A7A\u767D\u7BC4\u672C","English name":"\u82F1\u6587\u540D\u7A31","Help and support":"\u5E6B\u52A9\u53CA\u652F\u63F4","hour ago":"\u5C0F\u65F6\u524D","hours ago":"\u5C0F\u65F6\u524D","Import project":"\u8B80\u5165\u5C08\u6848","Just now":"\u525B\u624D","Last modified":"\u4E0A\u6B21\u4FEE\u6539","minute ago":"\u5206\u9418\u524D","minutes ago":"\u5206\u9418\u524D","No branches found":"\u672A\u627E\u5230\u652F\u7DAB","Open selected":"\u958B\u555F\u6240\u9078\u5C08\u6848","Open template":"\u958B\u555F\u7BC4\u672C","Paid area":"\u4ED8\u8CBB\u5340\u8F49\u8ECA","Please select...":"\u8ACB\u9078\u64C7...",Project:Ln,"Project selected is invalid or corrupted.":"\u6240\u9078\u5C08\u6848\u7121\u6548\u6216\u8005\u5DF2\u640D\u58DE\u3002","Project name":"\u5C08\u6848\u540D\u7A31","Remove project":"\u79FB\u9664\u5C08\u6848","Remove station":"\u79FB\u9664\u8ECA\u7AD9","Resource contributors":"\u8CC7\u6E90\u8CA2\u737B\u8005","Resource Administrator":"\u8CC7\u6E90\u7BA1\u7406\u8005","Saved projects":"\u5132\u5B58\u7684\u5C08\u6848","Select canvas":"\u9078\u64C7\u756B\u9762",Style:zn,"Station Chinese name":"\u8ECA\u7AD9\u4E2D\u6587\u540D\u7A31","Station English name":"\u8ECA\u7AD9\u82F1\u6587\u540D\u7A31","Station name":"\u8ECA\u7AD9\u540D\u7A31","Target station":"\u76EE\u6A19\u8ECA\u7AD9","Terms and conditions":"\u689D\u6B3E\u53CA\u7D30\u5247","Text on the left":"\u8F49\u4E58\u6587\u5B57\u7F6E\u5DE6","Text on the right":"\u8F49\u4E58\u6587\u5B57\u7F6E\u53F3","Unable to connect to main line.":"\u7121\u6CD5\u9023\u63A5\u81F3\u4E3B\u7DAB\u3002","Unable to disconnect from main line.":"\u7121\u6CD5\u5F9E\u4E3B\u7DAB\u65B7\u958B\u3002","Unable to remove this station.":"\u7121\u6CD5\u79FB\u9664\u8A72\u8ECA\u7AD9\u3002",Unknown:kn,View:Gn,Visit:xn,"Visit GitHub":"\u9020\u8A2AGitHub","You have reached the maximum number of projects.":"\u4F60\u5DF2\u5230\u9054\u5C08\u6848\u6578\u91CF\u4E0A\u9650\u3002",", open an issue and join us today!":"\uFF0C\u65B0\u589E\u4E00\u500BIssue\u4E26\u4E14\u52A0\u5165\u6211\u5011\uFF01",CanvasType:Hn,RmgStyle:Wn,rmpPromotion:$n},Vn=new Ge.Builder().withResource("en",Ht).withResource("zh-Hans",Sn).withResource("zh-Hant",Un).build();v.use(xe).init({lng:_.getLanguage(),fallbackLng:{[f.ChineseCN]:[f.ChineseSimp,f.English],[f.ChineseHK]:[f.ChineseTrad,f.English],[f.ChineseTW]:[f.ChineseTrad,f.English],[f.ChineseTrad]:[f.ChineseHK,f.ChineseTW,f.English],default:[f.English]},resources:Vn}).then(e=>{document.title=e("Rail Map Generator"),document.documentElement.lang=v.language});const Q=e=>{v.changeLanguage(e).then(),document.title=v.t("Rail Map Generator"),document.documentElement.lang=e};_.onLanguageChange(Q);const Lo=e=>{var t,n;return(n=(t=v.languages.map(o=>e[o]).find(o=>o!==void 0))!=null?t:e[f.English])!=null?n:"(Translation Error)"},jn="modulepreload",Yn=function(e){return"/rmg/"+e},U={},Jn=function(t,n,o){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=Yn(r),r in U)return;U[r]=!0;const s=r.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!o)for(let u=a.length-1;u>=0;u--){const E=a[u];if(E.href===r&&(!s||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const h=document.createElement("link");if(h.rel=s?"stylesheet":jn,s||(h.as="script",h.crossOrigin=""),h.href=r,document.head.appendChild(h),s)return new Promise((u,E)=>{h.addEventListener("load",u),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};var L=(e=>(e.MTR="mtr",e.GZMTR="gzmtr",e.SHMetro="shmetro",e))(L||{}),B=(e=>(e.Destination="destination",e.RunIn="runin",e.RailMap="railmap",e.Indoor="indoor",e))(B||{});const zo={mtr:["destination","railmap"],gzmtr:["runin","railmap"],shmetro:["destination","runin","railmap","indoor"]};var ee=(e=>(e.CLOSE="CLOSE",e.STATION="STATION",e.STYLE="STYLE",e.BRANCH="BRANCH",e))(ee||{}),N=(e=>(e.left="left",e.right="right",e))(N||{}),te=(e=>(e.left="l",e.right="r",e))(te||{}),Xn=(e=>(e.through="through",e.nonThrough="nonthrough",e))(Xn||{}),qn=(e=>(e.local="local",e.express="express",e.direct="direct",e))(qn||{}),Kn=(e=>(e.airport="airport",e.disney="disney",e.hsr="hsr",e.railway="railway",e.none="",e))(Kn||{}),ne=(e=>(e.gz1="gz1",e.gz28="gz28",e.gz2otis="gz2otis",e.gz3="gz3",e.gz4="gz4",e.gz5="gz5",e.gz1421="gz1421",e.gz6="gz6",e.gzgf="gzgf",e))(ne||{}),Zn=(e=>(e.sh="sh",e.sh2020="sh2020",e))(Zn||{}),Qn=(e=>(e[e.PASSED=-1]="PASSED",e[e.CURRENT=0]="CURRENT",e[e.FUTURE=1]="FUTURE",e))(Qn||{}),eo=(e=>(e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e))(eo||{}),p=(e=>(e.CANVAS_TO_SHOW="rmg__canvasToShow",e.CANVAS_SCALE="rmg__canvasScale",e.PARAM="rmg__param",e.PARAM_BY_ID="rmg__param:",e.PARAM_REGISTRY="rmg__paramRegistry",e.PARAM_CONFIG_BY_ID="rmg__paramConfig:",e))(p||{}),oe=(e=>(e.APP_LOAD="APP_LOAD",e.STYLE_CHANGE="STYLE_CHANGE",e.OPEN_PARAM="OPEN_PARAM",e.NEW_PARAM="NEW_PARAM",e.UPLOAD_PARAM="UPLOAD_PARAM",e.OPEN_TEMPLATE="OPEN_TEMPLATE",e.REMOVE_PARAM="REMOVE_PARAM",e.UPDATE_PARAM_CONFIG="UPDATE_PARAM_CONFIG",e.ADD_STATION="ADD_STATION",e.REMOVE_STATION="REMOVE_STATION",e.ADD_BRANCH="ADD_BRANCH",e.AUTO_NUMBERING="AUTO_NUMBERING",e.REVERSE_STATIONS="REVERSE_STATIONS",e.CONNECT_BRANCH="CONNECT_BRANCH",e.DISCONNECT_BRANCH="DISCONNECT_BRANCH",e.SELECT_COLOUR="SELECT_COLOUR",e.DOWNLOAD_PARAM="DOWNLOAD_PARAM",e.DOWNLOAD_IMAGES="DOWNLOAD_IMAGES",e))(oe||{});const to={rmgStyle:L.MTR,paramConfig:void 0,canvasScale:1,canvasToShow:Object.values(B),sidePanelMode:ee.CLOSE,selectedStation:"linestart",selectedColine:void 0,selectedBranch:0,isShareTrackEnabled:void 0,globalAlerts:{},isLoading:void 0},ae=He({name:"app",initialState:to,reducers:{setParamConfig:(e,t)=>{e.paramConfig=t.payload},updateParamModifiedTime:(e,t)=>{e.paramConfig&&(e.paramConfig.lastModified=t.payload)},setCanvasScale:(e,t)=>{e.canvasScale=t.payload},setCanvasToShow:(e,t)=>{e.canvasToShow=t.payload},setSidePanelMode:(e,t)=>{e.sidePanelMode=t.payload},setSelectedStation:(e,t)=>{e.selectedStation=t.payload},setSelectedColine:(e,t)=>{e.selectedColine=t.payload},setSelectedBranch:(e,t)=>{e.selectedBranch=t.payload},setIsShareTrackEnabled:(e,t)=>{e.isShareTrackEnabled=t.payload},setGlobalAlert:(e,t)=>{const{status:n,message:o,url:a,linkedApp:r}=t.payload;e.globalAlerts[n]={message:o,url:a,linkedApp:r}},closeGlobalAlert:(e,t)=>{delete e.globalAlerts[t.payload]},startLoading:e=>{e.isLoading=-1},setLoadingProgress:(e,t)=>{e.isLoading=t.payload},stopLoading:e=>{e.isLoading=void 0}}}),{setParamConfig:ko,updateParamModifiedTime:no,setCanvasScale:V,setCanvasToShow:j,setSidePanelMode:Go,setSelectedStation:xo,setSelectedColine:Ho,setSelectedBranch:Wo,setIsShareTrackEnabled:$o,setGlobalAlert:Uo,closeGlobalAlert:Vo,startLoading:jo,setLoadingProgress:Yo,stopLoading:Jo}=ae.actions,oo=ae.reducer,ao=e=>{const t=["linestart"],n=[["linestart"]];let o=0;for(;t.length;){let a=t.shift(),r=n[o].slice(-1)[0]||null;for(r&&a!=="linestart"?n[o].push(a):n[o]=[a];a!=="lineend";){r=a;const s=e[r].children;switch(s.length){case 1:a=s[0];break;case 2:{const l=e[r].branch.right[1];e[r].branch.right[0]==="through"?(n.push([a]),t.push(l)):o===0&&(n.push([r]),t.push(l)),a=s.filter(d=>d!==l)[0];break}}if(n[o].push(a),r===e[a].branch.left[1])break}o++}return n},ro=e=>{const t=["linestart"],n=[["linestart"]];let o=0;for(;t.length;){let a=t.shift(),r=n[o].slice(-1)[0]||null;for(r&&a!=="linestart"?n[o].push(a):n[o]=[a];a!=="lineend";){r=a;const s=e[r].children;switch(s.length){case 1:a=s[0];break;case 2:{const l=e[r].branch.right[1];e[r].branch.right[0]==="through"?(n.push(n[o].slice()),t.push(l)):o===0&&(n.push([r]),t.push(l)),a=s.filter(d=>d!==l)[0];break}}if(n[o].push(a),r===e[a].branch.left[1]&&e[a].branch.left[0]==="nonthrough")break}o++}return n},io=e=>e.length===1?e[0].slice(1,-1):e.reduce((t,n)=>{const o=t.indexOf(n[n.length-1]);return[...t.slice(0,o),...n.slice(1),...t.slice(o+1)]},["lineend"]).slice(0,-1),re="SET_DEPS_STR",ie="SET_BRANCHES",se="SET_ROUTES",le="SET_TPO",so=e=>({type:re,depsStr:e}),lo=e=>({type:ie,branches:e}),co=e=>({type:se,routes:e}),uo=e=>({type:le,tpo:e}),ho=()=>(e,t)=>{const n=t().param.stn_list,o=Object.entries(n).map(([a,r])=>a+r.parents.toString()+r.children.toString()+JSON.stringify(r.branch)).join("");return e(so(o)),o},po=()=>(e,t)=>{console.log("Re-calculating branches...");const n=t().param.stn_list,o=ao(n);return e(lo(o)),o},mo=()=>(e,t)=>{console.log("Re-calculating routes...");const n=t().param.stn_list;e(co(ro(n)))},z=()=>(e,t)=>{const n=t().helper.depsStr,o=e(ho());if(n!==o){e(mo());const a=t().helper.branches,r=e(po());a.toString()!==r.toString()&&(console.log("Re-calculating topology ordering..."),e(uo(io(r))))}},ce="SET_FULL_PARAM",ue="SET_STYLE",de="SET_SVG_HEIGHT",he="SET_SVG_WIDTH",pe="SET_Y_PERCENTAGE",me="SET_BRANCH_SPACING_PCT",ge="SET_PADDING_PERCENTAGE",Se="SET_DIRECTION_INDICATOR_X",fe="SET_DIRECTION_INDICATOR_Y",Ee="SET_THEME",Ae="SET_LINE_NAME",_e="SET_DIRECTION",ye="SET_PLATFORM",Te="SET_LINE_NUM",we="SET_PSD_NUM",Ce="SET_PANEL_TYPE",be="SET_NOTES",Ne="SET_NAME_POSITION",ve="SET_CUSTOMISED_MTR_DESTINATION",Pe="SET_LOOP",Re="SET_LOOP_INFO",De="SET_CURRENT_STATION",Be="SET_STATION",Oe="SET_STATIONS_BULK",Ie="SET_COLINE_BULK",Xo=e=>t=>{t({type:ce,fullParam:e}),t(z())},qo=e=>({type:de,svgHeight:e}),Ko=(e,t)=>({type:he,svgWidth:e,canvas:t}),Zo=e=>({type:ue,style:e}),Qo=e=>({type:pe,yPercentage:e}),ea=e=>({type:me,branchSpacingPct:e}),ta=e=>({type:ge,paddingPercentage:e}),na=e=>({type:Se,directionIndicatorX:e}),oa=e=>({type:fe,directionIndicatorY:e}),aa=e=>({type:Ee,theme:e}),ra=e=>({type:Ae,lineName:e}),ia=e=>({type:_e,direction:e}),sa=e=>({type:ye,platform:e}),la=e=>({type:Te,lineNum:e}),ca=e=>({type:we,psdNum:e}),ua=e=>({type:Ce,panelType:e}),k=e=>({type:be,notes:e}),da=()=>(e,t)=>{const n=t().param.notesGZMTR;e(k(n.concat([["","",10,10,!1]])))},ha=(e,t)=>(n,o)=>{const a=o().param.notesGZMTR;n(k(a.map((r,s)=>s===e?t:r)))},pa=e=>(t,n)=>{const o=n().param.notesGZMTR;t(k(o.filter((a,r)=>r!==e)))},Me=e=>({type:Ne,namePosition:e}),ma=e=>(t,n)=>{const o=n().param.namePosMTR;t(Me({...o,isStagger:e}))},ga=()=>(e,t)=>{const n=t().param.namePosMTR;e(Me({...n,isFlip:!n.isFlip}))},Fe=e=>({type:ve,customisedMtrDestination:e}),Sa=e=>t=>{t(O({bank:!0,left_and_right_factor:0,bottom_factor:1})),t({type:Pe,loop:e})},O=e=>({type:Re,loop_info:e}),fa=e=>(t,n)=>{const o=n().param.loop_info;t(O({...o,bank:e}))},Ea=e=>(t,n)=>{const o=n().param.loop_info;t(O({...o,left_and_right_factor:e}))},Aa=e=>(t,n)=>{const o=n().param.loop_info;t(O({...o,bottom_factor:e}))},_a=e=>(t,n)=>{const o=n().param.customiseMTRDest;t(Fe({...o,isLegacy:e}))},ya=e=>(t,n)=>{const o=n().param.customiseMTRDest;t(Fe({...o,terminal:e}))},Ta=e=>t=>{t({type:De,currentStation:e})},A=(e,t)=>n=>{n({type:Be,stationId:e,station:t}),n(z())},P=e=>t=>{t({type:Oe,stations:e}),t(z())},wa=e=>({type:Ie,coline:e}),Ca=(e=!1)=>(t,n)=>{const{stn_list:o}=n().param,a=Object.keys(o).reduce((r,s)=>({...r,[s]:(l=>{switch(l){case"linestart":return{...o.lineend,parents:[],children:e?o.lineend.parents:o.lineend.parents.slice().reverse(),branch:{left:[],right:o.lineend.branch.left}};case"lineend":return{...o.linestart,parents:e?o.linestart.children:o.linestart.children.slice().reverse(),children:[],branch:{left:o.linestart.branch.right,right:[]}};default:{const d=o[l].children.map(u=>u==="linestart"?"lineend":u==="lineend"?"linestart":u),h=o[l].parents.map(u=>u==="linestart"?"lineend":u==="lineend"?"linestart":u);return{...o[l],parents:e?d:d.reverse(),children:e?h:h.reverse(),branch:{left:o[l].branch.right,right:o[l].branch.left}}}}})(s)}),{});t(P(a))},ba=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,name:t}))},Na=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,secondaryName:t}))},va=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,num:t}))},Pa=(e,t,n)=>(o,a)=>{const r=a().param.stn_list[e],s=r.transfer.info.map(l=>l.slice());if(s.length>t)s[t].push(n);else{for(let l=s.length;l<t;l++)s[l]=[];s[t]=[n]}o(A(e,{...r,transfer:{...r.transfer,info:s}}))},Ra=(e,t,n)=>(o,a)=>{const r=a().param.stn_list[e];if(r.transfer.info.length>t&&r.transfer.info[t].length>n){const s=r.transfer.info.map((l,d)=>d===t?l.filter((h,u)=>u!==n):l);o(A(e,{...r,transfer:{...r.transfer,info:s}}))}},Da=(e,t,n,o)=>(a,r)=>{const s=r().param.stn_list[e];if(s.transfer.info.length>t&&s.transfer.info[t].length>n){const l=s.transfer.info.map((d,h)=>h===t?d.map((u,E)=>E===n?[0,1,2,3,4,5].map(T=>o[T]===void 0?u[T]:o[T]):u):d);a(A(e,{...s,transfer:{...s.transfer,info:l}}))}},Ba=(e,t,n)=>(o,a)=>{const r=a().param.stn_list[e],s=r.transfer.osi_names.map(l=>l.slice());if(s.length>t)s[t]=n;else{for(let l=s.length;l<t;l++)s[l]=["\u8ECA\u7AD9\u540D","Stn Name"];s[t]=n}o(A(e,{...r,transfer:{...r.transfer,osi_names:s}}))},Oa=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,transfer:{...a.transfer,tick_direc:t}}))},Ia=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,transfer:{...a.transfer,paid_area:t}}))},Ma=(e,t,n)=>(o,a)=>{const r=a().param.stn_list[e];o(A(e,{...r,branch:{...r.branch,[t]:[n,r.branch[t][1]]}}))},Fa=(e,t,n)=>(o,a)=>{var l,d,h;const r=a().helper.branches,s={stnId:e,direction:t,first:n};if(t===N.left){const u=(l=r.slice(1).find(E=>E.slice(-1)[0]===e))==null?void 0:l[0];if(u){const E=r[0][r[0].indexOf(u)+1];o(Y([s,{stnId:u,direction:N.right,first:E}]))}}else{const u=(h=(d=r.slice(1).find(E=>E[0]===e))==null?void 0:d.slice(-1))==null?void 0:h[0];if(u){const E=r[0][r[0].indexOf(u)-1];o(Y([s,{stnId:u,direction:N.left,first:E}]))}}},Y=e=>(t,n)=>{const{stn_list:o}=n().param;t(P({...o,[e[0].stnId]:{...o[e[0].stnId],branch:{...o[e[0].stnId].branch,[e[0].direction]:[o[e[0].stnId].branch[e[0].direction][0],e[0].first]}},[e[1].stnId]:{...o[e[1].stnId],branch:{...o[e[1].stnId].branch,[e[1].direction]:[o[e[1].stnId].branch[e[1].direction][0],e[1].first]}}}))},La=(e,t)=>(n,o)=>{var r,s,l;const a=o().helper.branches;if(t===N.left){const d=(r=a.slice(1).find(h=>h.slice(-1)[0]===e))==null?void 0:r[0];d&&n(J(e,d))}else{const d=(l=(s=a.slice(1).find(h=>h[0]===e))==null?void 0:s.slice(-1))==null?void 0:l[0];d&&n(J(d,e))}},J=(e,t)=>(n,o)=>{const{stn_list:a}=o().param;n(P({...a,[e]:{...a[e],parents:a[e].parents.slice().reverse()},[t]:{...a[t],children:a[t].children.slice().reverse()}}))},za=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,facility:t}))},ka=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,services:t}))},Ga=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,loop_pivot:t}))},xa=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,one_line:t}))},Ha=(e,t)=>(n,o)=>{const a=o().param.stn_list[e];n(A(e,{...a,int_padding:t}))},Wa=e=>(t,n)=>{const a=n().param.stn_list[e].int_padding,r=JSON.parse(JSON.stringify(n().param.stn_list));Object.values(r).forEach(s=>{s.int_padding=a}),t(P(r))},$a=(e,t,n=2,o="asc")=>(a,r)=>{var h;const s=r().param.stn_list,d=(h=r().helper.branches[e])==null?void 0:h.slice(1,-1);if(d){const u=d.reduce((E,T,ke)=>({...E,[T]:{...s[T],num:(t+ke*(o==="desc"?-1:1)).toString().padStart(n,"0")}}),s);a(P(u))}},go={svgWidth:{destination:100,runin:100,railmap:100,indoor:100},svg_height:100,style:L.MTR,y_pc:50,padding:10,branchSpacingPct:10,direction:te.left,platform_num:"1",theme:[We.Hongkong,"twl","#E2231A",$e.white],line_name:["\u7DDA","line"],current_stn_idx:"",stn_list:{},namePosMTR:{isStagger:!0,isFlip:!0},customiseMTRDest:{isLegacy:!1,terminal:!1},line_num:"1",psd_num:"1",info_panel_type:ne.gz1,notesGZMTR:[],direction_gz_x:0,direction_gz_y:0,coline:{},loop:!1,loop_info:{bank:!0,left_and_right_factor:1,bottom_factor:1}};function So(e=go,t){switch(t.type){case ce:return t.fullParam;case ue:return{...e,style:t.style};case de:return{...e,svg_height:t.svgHeight};case he:return{...e,svgWidth:{...e.svgWidth,[t.canvas]:t.svgWidth}};case pe:return{...e,y_pc:t.yPercentage};case me:return{...e,branchSpacingPct:t.branchSpacingPct};case ge:return{...e,padding:t.paddingPercentage};case Se:return{...e,direction_gz_x:t.directionIndicatorX};case fe:return{...e,direction_gz_y:t.directionIndicatorY};case Ee:return{...e,theme:t.theme};case Ae:return{...e,line_name:t.lineName};case _e:return{...e,direction:t.direction};case ye:return{...e,platform_num:t.platform};case Te:return{...e,line_num:t.lineNum};case we:return{...e,psd_num:t.psdNum};case Ce:return{...e,info_panel_type:t.panelType};case be:return{...e,notesGZMTR:t.notes};case Ne:return{...e,namePosMTR:t.namePosition};case ve:return{...e,customiseMTRDest:t.customisedMtrDestination};case De:return{...e,current_stn_idx:t.currentStation};case Be:return{...e,stn_list:{...e.stn_list,[t.stationId]:t.station}};case Oe:return{...e,stn_list:t.stations};case Ie:return{...e,coline:t.coline};case Pe:return{...e,loop:t.loop};case Re:return{...e,loop_info:t.loop_info};default:return e}}const fo={depsStr:"",branches:[],routes:[],tpo:[]};function Eo(e=fo,t){switch(t.type){case re:return{...e,depsStr:t.depsStr};case ie:return{...e,branches:t.branches};case se:return{...e,routes:t.routes};case le:return{...e,tpo:t.tpo};default:return e}}const Ao=Ue({app:oo,param:So,helper:Eo}),Le=Ve(),G=je({reducer:Ao,middleware:e=>e().prepend(Le.middleware)}),Ua=()=>Ye(),Va=Je,M=Le.startListening;window.rmgStore=G;const _o=["52PD","linchen1965"],yo=["jealousyge","Jay20081229","clearng-kly","Dingdong2334","C1P918R","AnDanJuneUnderline","GrassRabbit1410","xiany114514","Andy1782010","Thomastzc","Tianxiu11111"];function To(e){const{isOpen:t,onClose:n}=e,{t:o}=q(),a=K("primary.500","primary.300");return c(Xe,{isOpen:t,onClose:n,size:"xl",scrollBehavior:"inside",children:[i(qe,{}),c(Ke,{children:[i(Ze,{children:o("Help and support")}),i(Qe,{}),c(et,{children:[i(b,{as:"h5",size:"sm",mb:2,children:o("Terms and conditions")}),c(tt,{children:[c(w,{children:["The layout of the elements on the signage or rail map, is designed by"," ",c(m,{color:a,href:"https://www.gzmtr.com/",isExternal:!0,children:["Guangzhou Metro Group ",i(g,{as:S})]}),", ",c(m,{color:a,href:"https://www.mtr.com.hk/",isExternal:!0,children:["MTR Corporation ",i(g,{as:S})]})," or ",c(m,{color:a,href:"https://www.shmetro.com/",isExternal:!0,children:["Shanghai Shentong Metro Group ",i(g,{as:S})]}),", depending on your selection. You shall grant appropriate permit or license from the relevant company above before using the generated images for commercial purposes, if it is required to do so.",i("br",{}),"\u6A19\u8A8C\u7248\u6216\u8DEF\u7DDA\u5716\u4E4B\u5143\u7D20\u4E4B\u4F48\u5C40\uFF0C\u57FA\u65BC\u4F60\u6240\u9078\u64C7\u4E4B\u98A8\u683C\uFF0C\u70BA",c(m,{color:a,href:"https://www.gzmtr.com/",isExternal:!0,children:["\u5EE3\u5DDE\u5730\u9435\u96C6\u5718\u516C\u53F8 ",i(g,{as:S})]}),"\uFF0C",c(m,{color:a,href:"https://www.mtr.com.hk/",isExternal:!0,children:["\u6E2F\u9435\u516C\u53F8 ",i(g,{as:S})]}),"\u6216",c(m,{color:a,href:"https://www.shmetro.com/",isExternal:!0,children:["\u4E0A\u6D77\u7533\u901A\u5730\u9435\u96C6\u5718 ",i(g,{as:S})]}),"\u6240\u8A2D\u8A08\u3002\u5728\u7522\u751F\u4E4B\u5716\u50CF\u7528\u4F5C\u5546\u696D\u7528\u9014\u524D\uFF0C\u4F60\u61C9\u5411\u76F8\u95DC\u516C\u53F8\u53D6\u5F97\u9069\u7576\u4E4B\u8A31\u53EF\u8B49\u6216\u6388\u6B0A\u3002"]}),c(w,{children:["The elements including shapes and lines on the image are drawn by"," ",c(m,{color:a,href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",i(g,{as:S})]})," and ",c(m,{color:a,href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",i(g,{as:S})]}),", based on the design standards or rules of the companies listed above. You may use them for any purposes, but it is recommended to state the name and the link of software alongside.",i("br",{}),"\u5716\u50CF\u4E4B\u5143\u7D20\uFF0C\u5305\u62EC\u5716\u5F62\u53CA\u7DDA\u689D\uFF0C\u5747\u7531",c(m,{color:a,href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",i(g,{as:S})]}),"\u53CA",c(m,{color:a,href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",i(g,{as:S})]}),"\u57FA\u65BC\u4E0A\u8FF0\u516C\u53F8\u4E4B\u8A2D\u8A08\u6A19\u6E96\u6216\u6E96\u5247\u7E6A\u88FD\u3002\u4F60\u53EF\u5C07\u5176\u7528\u65BC\u4EFB\u4F55\u76EE\u7684\uFF0C\u4F46\u6211\u5011\u5EFA\u8B70\u4F60\u65BC\u4F7F\u7528\u540C\u6642\u9644\u4EE5\u6211\u5011\u4E4B\u540D\u5B57\u4EE5\u53CA\u8A72\u8EDF\u4EF6\u4E4B\u9023\u7D50\u3002"]}),c(w,{children:["Due to copyright, licensing and other legal restrictions, Rail Map Generator uses"," ",c(m,{color:a,href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["GenYoMin provided by ButTaiwan ",i(g,{as:S})]}),", and Vegur instead of MTRSung and Myriad Pro respectively to display and generate MTR-style signage. You shall grant appropriate permit or license from the manufacturers before using those generated images for commercial purposes.",i("br",{}),"\u7531\u65BC\u8457\u4F5C\u6B0A\u53CA\u5176\u4ED6\u6CD5\u5F8B\u9650\u5236\uFF0C\u9435\u8DEF\u8DEF\u7DDA\u5716\u7522\u751F\u5668\u4F7F\u7528",c(m,{color:a,href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["\u7531ButTaiwan\u63D0\u4F9B\u4E4B\u6E90\u6A23\u660E\u9AD4 ",i(g,{as:S})]}),"\uFF0C\u4EE5\u53CAVegur\uFF0C\u4EE5\u4EE3\u66FF\u6E2F\u9435\u6A23\u5F0F\u6A19\u8A8C\u724C\u6240\u4F7F\u7528\u4E4B\u5730\u9435\u5B8B\u53CAMyriad Pro\u3002\u5728\u7522\u751F\u4E4B\u5716\u50CF\u7528\u4F5C\u5546\u696D\u7528\u9014\u524D\uFF0C\u4F60\u61C9\u5411\u5B57\u578B\u751F\u7522\u5EE0\u5546\u53D6\u5F97\u9069\u7576\u4E4B\u8A31\u53EF\u8B49\u6216\u6388\u6B0A\u3002"]}),c(w,{children:["The exported images in PNG or SVG format may be modified, published, or used for other purposes, under the conditions above.",i("br",{}),"\u8F38\u51FA\u4E4BPNG\u6216SVG\u7A2E\u985E\u4E4B\u5716\u50CF\u53EF\u57FA\u65BC\u4E0A\u8FF0\u689D\u6B3E\uFF0C\u7528\u65BC\u4FEE\u6539\u3001\u767C\u884C\u6216\u5176\u4ED6\u7528\u9014\u3002"]}),c(w,{children:["All flag emojis shown on Windows platforms are designed by"," ",c(m,{color:a,href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",i(g,{as:S})]})," ","\u2013 the open-source emoji and icon project. License:",c(m,{color:a,href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",i(g,{as:S})]}),i("br",{}),"\u65BCWindows\u4F5C\u696D\u7CFB\u7D71\u4E0A\u986F\u793A\u4E4B\u65D7\u5E5FEmoji\u70BA",c(m,{color:a,href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",i(g,{as:S})]}),"\u6240\u8A2D\u8A08\u3002\u8A31\u53EF\u8B49\uFF1A",c(m,{color:a,href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",i(g,{as:S})]})]}),c(w,{children:["We reserve the rights, without prior notice, to modify, add, or remove these terms. The Chinese translation is for reference only. In case of any discrepancy between the English version and the Chinese version, the English version shall prevail.",i("br",{}),"\u6211\u5011\u4FDD\u7559\u4FEE\u6539\u3001\u65B0\u589E\u6216\u79FB\u9664\u4E0A\u8FF0\u689D\u6B3E\u4E4B\u6B0A\u5229\uFF0C\u800C\u7121\u9700\u53E6\u884C\u901A\u77E5\u3002\u4E2D\u6587\u8B6F\u672C\u50C5\u4F9B\u53C3\u8003\uFF0C\u6587\u7FA9\u5982\u8207\u82F1\u6587\u6709\u6B67\u7570\uFF0C\u6982\u4EE5\u82F1\u6587\u672C\u70BA\u6E96\u3002"]})]}),i(b,{as:"h5",size:"sm",mt:3,mb:2,children:o("Contributors")}),i(b,{as:"h6",size:"xs",my:1,children:o("Core contributors")}),c(nt,{children:[c(R,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/wongchito","_blank"),cursor:"pointer",children:[i(D,{src:"https://github.com/wongchito.png",size:"lg",my:2,ml:-1,mr:2}),c(C,{display:"block",children:[i(y,{fontSize:"lg",fontWeight:"bold",mb:1,children:"Chito Wong"}),i(y,{fontSize:"sm",children:"Project initiator"}),i(y,{fontSize:"sm",children:"Author of MTR and Guangzhou Metro styles"})]})]}),c(R,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/thekingofcity","_blank"),cursor:"pointer",children:[i(D,{src:"https://github.com/thekingofcity.png",size:"lg",my:2,ml:-1,mr:2}),c(C,{display:"block",children:[i(y,{fontSize:"lg",fontWeight:"bold",mb:1,children:"thekingofcity"}),i(y,{fontSize:"sm",children:"Author of Shanghai Metro style"}),i(y,{fontSize:"sm",children:"Desktop version (Electron) maintainer"})]})]})]}),i(b,{as:"h6",size:"xs",my:1,children:o("Resource contributors")}),c(ot,{wrap:"wrap",children:[_o.map(r=>c(R,{size:"lg",mb:1,mr:1,flex:"100%",onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${r}`,"_blank"),cursor:"pointer",children:[i(D,{src:`https://github.com/${r}.png`,size:"xs",ml:-1,mr:2}),i(C,{children:r}),i(C,{flexGrow:1}),i(C,{children:i(y,{fontSize:"sm",children:o("Resource Administrator")})})]},r)),yo.map(r=>c(R,{size:"lg",mb:1,mr:1,onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${r}`,"_blank"),cursor:"pointer",children:[i(D,{src:`https://github.com/${r}.png`,size:"xs",ml:-1,mr:2}),i(C,{children:r})]},r))]}),c(y,{children:[o("Visit")," ",c(m,{color:a,href:"https://github.com/railmapgen/rmg/wiki/How-to-add-color-palette-and-line-templates",isExternal:!0,children:[o("Contribution Wiki")," ",i(g,{as:S})]}),o(", open an issue and join us today!")]})]}),i(at,{children:i(rt,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg","_blank"),children:o("Visit GitHub")})})]})]})}function wo(){const{t:e}=q(),t=K("primary.500","primary.300"),[n,o]=F.exports.useState(!1),a=_.getEnv(),r=_.getAppVersion(),s=async h=>{_.setLanguage(h),Q(h)},l=c(W,{i18nKey:"WindowHeader.popoverHeader",environment:a,children:["You're on ",{environment:a}," environment!"]}),d=c(W,{i18nKey:"WindowHeader.popoverBody",children:["This is a testing environment where we don't guarantee the stability and compatibility. Please switch back to"," ",c(m,{color:t,href:"https://railmapgen.github.io"+window.location.pathname,isExternal:!0,children:["Production environment ",i(g,{as:S})]}),"."]});return c(it,{children:[i(b,{as:"h4",size:"md",children:e("Rail Map Generator")}),i(st,{environment:a,version:r,popoverHeader:a===x.PRD?void 0:l,popoverBody:a===x.PRD?void 0:d}),c(lt,{ml:"auto",children:[c(ct,{children:[i(ut,{as:H,icon:i(dt,{}),variant:"ghost",size:"sm"}),c(ht,{children:[i(I,{onClick:()=>s(f.English),children:"English"}),i(I,{onClick:()=>s(f.ChineseSimp),children:"\u7B80\u4F53\u4E2D\u6587"}),i(I,{onClick:()=>s(f.ChineseTrad),children:"\u7E41\u9AD4\u4E2D\u6587"})]})]}),i(H,{size:"sm",variant:"ghost","aria-label":"Help",icon:i(pt,{}),onClick:()=>o(!0)})]}),i(To,{isOpen:n,onClose:()=>o(!1)})]})}const Co=F.exports.lazy(()=>Jn(()=>import("./app-router.43bb02fc.js").then(e=>e.a),["assets/app-router.43bb02fc.js","assets/vendor.f6e5a06d.js"]));function bo(){const e="/rmg/";return i(F.exports.StrictMode,{children:i(mt,{store:G,children:i(gt,{theme:St,children:i(ft,{basename:e,children:c(Et,{children:[i(wo,{}),c(At,{children:[i($,{path:"/",element:i(_t,{suspenseFallback:i(yt,{isIndeterminate:!0}),allowReset:!0,children:i(Co,{})})}),i($,{path:"*",element:i(Tt,{to:"/"})})]})]})})})})})}Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function No(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}const vo=()=>{const e=[];return ze(t=>t.startsWith(p.PARAM_CONFIG_BY_ID),(t,n)=>{const o=t.slice(p.PARAM_CONFIG_BY_ID.length);if(n)try{const a=JSON.parse(n);e.push({...a,id:o})}catch(a){e.push({id:o})}else e.push({id:o})}),console.log("loadParamRegistry():: Found param config in localStorage",e.map(t=>t.id)),e},Po=()=>{let e=window.localStorage.getItem(p.PARAM);if(e===null&&(e=window.localStorage.getItem("rmgParam"),window.localStorage.removeItem("rmgParam"),window.localStorage.removeItem("rmgParamRedux")),e!==null){const t=Z();console.log("upgradeLegacyParam():: Found legacy param. Assigning ID:",t),window.localStorage.setItem(p.PARAM_BY_ID+t,e),window.localStorage.removeItem(p.PARAM)}},ja=()=>{const e=vo(),t=[];return ze(n=>n.startsWith(p.PARAM_BY_ID),n=>{const o=n.slice(p.PARAM_BY_ID.length),a=e.find(r=>r.id===o);a?t.push(a):t.push({id:o})}),console.log("getParamRegistry():: Actual param found in localStorage",t.map(n=>n.id)),e.filter(n=>t.every(o=>o.id!==n.id)).forEach(n=>window.localStorage.removeItem(p.PARAM_CONFIG_BY_ID+n.id)),t},ze=(e,t)=>{let n=0;for(;n<window.localStorage.length;){const o=window.localStorage.key(n);o!==null&&e(o)&&t(o,window.localStorage.getItem(o)),n++}},Ya=(e,t)=>{const n=Z();return window.localStorage.setItem(p.PARAM_BY_ID+n,e),window.localStorage.setItem(p.PARAM_CONFIG_BY_ID+n,JSON.stringify({name:t,lastModified:Date.now()})),n},Ro=e=>{try{let t=window.localStorage.getItem(p.CANVAS_SCALE);if(t==null){const o=window.localStorage.getItem("rmgScale");o!=null&&(t=o,console.log("Migrating canvas scale from old key..."),window.localStorage.setItem(p.CANVAS_SCALE,t),window.localStorage.removeItem("rmgScale"))}const n=Number(t);n>=.1&&e.dispatch(V(n))}catch(t){console.warn("Error in reading canvas scale. Initiating as 1...",t),e.dispatch(V(1))}},Do=e=>{try{let t=window.localStorage.getItem(p.CANVAS_TO_SHOW);if(t==null){const n=window.localStorage.getItem("rmgCanvas");n!=null&&(t=n,console.log("Migrating canvas to show from old key..."),window.localStorage.setItem(p.CANVAS_TO_SHOW,t),window.localStorage.removeItem("rmgCanvas"))}if(t!==null){if(Object.values(B).includes(t)){e.dispatch(j([t]));return}const n=JSON.parse(t);if(Array.isArray(n)){e.dispatch(j(n));return}}}catch(t){console.warn("Error in reading canvas to show. Initiating as all...",t)}},Bo=e=>{Po(),Ro(e),Do(e),M({predicate:(t,n,o)=>n.app.canvasScale.toString()!==o.app.canvasScale.toString(),effect:(t,n)=>{window.localStorage.setItem(p.CANVAS_SCALE,n.getState().app.canvasScale.toString())}}),M({predicate:(t,n,o)=>n.app.canvasToShow.toString()!==o.app.canvasToShow.toString(),effect:(t,n)=>{window.localStorage.setItem(p.CANVAS_TO_SHOW,JSON.stringify(n.getState().app.canvasToShow))}}),M({predicate:(t,n,o)=>JSON.stringify(n.param)!==JSON.stringify(o.param),effect:Oo})},Oo=(e,t)=>{var a;const{id:n,...o}=(a=t.getState().app.paramConfig)!=null?a:{};if(n){const r=window.localStorage.getItem(p.PARAM_BY_ID+n),s=JSON.stringify(t.getState().param);if(r!==s){console.log("ListenerMiddleware:: Writing param and paramConfig to localStorage, ID="+n),window.localStorage.setItem(p.PARAM_BY_ID+n,s);const l=Date.now();t.dispatch(no(l)),window.localStorage.setItem(p.PARAM_CONFIG_BY_ID+n,JSON.stringify({...o,lastModified:l}))}else console.log("ListenerMiddleware:: Do not write to localStorage as no changes in param, ID="+n)}};No();document.head.append(...["share",...Object.values(B)].map(e=>{const t=document.createElement("link");return t.rel="stylesheet",t.id="css_"+e,t}));let X;const Io=()=>{X=wt(document.getElementById("root")),X.render(i(bo,{}))};_.ready().then(()=>{Bo(G),Io(),_.injectCss(),_.event(oe.APP_LOAD,{isStandaloneWindow:_.isStandaloneWindow})}).catch(e=>{const t=document.querySelector("#root");t&&(t.innerHTML=`<div>
                Failed to load Rail Map Generator!
                <br />
                ${e.toString()}
                <br />
                Please contact us in 
                <a href="https://github.com/railmapgen/rmg" target="_blank" rel="noreferrer">GitHub</a>.
            </div>`)});export{ha as $,ta as A,Xn as B,na as C,N as D,oe as E,Kn as F,oa as G,Zn as H,ra as I,la as J,sa as K,ca as L,ua as M,ia as N,ma as O,ne as P,ga as Q,L as R,te as S,_a as T,ya as U,aa as V,Sa as W,fa as X,Ea as Y,Aa as Z,Jn as _,Mo as __vite_legacy_guard,Ua as a,pa as a0,da as a1,P as a2,wa as a3,Go as a4,ee as a5,xo as a6,Ta as a7,Uo as a8,$a as a9,Ca as aa,Yo as ab,Jo as ac,ko as ad,j as ae,V as af,Zo as ag,Wo as ah,Vo as ai,Lo as aj,jo as ak,Ya as al,ja as am,p as an,Xo as ao,$o as ap,B as aq,eo as ar,Qn as as,va as b,ba as c,Na as d,Oa as e,Ba as f,Ia as g,Pa as h,Da as i,qn as j,ka as k,za as l,Ga as m,xa as n,Ha as o,Wa as p,Ma as q,Ra as r,Fa as s,La as t,Va as u,zo as v,Ko as w,qo as x,Qo as y,ea as z};
